
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="2183bffa-0a30-5283-9f4d-2d83ae230724")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,274872,e=>{"use strict";e.s(["SsrGuard",()=>s]);var t=e.i(421593);function s(e){let{children:s,forceServerRender:a}=e,[n,r]=(0,t.useState)(null!=a&&a);return((0,t.useEffect)(()=>{r(!0)},[]),n)?s:null}},630588,e=>{"use strict";e.s(["Toaster",()=>i]);var t=e.i(247276),s=e.i(211959);e.i(685846);var a=e.i(649717),n=e.i(408430),r=e.i(533431);let i=e=>{let{...i}=e,{theme:o}=(0,n.useTheme)();return(0,t.jsx)(r.Toaster,{theme:o,className:"toaster group",toastOptions:{classNames:{toast:(0,s.cn)("group toast bg-popover rounded-2xl border-0 shadow-sm","w-fit min-w-[200px] left-0 right-0 sm:mx-auto","ring-1 ring-inset ring-input-border","p-3.5 h-fit gap-3"),title:"text-primary font-bold",icon:"ms-0 me-0",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},icons:{error:(0,t.jsx)(a.TriangleAlert,{size:18})},...i})}},23404,e=>{"use strict";e.s(["WebVitals",()=>r]);var t=e.i(486492),s=e.i(415422);let a=new Set,n=new Set(["TTFB","FCP","FID","LCP"]);function r(){return(0,s.useReportWebVitals)(i),null}function i(e){if(!(!n.has(e.name)||a.has(e.id))){if(a.add(e.id),"TTFB"===e.name)return void function(e){var s;let a=null==(s=e.entries)?void 0:s[0];a instanceof PerformanceNavigationTiming&&(0,t.logMetric)("webVitals",{type:"wv_ttfb",valueMs:e.value,dnsLookup:a.domainLookupEnd-a.domainLookupStart,tcpHandshake:a.connectEnd-a.connectStart,tlsHandshake:a.connectEnd-a.secureConnectionStart,domParsing:a.domComplete-a.domInteractive,decodedBodySize:a.decodedBodySize||0,encodedBodySize:a.encodedBodySize||0})}(e);(0,t.logMetric)("webVitals",{type:"wv_"+e.name.toLowerCase(),valueMs:e.value})}}},450357,e=>{"use strict";e.s(["DirectionProvider",()=>o]);var t=e.i(247276),s=e.i(920958),a=e.i(101042),n=e.i(774471),r=e.i(421593),i=e.i(840580);function o(e){let{children:o}=e,[c,d]=(0,r.useState)(()=>(0,i.getLocaleDirection)(a.default.language)),u=(0,s.useLogEvent)();return(0,r.useEffect)(()=>{l((0,i.getLocaleDirection)(a.default.language)),document.documentElement.setAttribute("lang",a.default.language);let e=e=>{a.default.isInitializing||u("locale_changed",e,{languages:a.default.languages.join(", "),location:"src/lib/locales/direction-provider"});let t=(0,i.getLocaleDirection)(e);document.documentElement.setAttribute("lang",e),l(t),d(t)};return a.default.on("languageChanged",e),()=>a.default.off("languageChanged",e)},[u]),(0,t.jsx)(n.Direction.Provider,{dir:c,children:o})}function l(e){"rtl"===e?document.body.dir=e:document.body.dir=""}},629826,e=>{"use strict";e.s(["MixpanelProvider",()=>c,"initMixpanel",()=>i,"initMixpanelForTests",()=>o,"useMixpanelInit",()=>l]),e.i(916390);var t=e.i(572848),s=e.i(425296),a=e.i(762490),n=e.i(633918),r=e.i(421593);function i(){Object.prototype.hasOwnProperty.call(a.default,"get_distinct_id")||a.default.init("ea93da913ddb66b6372b89d97b1029ac",{autocapture:!0,debug:!1,loaded:function(e){e.get_distinct_id()}})}function o(){a.default.init("ea93da913ddb66b6372b89d97b1029ac",{autocapture:!1,debug:!0,opt_out_tracking_by_default:!0})}function l(){let e=(0,t.useSession)(),o=(0,s.useSubscriptionsStore)(n.prop("bestSubscription"));(0,r.useEffect)(()=>{i()},[]),(0,r.useEffect)(()=>{e.user&&(a.default.identify(e.user.userId),a.default.people.set({email:e.user.email,country:e.countryCode}))},[e]),(0,r.useEffect)(()=>{o&&a.default.people.set({bestSubscription:o})},[o])}function c(e){let{children:t}=e;return l(),t}},502741,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=function(e){let{html:t,height:s=null,width:r=null,children:i,dataNtpc:o=""}=e;return(0,n.useEffect)(()=>{o&&performance.mark("mark_feature_usage",{detail:{feature:"next-third-parties-".concat(o)}})},[o]),(0,a.jsxs)(a.Fragment,{children:[i,t?(0,a.jsx)("div",{style:{height:null!=s?"".concat(s,"px"):"auto",width:null!=r?"".concat(r,"px"):"auto"},"data-ntpc":o,dangerouslySetInnerHTML:{__html:t}}):null]})};let a=e.r(247276),n=e.r(421593)},858211,(e,t,s)=>{t.exports=e.r(703052)},606283,(e,t,s)=>{"use strict";var a=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(s,"__esModule",{value:!0}),s.sendGTMEvent=void 0,s.GoogleTagManager=function(e){let{gtmId:t,gtmScriptUrl:s="https://www.googletagmanager.com/gtm.js",dataLayerName:a="dataLayer",auth:l,preview:c,dataLayer:d,nonce:u}=e;o=a;let h="dataLayer"!==a?"&l=".concat(a):"";return(0,r.useEffect)(()=>{performance.mark("mark_feature_usage",{detail:{feature:"next-third-parties-gtm"}})},[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.default,{id:"_next-gtm-init",dangerouslySetInnerHTML:{__html:"\n      (function(w,l){\n        w[l]=w[l]||[];\n        w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});\n        ".concat(d?"w[l].push(".concat(JSON.stringify(d),")"):"","\n      })(window,'").concat(a,"');")},nonce:u}),(0,n.jsx)(i.default,{id:"_next-gtm","data-ntpc":"GTM",src:"".concat(s,"?id=").concat(t).concat(h).concat(l?"&gtm_auth=".concat(l):"").concat(c?"&gtm_preview=".concat(c,"&gtm_cookies_win=x"):""),nonce:u})]})};let n=e.r(247276),r=e.r(421593),i=a(e.r(858211)),o="dataLayer";s.sendGTMEvent=(e,t)=>{let s=t||o;window[s]=window[s]||[],window[s].push(e)}},582891,(e,t,s)=>{"use strict";let a;var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(s,"__esModule",{value:!0}),s.GoogleAnalytics=function(e){let{gaId:t,debugMode:s,dataLayerName:n="dataLayer",nonce:l}=e;return void 0===a&&(a=n),(0,i.useEffect)(()=>{performance.mark("mark_feature_usage",{detail:{feature:"next-third-parties-ga"}})},[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.default,{id:"_next-ga-init",dangerouslySetInnerHTML:{__html:"\n          window['".concat(n,"'] = window['").concat(n,"'] || [];\n          function gtag(){window['").concat(n,"'].push(arguments);}\n          gtag('js', new Date());\n\n          gtag('config', '").concat(t,"' ").concat(s?",{ 'debug_mode': true }":"",");")},nonce:l}),(0,r.jsx)(o.default,{id:"_next-ga",src:"https://www.googletagmanager.com/gtag/js?id=".concat(t),nonce:l})]})},s.sendGAEvent=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];if(void 0===a)return void console.warn("@next/third-parties: GA has not been initialized");window[a]?window[a].push(arguments):console.warn("@next/third-parties: GA dataLayer ".concat(a," does not exist"))};let r=e.r(247276),i=e.r(421593),o=n(e.r(858211))},915209,e=>{"use strict";e.s(["NuqsAdapter",()=>n],915209);var t=e.i(667335),s=e.i(712548),a=e.i(421593),n=(0,t.createAdapterProvider)(function(){let e=(0,s.useRouter)(),n=(0,s.useSearchParams)(),[r,i]=(0,a.useOptimistic)(n);return{searchParams:r,updateUrl:(0,a.useCallback)((s,n)=>{(0,a.startTransition)(()=>{n.shallow||i(s);let a=function(e,s){var a;let n=null!=(a=e.split("#")[0])?a:"";return n+(0,t.renderQueryString)(s)+location.hash}(location.origin+location.pathname,s);(0,t.debug)("[nuqs queue (app)] Updating url: %s",a),("push"===n.history?history.pushState:history.replaceState).call(history,null,"",a),n.scroll&&window.scrollTo(0,0),n.shallow||e.replace(a,{scroll:!1})})},[]),rateLimitFactor:3}})},540512,e=>{"use strict";e.s(["useListCollections",()=>r]),e.i(690654);var t=e.i(129876),s=e.i(132841),a=e.i(364778);e.i(298616);var n=e.i(910503);function r(){var e;let r=(0,s.useIsActiveGrokBusinessSession)(),{currentTeam:i}=(0,t.useEnterprise)(),o=null!=(e=null==i?void 0:i.teamId)?e:"";return(0,n.useQuery)({queryKey:["teams",o,"collections"],enabled:!!o&&r,queryFn:async()=>{var e;return null!=(e=(await a.grokForTeamsApi.grokForTeamsListTeamCollections({teamId:null!=o?o:""})).collections)?e:[]}})}},532876,e=>{"use strict";e.s(["Loadout",()=>of],532876),e.i(303583);var t,s,a=e.i(247276);e.i(575179);var n=e.i(867846),r=e.i(763578),i=e.i(50636),o=e.i(211959);e.i(685846);var l=e.i(111041);let c=(0,l.default)("Construction",[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]]);var d=e.i(189596),u=e.i(649717),h=e.i(852640),m=e.i(421593),p=e.i(128803),f=e.i(724499),g=e.i(290583);function x(){let e=(0,i.useFeatureFlags)(),{route:t}=(0,f.useRouting)(),s=(0,m.useMemo)(()=>{let t=_.safeParse(e.BANNER.value);if(t.success)return t.data},[e.BANNER.value]),[n,l]=(0,p.useLocalStorage)("banner-".concat(null==s?void 0:s.sentAt),!1),g=(0,m.useMemo)(()=>{if(s)switch(s.type){case"log":return(0,a.jsx)(d.Info,{className:"me-0.5 flex-shrink-0",size:18});case"warn":return(0,a.jsx)(c,{className:"me-0.5 flex-shrink-0",size:18});case"error":return(0,a.jsx)(u.TriangleAlert,{className:"me-0.5 flex-shrink-0",size:18})}},[s]),x=(0,m.useCallback)(()=>{l(!0)},[l]);if(!n&&s&&s.message&&(null==s||!s.pages||s.pages.includes(null==t?void 0:t.page)))return(0,a.jsxs)("div",{className:(0,o.cn)("absolute top-4 right-1/2 translate-x-1/2 z-[9999]","flex flex-row items-center gap-3","bg-popover rounded-2xl ring-1 ring-inset ring-toggle-border","mx-0 py-3 pl-4 pr-3 min-w-[300px] max-w-full lg:max-w-3/5 w-fit"),children:[g,s.message,(0,a.jsx)(r.Button,{className:"ms-auto",variant:"ghostSecondary",size:"iconSm",onClick:x,children:(0,a.jsx)(h.X,{size:18})})]})}let _=g.z.object({sentAt:g.z.string().catch(new Date().toISOString()),type:g.z.union([g.z.literal("log"),g.z.literal("warn"),g.z.literal("error")]).catch("error"),message:g.z.string().catch(""),pages:g.z.array(g.z.string()).optional().catch([])}).catch({sentAt:new Date().toISOString(),type:"log",message:""});var v=e.i(572848),y=e.i(274872),b=e.i(355524);e.i(31157);var k=e.i(605113),j=e.i(243634),w=e.i(486492),S=e.i(228337),T=e.i(814515),N=e.i(438874),C=e.i(470753),I=e.i(712548),D=e.i(633918);e.i(18545);var E=e.i(116212),M=e.i(533431),O=e.i(196978),P=e.i(76756),L=e.i(781186),A=e.i(132841),R=e.i(12465);e.i(916390);var K=e.i(443696),F=e.i(862428),z=e.i(44320),B=e.i(859322),G=e.i(410289),U=e.i(559326),W=e.i(944408);function q(e){let{options:t,value:s,onChange:n,placeholder:i,emptyPlaceholder:l,className:c,popoverClassName:d,isLoading:u=!1,disabled:h=!1}=e,[p,f]=m.useState(!1),g=e=>{n(s.filter(t=>t!==e))};return(0,a.jsx)("div",{className:"w-full",children:(0,a.jsxs)(B.Popover,{open:p,onOpenChange:f,modal:!0,children:[(0,a.jsx)(B.PopoverTrigger,{className:(0,o.cn)("flex w-full min-h-[57px] rounded-md border border-input-border bg-transparent text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",c),disabled:h,"aria-expanded":p,children:(0,a.jsxs)("div",{className:"flex justify-between items-center flex-1",children:[(0,a.jsx)("div",{className:"flex gap-2 flex-1 items-center px-3 py-[14px] w-full flex-wrap",children:0===s.length?(0,a.jsx)("span",{className:"text-muted-foreground truncate",children:i}):s.map(e=>{let s=null==t?void 0:t.find(t=>t.value===e);return(0,a.jsxs)(F.Badge,{variant:"secondary",className:"flex items-center gap-2 font-medium text-sm whitespace-nowrap",children:[(0,a.jsx)("span",{children:null==s?void 0:s.label}),(0,a.jsx)(r.Button,{size:"iconXs",variant:"ghost",rounded:!0,onClick:t=>{t.stopPropagation(),g(e)},className:"p-1 h-5 w-5 text-fg-tertiary -mr-1",children:(0,a.jsx)(R.XIcon,{className:"h-4 w-4"})})]},e)})}),(0,a.jsx)("div",{className:"shrink-0 px-4",children:(0,a.jsx)(W.ChevronDownIcon,{className:(0,o.cn)("size-3 text-secondary transition-transform",{"rotate-180":p})})})]})}),(0,a.jsx)(B.PopoverContent,{className:(0,o.cn)("w-full p-0",d),align:"start",asChild:!0,children:(0,a.jsxs)(z.Command,{children:[(0,a.jsx)(z.CommandInput,{autoFocus:!1,placeholder:i}),(0,a.jsx)(z.CommandList,{children:u?(0,a.jsxs)("div",{className:"flex flex-col gap-2 items-start justify-center py-1",children:[(0,a.jsx)(G.Skeleton,{className:"h-6 w-full rounded-lg"}),(0,a.jsx)(G.Skeleton,{className:"h-6 w-full rounded-lg"}),(0,a.jsx)(G.Skeleton,{className:"h-6 w-full rounded-lg"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(z.CommandEmpty,{className:"text-fg-secondary text-center text-sm w-full flex items-center h-full justify-center p-4",children:l}),null==t?void 0:t.map(e=>(0,a.jsxs)(z.CommandItem,{value:e.value,keywords:[e.label],onSelect:()=>{var t;return t=e.value,void(s.includes(t)?g(t):n([...s,t]))},children:[(0,a.jsx)(U.Check,{className:(0,o.cn)("mr-2 h-4 w-4",s.includes(e.value)?"opacity-100":"opacity-0")}),e.label]},e.value))]})})]})})]})})}var V=e.i(486647),H=e.i(694193),Y=e.i(328788),X=e.i(364778),Q=e.i(227881);e.i(298616);var J=e.i(910503),Z=e.i(681401),Z=Z;e.i(690654);var $=e.i(129876),ee=e.i(679322),et=e.i(723008),es=e.i(500751),ea=e.i(221891);function en(e){let{shareUrl:t,isLoading:s,isDisabled:n}=e,{t:i}=(0,E.useTranslation)("base"),[o,l]=(0,m.useState)(!1),c=(0,m.useCallback)(async()=>{n||s||!t||(l(!0),(0,ea.copyAndToast)(t,i("copy-link-button.success","Link copied to clipboard")))},[n,s,t,i]);return(0,m.useEffect)(()=>{if(o){let e=setTimeout(()=>{l(!1)},2e3);return()=>clearTimeout(e)}},[o]),(0,a.jsxs)(r.Button,{size:"md",variant:"outline",disabled:n||s||!t,onClick:c,className:"flex items-center gap-2",children:[(0,a.jsx)(es.PopInOut,{children:o?(0,a.jsx)(U.Check,{className:"size-4 text-fg-positive"}):s?(0,a.jsx)(et.Spinner,{size:"sm"}):(0,a.jsx)(ee.LinkIcon,{className:"size-4 text-fg-secondary"})},s?"spinner":o?"check":"link"),(0,a.jsx)("span",{children:o?i("copy-link-button.copied","Copied!"):i("copy-link-button.label","Copy Link")})]})}function er(){let e=(0,Q.useShareStore)(D.prop("shareDialogIsOpen")),t=(0,Q.useShareStore)(D.prop("dialogProps"));return t?(0,a.jsx)(ei,{shareDialogIsOpen:e,...t}):null}function ei(e){let{title:t,disclaimer:s,allowUserSpecificSharing:n,onSave:r,useFetchData:i,shareDialogIsOpen:l}=e,{t:c}=(0,E.useTranslation)("base"),{data:d,isLoading:h,isError:p}=i(),f=(0,Y.useMobileSize)(),[g,x]=(0,m.useState)({sharePublicly:!1,sharedWithTeam:!1,sharedWithUserIds:[]}),[_,v]=(0,m.useState)({sharePublicly:!1,sharedWithTeam:!1,sharedWithUserIds:[]}),[y,b]=(0,m.useState)(!1),[k,j]=(0,m.useState)(!1),S=(0,m.useMemo)(()=>{var e;return _.sharePublicly||_.sharedWithTeam||!!(null==(e=_.sharedWithUserIds)?void 0:e.length)},[_]),T=(0,m.useCallback)(()=>{Q.useShareStore.getState().closeShareDialog()},[]),N=(0,m.useCallback)(e=>!e&&T(),[T]),C=(0,m.useCallback)(async e=>{j(!0);try{await r({...d,...e}),x(e)}catch(t){v(g);let e=c("share-dialog.save-failed","Failed to save share settings");(0,w.logError)("share-dialog:handleSave",e),M.toast.error(e)}finally{j(!1)}},[r,g,c,d]);(0,m.useEffect)(()=>{Z.default(_,g)||k||C(_)},[_,g,k,C]),(0,m.useEffect)(()=>{d&&v({sharePublicly:d.sharePublicly||!1,sharedWithTeam:d.sharedWithTeam||!1,sharedWithUserIds:d.sharedWithUserIds||[]})},[d]);let I=(0,m.useCallback)(e=>{let t={..._,...e};e.sharePublicly&&!0===e.sharePublicly&&(t.sharedWithTeam=!1,t.sharedWithUserIds=[]),e.sharedWithTeam&&!0===e.sharedWithTeam&&(t.sharePublicly=!1,t.sharedWithUserIds=[]),e.sharedWithUserIds&&e.sharedWithUserIds.length>0&&(t.sharePublicly=!1,t.sharedWithTeam=!1),v(t)},[_]);return(0,m.useEffect)(()=>{h||y||(v({sharePublicly:(null==d?void 0:d.sharePublicly)||!1,sharedWithTeam:(null==d?void 0:d.sharedWithTeam)||!1,sharedWithUserIds:(null==d?void 0:d.sharedWithUserIds)||[]}),x({sharePublicly:(null==d?void 0:d.sharePublicly)||!1,sharedWithTeam:(null==d?void 0:d.sharedWithTeam)||!1,sharedWithUserIds:(null==d?void 0:d.sharedWithUserIds)||[]}),b(!0))},[h,y,d]),(0,a.jsx)(V.ResponsiveDialog,{open:l,setOpen:N,contentClassName:(0,o.cn)("focus:outline-0 focus-within:outline-0","bg-background rounded-3xl","md:overflow-hidden gap-0",{"w-full max-w-[600px]":!f}),titleClassName:"flex justify-between items-center p-3",title:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"pl-2 pt-2 pb-1",children:t}),!f&&(0,a.jsx)(K.Button,{variant:"textsecondary",size:"sm",shape:"circle","aria-label":c("share-dialog-close-label","Close"),onClick:T,tabIndex:-1,children:(0,a.jsx)(R.XIcon,{size:18})})]}),footerClassName:"sm:justify-start flex flex-col gap-2 p-3",footer:!p&&(0,a.jsxs)("div",{className:"flex justify-between w-full",children:[(0,a.jsx)(en,{shareUrl:null==d?void 0:d.shareUrl,isDisabled:!S,isLoading:h&&(!d||!(null==d?void 0:d.shareUrl))}),(0,a.jsx)(K.Button,{variant:"primary",shape:"rectangle",size:"md",onClick:T,disabled:h,className:"flex items-center gap-2",children:c("share-dialog.done","Done")})]}),children:(0,a.jsxs)("div",{className:"flex flex-col gap-2 py-4 px-3",children:[h?(0,a.jsxs)("div",{className:"grid gap-2 grid-rows-auto",children:[(0,a.jsx)(G.Skeleton,{className:"h-[69px] w-full rounded-lg p-3"}),n&&(0,a.jsx)(G.Skeleton,{className:"h-[113px] w-full rounded-lg p-3"})]}):p?(0,a.jsxs)("div",{className:"h-[90px] w-full border border-border-l1 rounded-2xl flex flex-col gap-2 justify-center items-center",children:[(0,a.jsx)(u.TriangleAlert,{size:18,className:"text-fg-secondary"}),(0,a.jsx)("span",{className:"text-fg-secondary text-xs",children:c("share-dialog.error-loading-data","There was an error loading the share data. Please try again later.")})]}):(0,a.jsx)(eo,{allowPublicSharing:null==d?void 0:d.allowPublicSharing,allowUserSpecificSharing:n,sharedWithTeam:_.sharedWithTeam,sharedWithUserIds:_.sharedWithUserIds,sharedPublicly:_.sharePublicly,onChange:I}),s&&!p&&(0,a.jsxs)("div",{className:"flex flex-col gap-2 p-3 pt-0",children:[(0,a.jsx)("div",{className:"h-1 w-full border-t border-border-l1 px-3"}),s.icon?(0,a.jsxs)("div",{className:"flex gap-2 pt-1",children:[(0,a.jsx)("div",{className:"flex items-start gap-2",children:s.icon}),(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[s.title&&(0,a.jsx)("span",{className:"text-fg-primary font-medium text-sm",children:s.title}),(0,a.jsx)("span",{className:"text-fg-secondary text-sm",children:s.description})]})]}):(0,a.jsxs)("div",{className:"flex flex-col gap-2 pt-1",children:[s.title&&(0,a.jsx)("span",{className:"text-fg-primary font-medium text-sm",children:s.title}),(0,a.jsx)("span",{className:"text-fg-secondary text-sm",children:s.description})]})]})]})})}function eo(e){let{allowPublicSharing:t,allowUserSpecificSharing:s,sharedPublicly:n,sharedWithTeam:r,sharedWithUserIds:i,onChange:o}=e,{currentTeam:l}=(0,$.useEnterprise)(),{user:c}=(0,v.useSession)(),{t:d}=(0,E.useTranslation)("base"),{data:u,isLoading:h}=(0,J.useQuery)({queryKey:["team-members",null==l?void 0:l.teamId],enabled:!!(null==l?void 0:l.teamId),queryFn:async()=>{if(!(null==l?void 0:l.teamId))throw Error("Team ID is required");return X.authMgmtApi.authManagementListUsers({teamId:l.teamId}).then(e=>{var t;return(null==(t=e.members)?void 0:t.filter(e=>{var t;return(null==(t=e.user)?void 0:t.userId)!==(null==c?void 0:c.userId)}))||[]}).catch(e=>{throw(0,w.logError)("share-dialog:fetch-team-members",e),Error(d("share-dialog.error-fetching-users","Failed to fetch team members"))})}}),p=(0,m.useMemo)(()=>u?null==u?void 0:u.filter(e=>{var t;return!!(null==(t=e.user)?void 0:t.userId)}).map(e=>{var t,s;return{value:e.user.userId,label:"".concat((null==(t=e.user)?void 0:t.givenName)||""," ").concat((null==(s=e.user)?void 0:s.familyName)||"")}}):[],[u]);return(0,a.jsxs)("div",{className:"grid gap-2 grid-rows-auto",children:[t&&(0,a.jsx)("div",{className:"grid gap-2 grid-rows-auto p-3",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("label",{htmlFor:"sharedPublicly",children:d("share-dialog.shared-publicly-title","Everyone")}),(0,a.jsx)("span",{className:"text-fg-secondary text-sm",children:d("share-dialog.shared-publicly-description","Allow anyone to access")})]}),(0,a.jsx)(H.Switch,{id:"sharedPublicly",checked:n,onCheckedChange:e=>o({sharePublicly:e})})]})}),(0,a.jsx)("div",{className:"grid gap-2 grid-rows-auto p-3",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("label",{htmlFor:"sharedWithTeam",children:null==l?void 0:l.name}),(0,a.jsx)("span",{className:"text-fg-secondary text-sm",children:d("share-dialog.shared-with-team-description","Allow members from {{team}} to access",{team:null==l?void 0:l.name})})]}),(0,a.jsx)(H.Switch,{id:"sharedWithTeam",checked:r,onCheckedChange:e=>o({sharedWithTeam:e})})]})}),s&&(0,a.jsxs)("div",{className:"grid gap-2 grid-rows-auto p-3",children:[(0,a.jsx)("label",{children:d("share-dialog.shared-with-users-title","Specific Team Members")}),(0,a.jsx)(q,{options:p,isLoading:h,value:i||[],onChange:e=>o({sharedWithUserIds:e}),placeholder:d("share-dialog.user-search-placeholder","Search team membersâ€¦"),emptyPlaceholder:d("share-dialog.no-users-placeholder","No users found"),className:"border border-border-l1 rounded-2xl",popoverClassName:"min-w-[300px] max-h-[calc(30vh)]"})]})]})}var el=e.i(555309);let ec=e=>{let{children:t,inactivityDelay:s,fadeDuration:n}=e,[r,i]=(0,m.useState)(!1),o=(0,m.useRef)(null);return((0,m.useEffect)(()=>{let e=()=>{o.current&&clearTimeout(o.current),i(!1),o.current=setTimeout(()=>{i(!0)},s)},t=["mousedown","mousemove","keypress","scroll","touchstart","click"];return t.forEach(t=>{document.addEventListener(t,e)}),e(),()=>{o.current&&clearTimeout(o.current),t.forEach(t=>{document.removeEventListener(t,e)})}},[s]),r)?(0,a.jsx)(el.motion.div,{variants:{hidden:{opacity:0,transition:{duration:n/1e3}},visible:{opacity:1,transition:{duration:n/1e3}}},initial:"hidden",animate:"visible",exit:"hidden",children:t},"fade-in-on-inactivity"):null};var ed=e.i(850421),eu=e.i(713087),eh=e.i(920958);e.i(988687);var em=e.i(605808),ep=e.i(390418),ef=e.i(605653),eg=e.i(72290),ex=e.i(850821);let e_=(0,ep.create)()((0,ef.persist)(e=>({isDismissed:!1,setIsDismissed:t=>e({isDismissed:t})}),{name:"open-in-app-dialog"}));function ev(){let{t:e}=(0,E.useTranslation)("base"),t=(0,i.useFeatureFlags)(),s=(0,eh.useLogEvent)(),n=e_(D.prop("isDismissed")),l=e_(D.prop("setIsDismissed")),{os:c}=(0,em.useOs)(),{GOOGLE_PLAY_URL:d}=(0,eg.useEnvironment)(),{isSharePage:u}=(0,eu.useGrokRouter)(),[p,f]=(0,m.useState)(!!t.SHOW_OPEN_IN_APP_DIALOG_EVERY_TIME||!n),g=(0,m.useCallback)(()=>{if(s("clicked_open_in_app",c,{location:"open-in-app"}),t.ENABLE_OPEN_IN_APP_DEEP_LINK){let e=window.location.pathname.replace(/^\//,"")+window.location.search+window.location.hash,t="android"===c?"intent://".concat(e,"#Intent;scheme=xai-grok;package=ai.x.grok;end"):"com.grokapp://".concat(e);window.location.href=t}setTimeout(function(){document.hasFocus()&&(s("redirected_to_store",c,{location:"open-in-app"}),"ios"===c?window.location.href="https://apps.apple.com/app/apple-store/id6670324846?pt=126952307&ct=Grok.com%20No%20App%20Full%20Screen&mt=8":window.location.href=d)},1500)},[s,c,d,t.ENABLE_OPEN_IN_APP_DEEP_LINK]),x=(0,m.useCallback)(()=>{s("clicked_continue_with_web",void 0,{location:"open-in-app"}),l(!0),f(!1)},[s,l]);if(p)return t.USE_OPEN_IN_APP_BANNER?(0,a.jsxs)("div",{className:(0,o.cn)("fixed top-0 left-0 right-0 z-50","flex items-center justify-between gap-2","bg-background border-b border-toggle-border","px-2 py-2.5 "),children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 min-w-0",children:[(0,a.jsx)(r.Button,{variant:"ghostSecondary",size:"iconSm",onClick:x,"aria-label":e("Close","Close"),className:"flex-shrink-0",children:(0,a.jsx)(h.X,{size:18})}),(0,a.jsx)("span",{className:"text-sm font-semibold truncate",children:e("splash-page.view-in-the-grok-app","View in the Grok app")})]}),(0,a.jsxs)("button",{onClick:g,className:(0,o.cn)("flex-shrink-0","flex items-center gap-2 pl-1 pr-3 py-1 rounded-full","bg-gradient-to-br from-fg-secondary/20 to-fg-secondary/5","hover:from-fg-secondary/25 hover:to-fg-secondary/10","ring-1 ring-fg-secondary/20","active:scale-[0.98]","transition-all duration-150","me-2"),children:[(0,a.jsx)("div",{className:(0,o.cn)("flex items-center justify-center","w-7 h-7 rounded-full","bg-gradient-to-br from-fg-secondary/20 to-fg-secondary/5"),children:(0,a.jsx)(ex.BlackholeLogo,{className:"w-4 h-4"})}),(0,a.jsx)("span",{className:"text-sm font-semibold",children:e("splash-page.open-grok","Open Grok")})]})]}):(0,a.jsxs)("div",{className:"fixed inset-0 z-50 bg-background flex flex-col",children:[(0,a.jsx)("div",{className:"absolute top-6 right-6",children:(0,a.jsx)(r.Button,{variant:"ghost",size:"sm",onClick:x,className:"text-secondary hover:text-primary",children:e("Continue with web","Continue with web")})}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center px-6 max-w-md mx-auto",children:[(0,a.jsx)("div",{className:"w-full flex justify-center mb-8",children:(0,a.jsx)(ex.BlackholeGrokLogo,{className:"w-32 h-14"})}),(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold text-primary mb-2",children:u?e("splash-page.view-this-link-in-the-grok-app","View this link in the Grok app"):e("splash-page.grok-is-better-in-the-app","Grok is better in the app")}),!u&&(0,a.jsx)("p",{className:"text-secondary",children:e("splash-page.available-on-ios-and-android","Available on iOS and Android")})]}),(0,a.jsx)("div",{className:"w-full space-y-4",children:(0,a.jsx)(r.Button,{variant:"primary",size:"lg",onClick:g,className:"w-full",children:e("splash-page.open-grok","Open Grok")})})]})]})}e.i(881081);var ey=e.i(727151),eb=e.i(665437),eb=eb,ek=e.i(687448),ej=e.i(852343),ej=ej,ew=e.i(338758),eS=e.i(953766),eT=e.i(947159),eT=eT;let eN=(0,l.default)("PaintBucket",[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z",key:"irua1i"}],["path",{d:"m5 2 5 5",key:"1lls2c"}],["path",{d:"M2 13h15",key:"1hkzvu"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z",key:"xk76lq"}]]),eC=(0,l.default)("ScrollText",[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]]);var eI=e.i(578077);let eD=(0,l.default)("SquareMousePointer",[["path",{d:"M12.034 12.681a.498.498 0 0 1 .647-.647l9 3.5a.5.5 0 0 1-.033.943l-3.444 1.068a1 1 0 0 0-.66.66l-1.067 3.443a.5.5 0 0 1-.943.033z",key:"xwnzip"}],["path",{d:"M21 11V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h6",key:"14rsvq"}]]);var eE=e.i(775899),eE=eE,eM=e.i(64572),eO=e.i(308724),eP=e.i(90476),eL=e.i(298451),eA=e.i(969330),eR=e.i(692249),eK=e.i(633089);let eF=e=>{let{className:t,children:s}=e;return(0,a.jsx)("div",{className:(0,o.cn)("border border-border-l2 h-10 px-3.5 py-2 rounded-full","text-sm text-fg-secondary inline-flex flex-row items-center gap-1","mt-0.5","w-fit",t),children:s})};function ez(e){let{subscriptionType:t}=e,{t:s}=(0,E.useTranslation)("base");return"PremiumPlus"===t?(0,a.jsx)(eF,{className:"text-[#bb992e] dark:text-[#C4A06B]",children:s("Premium+","Premium+")}):"Premium"===t?(0,a.jsx)(eF,{className:"text-[#426db1] dark:text-[#7F93B0]",children:s("Premium","Premium")}):"Free"===t||""===t?(0,a.jsx)(eF,{children:s("Basic","Basic")}):null}var eB=e.i(762380),eG=e.i(814248),eU=e.i(840683);let eW=function(e){let{isActive:t,initialSpeed:s=800,targetSpeed:a=360,transitionDuration:n=2500}=e,r=(0,m.useRef)(null),i=(0,m.useRef)({current:0,startTime:0,initialSpeed:s,targetSpeed:a,transitionDuration:n});var o=(e,s)=>{if(t&&r.current){let t=i.current;0===t.startTime&&(t.startTime=e);let a=t.targetSpeed,n=e-t.startTime;if(n<t.transitionDuration){let e=1-Math.pow(1-n/t.transitionDuration,3);a=t.initialSpeed-(t.initialSpeed-t.targetSpeed)*e}let o=s/1e3*a;t.current+=o,r.current.style.transform="rotate(".concat(t.current,"deg)")}else 0!==i.current.startTime&&(i.current.startTime=0)};let l=(0,m.useRef)(0),{isStatic:c}=(0,m.useContext)(eG.MotionConfigContext);return(0,m.useEffect)(()=>{if(c)return;let e=e=>{let{timestamp:t,delta:s}=e;l.current||(l.current=t),o(t-l.current,s)};return eU.frame.update(e,!0),()=>(0,eU.cancelFrame)(e)},[o]),r};var eq=e.i(230433);e.i(84976);var eV=e.i(290498),eH=e.i(969286),eY=e.i(735924),eX=e.i(519837),eQ=e.i(757530);function eJ(e){var t,s;let{onManage:r}=e,{t:i}=(0,E.useTranslation)("settings"),o=(0,v.useSession)(),l=null==(t=o.user)?void 0:t.xSubscriptionType,c=(0,eY.useQueryClient)(),{ACCOUNT_URL:d}=(0,eg.useEnvironment)(),{isEnterpriseUser:u,isSuperGrokUser:h,isSuperGrokProUser:p}=(0,eq.useSubscriptions)(),f=(0,eX.useSettingsDialogStore)(D.prop("setOpen")),g=(0,eX.useSettingsDialogStore)(D.prop("setTab")),{goToUpsellPage:x}=(0,eK.useUpsellHelper)({entrypointKey:"settings-account-button"}),_=(0,m.useCallback)(()=>{let e=new URL("/account",d);e.searchParams.set("redirect","grok-com"),e.searchParams.set("action","connect-x-account"),window.location.href=e.toString()},[d]),y=(0,eH.useMutation)({mutationFn:async()=>X.authFrontendApi.authFrontendRefreshXSubscriptionStatus({body:{}}).then(()=>Promise.all([c.invalidateQueries({queryKey:[eV.SUBSCRIPTIONS_QUERY_KEY]}),o.refreshSession()])),onError:async()=>{(0,w.logError)("settings-account","Failed to refresh X subscription status")}}),b=(0,C.useSettingsStore)(D.prop("setAgeVerificationBehavior")),k=(0,C.useSettingsStore)(D.prop("setShowAgeVerification")),j=(0,n.useAgeVerificationStage)(D.prop("setStage")),S=(0,m.useCallback)(()=>{j("start"),b("collect-only"),k(!0)},[b,k,j]),T=(0,m.useMemo)(()=>{var e;return!!(null==(e=o.user)?void 0:e.xUserId)},[o.user]),N=eW({isActive:y.isPending});return(0,a.jsxs)("div",{className:"flex flex-col w-full h-full gap-4",children:[o.user&&(0,a.jsx)(eQ.SettingsRow,{action:(0,a.jsx)(K.Button,{variant:"secondary",size:"md",shape:"rectangle",className:"group",onClick:r,children:i("settings.account.manage","Manage")}),children:(0,a.jsxs)("div",{className:"flex flex-row items-center w-full gap-2",children:[(0,a.jsx)(eA.Avatar,{className:"w-12 h-12",user:o.user}),(0,a.jsxs)("div",{className:"p-1 min-w-0 text-sm",children:[(0,a.jsx)(eQ.SettingsTitle,{children:"".concat(o.user.givenName," ").concat(o.user.familyName)}),(0,a.jsx)("div",{className:"text-secondary truncate",children:o.user.email})]})]})}),(0,a.jsx)("div",{className:"h-px mx-3 bg-border"}),o.user&&!u&&(0,a.jsx)(eQ.SettingsRow,{action:p||h?(0,a.jsx)(K.Button,{variant:"secondary",size:"md",shape:"rectangle",onClick:()=>g("billing"),children:i("settings.account.manage","Manage")}):(0,a.jsx)(K.Button,{variant:"secondary",size:"md",shape:"rectangle",onClick:()=>{f(!1),x({})},children:i("settings.account.upgrade","Upgrade")}),children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("div",{className:"bg-surface-l1 rounded-lg w-8 h-8 flex items-center justify-center text-xl me-2",children:(0,a.jsx)(ex.BlackholeLogo,{className:"size-4"})}),(0,a.jsx)(eQ.SettingsTitle,{children:p?i("settings.account.super-grok-pro","SuperGrok Heavy"):h?i("settings.account.super-grok","SuperGrok"):i("settings.account.get-super-grok","Get SuperGrok")})]})}),o.user&&(0,a.jsx)(eQ.SettingsRow,{action:T?(0,a.jsx)(ez,{subscriptionType:l}):(0,a.jsx)(K.Button,{variant:"secondary",size:"md",shape:"rectangle",onClick:_,children:i("settings.account.connect","Connect")}),children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("div",{className:"bg-surface-l1 rounded-lg w-8 h-8 flex items-center justify-center text-xl me-2",children:i("settings.account.x","ð•")}),(0,a.jsx)(eQ.SettingsTitle,{children:i("settings.account.x-account","ð• Account")}),(0,a.jsx)(K.ButtonWithTooltip,{tooltipContent:i("settings.account.refresh-x-subscription","Refresh ð• Subscription Status"),tooltipContentProps:{side:"right"},variant:"tertiary","aria-label":"Refresh X subscription status",size:"xs",shape:"square",disabled:y.isPending,onClick:()=>y.mutate(),children:(0,a.jsx)("div",{ref:N,style:{transformOrigin:"center"},children:(0,a.jsx)(eP.RefreshCwIcon,{className:"size-4"})})})]})}),(0,a.jsx)("div",{className:"h-px mx-3 bg-border"}),(0,a.jsx)(eZ,{}),(0,a.jsx)(eQ.SettingsRow,{action:(0,a.jsx)(K.Button,{variant:"secondary",size:"md",shape:"rectangle",onClick:S,children:i("settings.account.change","Change")}),children:(0,a.jsx)(eQ.SettingsTitle,{className:"flex items-center gap-2",children:i("settings.account.birth-year","Birth Year")})}),(0,a.jsxs)("div",{className:"mt-auto",children:[o.user&&(0,a.jsx)("div",{className:"text-xs flex flex-row gap-1 p-3 text-secondary opacity-30",children:null==(s=o.user)?void 0:s.userId}),!(u||h||p)&&(0,a.jsx)(eR.UpsellCard,{entrypointKey:"settings-account-card"})]})]})}function eZ(){let e=(0,eh.useLogEvent)(),{t,i18n:s}=(0,E.useTranslation)("settings"),[n,r]=(0,m.useState)(!1),i=(0,eB.useCurrentLanguage)(),o=(0,m.useCallback)(t=>{s.changeLanguage(t).then(()=>{C.useSettingsStore.getState().setSelectedLanguage(t),r(!1)}).catch(e=>(0,w.logError)("settings-account",e)),e("change_language",t,{location:"settings"})},[s,e]),l=(0,a.jsx)(K.Button,{variant:"secondary",size:"md",shape:"rectangle",onClick:()=>r(!0),children:t("settings.account.change","Change")});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eQ.SettingsRow,{action:l,children:(0,a.jsxs)(eQ.SettingsTitle,{className:"flex items-center gap-2",children:[t("settings.account.language","Language"),(0,a.jsx)(eO.Languages,{size:16,className:"text-secondary"})]})}),(0,a.jsx)(eL.LanguageSelectorDialog,{locale:i,open:n,onLocaleChange:o,onOpenChange:r})]})}var e$=e.i(676452),e0=e.i(434981),e1=e.i(153377);function e2(){let{t:e}=(0,E.useTranslation)("settings"),t=(0,i.useFeatureFlags)(),s=(0,C.useSettingsStore)(D.prop("userSettings")),n=(0,C.useSettingsStore)(D.prop("fetchSetPreference")),[r,o]=(0,e1.useSessionStorage)("highlights-hidden-session",!1),l=(0,e$.useHighlightsStore)(e=>e.stories.length>0);return(0,a.jsxs)("div",{className:"flex flex-col w-full h-full gap-6",children:[(0,a.jsx)(e0.ThemeSelectorLarge,{}),(0,a.jsx)(eQ.SettingsRow,{action:(0,a.jsx)(H.Switch,{checked:s.preferences.autoWrapLongLinesCode,onCheckedChange:e=>n("autoWrapLongLinesCode",e)}),children:(0,a.jsx)(eQ.SettingsTitle,{children:e("Wrap Long Lines For Code Blocks By Default","Wrap Long Lines For Code Blocks By Default")})}),(0,a.jsx)(eQ.SettingsRow,{action:(0,a.jsx)(H.Switch,{checked:s.preferences.showConversationPreviews,onCheckedChange:e=>n("showConversationPreviews",e)}),children:(0,a.jsx)(eQ.SettingsTitle,{children:e("Show Conversation Previews in History","Show Conversation Previews in History")})}),t.SHOW_STARRY_IDLE&&(0,a.jsx)(eQ.SettingsRow,{action:(0,a.jsx)(H.Switch,{checked:s.preferences.enableStarBackground,onCheckedChange:e=>n("enableStarBackground",e)}),children:(0,a.jsx)(eQ.SettingsTitle,{children:e("settings.behavior.enable-starry-background","Enable Starry Background")})}),l&&(0,a.jsx)(eQ.SettingsRow,{action:(0,a.jsx)(H.Switch,{checked:!r,onCheckedChange:e=>o(!e)}),children:(0,a.jsx)(eQ.SettingsTitle,{children:e("settings.appearance.pin-highlights","Pin Highlights to Home")})})]})}var e8=e.i(182904);function e4(){let{t:e}=(0,E.useTranslation)("settings"),t=(0,i.useFeatureFlags)(),s=(0,eh.useLogEvent)(),n=(0,C.useSettingsStore)(D.prop("userSettings")),r=(0,C.useSettingsStore)(D.prop("fetchSetPreference")),{isBackgroundThinking:o,isBackgroundThinkingAvailable:l}=(0,e8.useIsBackgroundThinking)();return(0,a.jsxs)("div",{className:"flex flex-col w-full gap-6",children:[(0,a.jsx)(eQ.SettingsRow,{action:(0,a.jsx)(H.Switch,{checked:!n.preferences.disableAutoScroll,onCheckedChange:e=>r("disableAutoScroll",!e)}),children:(0,a.jsx)(eQ.SettingsTitle,{children:e("Enable Auto Scroll","Enable Auto Scroll")})}),(0,a.jsx)(eQ.SettingsRow,{action:(0,a.jsx)(H.Switch,{checked:!n.preferences.hideArtifacts,onCheckedChange:e=>r("hideArtifacts",!e)}),children:(0,a.jsx)(eQ.SettingsTitle,{children:e("settings-tab.behavior.artifacts.enable","Enable Sidebar Editor For Code And Documents")})}),(0,a.jsx)(eQ.SettingsRow,{action:(0,a.jsx)(H.Switch,{checked:n.preferences.browserNotificationsEnabled,onCheckedChange:e=>r("browserNotificationsEnabled",e)}),children:(0,a.jsx)(eQ.SettingsTitle,{children:e("settings-tab.behavior.enable-notifications","Notify When Grok Finishes Thinking")})}),(0,a.jsx)("div",{className:"h-px mx-3 bg-border"}),(0,a.jsxs)(eQ.SettingsRow,{action:(0,a.jsx)(H.Switch,{checked:n.preferences.requireCmdEnterToSubmit,onCheckedChange:e=>r("requireCmdEnterToSubmit",e)}),children:[(0,a.jsx)(eQ.SettingsTitle,{children:e("settings.behavior.require-cmd-enter-to-submit",{defaultValue:"Require Cmd+Enter To Submit"})}),(0,a.jsx)(eQ.SettingsDescription,{children:e("settings.behavior.require-cmd-enter-to-submit.description","When enabled, press Cmd+Enter (or Ctrl+Enter) to submit. Enter will add a new line.")})]}),t.ENABLE_TIPTAP_EDITOR&&(0,a.jsxs)(eQ.SettingsRow,{action:(0,a.jsx)(H.Switch,{checked:n.preferences.enableTiptapEditorForQueryBar,onCheckedChange:e=>r("enableTiptapEditorForQueryBar",e)}),children:[(0,a.jsx)(eQ.SettingsTitle,{children:e("settings.behavior.enable-tiptap-editor","Enable Rich Text Editor")}),(0,a.jsx)(eQ.SettingsDescription,{children:e("settings.behavior.enable-tiptap-editor.description","Enable code blocks and lists in the query bar")})]}),l&&(0,a.jsxs)(eQ.SettingsRow,{action:(0,a.jsx)(H.Switch,{checked:o,onCheckedChange:e=>{s("toggle_async_chat",e?"enabled":"disabled",{location:"settings-behavior:handleToggleAsyncChat"}),r("isAsyncChat",e)}}),children:[(0,a.jsx)(eQ.SettingsTitle,{children:e("model-select.background-thinking","Background Thinking")}),(0,a.jsx)(eQ.SettingsDescription,{children:e("model-select.background-thinking.description","Grok will continue replying in the background, even as you send new messages")})]}),(0,a.jsx)("div",{className:"h-px mx-3 bg-border"}),(0,a.jsxs)(eQ.SettingsRow,{action:(0,a.jsx)(H.Switch,{checked:!n.preferences.disableVideoGenerationOnUpload,onCheckedChange:e=>r("disableVideoGenerationOnUpload",!e)}),children:[(0,a.jsx)(eQ.SettingsTitle,{children:e("settings.behavior.enable-video-generation-on-upload",{defaultValue:"Enable Automatic Video Generation"})}),(0,a.jsx)(eQ.SettingsDescription,{children:e("settings.behavior.enable-video-generation-on-upload.description","Grok Imagine will automatically start generating a video upon image upload")})]})]})}var e3=e.i(729575),e3=e3;function e5(){let{t:e}=(0,E.useTranslation)("base");return(0,a.jsx)(F.Badge,{variant:"secondary",children:e("beta","beta")})}var e6=e.i(643077),e7=e.i(877838),e9="Progress",[te,tt]=(0,e6.createContextScope)(e9),[ts,ta]=te(e9),tn=m.forwardRef((e,t)=>{var s,n,r,i;let{__scopeProgress:o,value:l=null,max:c,getValueLabel:d=to,...u}=e;(c||0===c)&&!td(c)&&console.error((s="".concat(c),n="Progress","Invalid prop `max` of value `".concat(s,"` supplied to `").concat(n,"`. Only numbers greater than 0 are valid max values. Defaulting to `").concat(100,"`.")));let h=td(c)?c:100;null===l||tu(l,h)||console.error((r="".concat(l),i="Progress","Invalid prop `value` of value `".concat(r,"` supplied to `").concat(i,"`. The `value` prop must be:\n  - a positive number\n  - less than the value passed to `max` (or ").concat(100," if no `max` prop is set)\n  - `null` or `undefined` if the progress is indeterminate.\n\nDefaulting to `null`.")));let m=tu(l,h)?l:null,p=tc(m)?d(m,h):void 0;return(0,a.jsx)(ts,{scope:o,value:m,max:h,children:(0,a.jsx)(e7.Primitive.div,{"aria-valuemax":h,"aria-valuemin":0,"aria-valuenow":tc(m)?m:void 0,"aria-valuetext":p,role:"progressbar","data-state":tl(m,h),"data-value":null!=m?m:void 0,"data-max":h,...u,ref:t})})});tn.displayName=e9;var tr="ProgressIndicator",ti=m.forwardRef((e,t)=>{var s;let{__scopeProgress:n,...r}=e,i=ta(tr,n);return(0,a.jsx)(e7.Primitive.div,{"data-state":tl(i.value,i.max),"data-value":null!=(s=i.value)?s:void 0,"data-max":i.max,...r,ref:t})});function to(e,t){return"".concat(Math.round(e/t*100),"%")}function tl(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function tc(e){return"number"==typeof e}function td(e){return tc(e)&&!isNaN(e)&&e>0}function tu(e,t){return tc(e)&&!isNaN(e)&&e<=t&&e>=0}function th(e){let{className:t,value:s,...n}=e;return(0,a.jsx)(tn,{"data-slot":"progress",className:(0,o.cn)("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",t),...n,children:(0,a.jsx)(ti,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:"translateX(-".concat(100-(s||0),"%)")}})})}ti.displayName=tr;var tm=e.i(218946),tp=e.i(974659);function tf(e){return!!e&&tg.has(e)}let tg=new Set(["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","IS","LI","NO","GB"]);var tx=e.i(136783);function t_(e){var t,s;let{onManage:n,onDelete:r,onNavigate:l}=e,{t:c}=(0,E.useTranslation)("settings"),d=(0,i.useFeatureFlags)(),u=(0,eh.useLogEvent)(),h=(0,tm.useRequestErrorToastFn)(),p=(0,v.useSession)(),g=(0,eu.useGrokRouter)(),x=(0,C.useSettingsStore)(D.prop("userSettings")),_=(0,C.useSettingsStore)(D.prop("fetchSetUserSettings")),[y,b]=(0,m.useState)(!1),k=(0,m.useCallback)(()=>{n()},[n]),j=(0,m.useCallback)(()=>{r()},[r]),w=(0,m.useMemo)(()=>tf(p.countryCode),[p.countryCode]),{isEnterpriseUser:S}=(0,eq.useSubscriptions)();return(0,a.jsxs)("div",{className:"flex flex-col w-full gap-6",children:[!S&&(0,a.jsxs)(eQ.SettingsRow,{action:(0,a.jsx)(H.Switch,{checked:!x.excludeFromTraining,onCheckedChange:e=>{var t,s;u("set_exclude_from_training",String(!e),{userId:null!=(s=null==(t=p.user)?void 0:t.userId)?s:"",location:"settings-data:handleClickExcludeFromTraining"}),_({...x,excludeFromTraining:!e}).catch(e=>{h("settings-data:set_exclude_from_training",e,c("settings-data.error","Failed to update settings"))})}}),children:[(0,a.jsx)(eQ.SettingsTitle,{children:c("Improve the Model","Improve the Model")}),(0,a.jsx)(eQ.SettingsDescription,{children:c("Improve the Model.description","By allowing your data to be used for training our models, you help enhance your own experience and improve the quality of the model for all users. We take measures to ensure your privacy is protected throughout the process.")})]}),(null==(t=p.user)?void 0:t.xUserId)&&(0,a.jsx)(eQ.SettingsRow,{action:(0,a.jsx)(H.Switch,{checked:x.allowXPersonalization,onCheckedChange:e=>{var t,s;u("set_allow_x_personalization",String(e),{location:"settings-data:handleClickAllowXPersonalization",userId:null!=(s=null==(t=p.user)?void 0:t.userId)?s:""}),_({...x,allowXPersonalization:e}).catch(e=>{h("settings-data:set_allow_x_personalization",e,c("settings-data.error","Failed to update settings"))})}}),children:(0,a.jsxs)("div",{children:[(0,a.jsx)(eQ.SettingsTitle,{children:c("Personalize Grok using X","Personalize Grok using ð•")}),(0,a.jsxs)(eQ.SettingsDescription,{children:[c("Personalize Grok using X.description","Allow your ð• data to be used for personalizing and enhancing your Grok experience. This data includes:")," ",c("Personalize Grok using X.permissions","ð• user profile, ð• account information and location, ð• settings, ð• preferences, posts viewable on your ð• account.")]})]})}),d.ENABLE_MEMORY_TOGGLE&&p.user&&(0,a.jsx)(eQ.SettingsRow,{action:(0,a.jsx)(H.Switch,{checked:x.enableMemory,onCheckedChange:e=>{var t,s;u("set_enable_memory",String(e),{location:"settings-data:handleClickEnableMemory",userId:null!=(s=null==(t=p.user)?void 0:t.userId)?s:""}),_({...x,enableMemory:e}).catch(e=>{h("settings-data:set_enable_memory",e,c("settings-data.error","Failed to update settings"))})},disabled:w&&!x.enableMemory}),className:(0,o.cn)(w&&"opacity-50"),children:(0,a.jsxs)("div",{children:[(0,a.jsxs)(eQ.SettingsTitle,{className:"flex flex-row items-center gap-1.5",children:[c("Personalize Grok with your conversation history","Personalize Grok with your conversation history"),(0,a.jsx)(e5,{})]}),(0,a.jsxs)(eQ.SettingsDescription,{children:[c("Personalize Grok with your conversation history.description","Allow Grok to remember details from your previous conversations. You can delete individual conversations to forget the associated details. Private chats are never stored."),w&&(0,a.jsxs)("span",{className:"italic",children:[" ",c("Personalize Grok with your conversation history.gdpr","This feature is not available in your region.")]})]})]})}),d.SHOW_AUTO_SHARE_SETTINGS&&p.user&&(0,a.jsx)(eQ.SettingsRow,{action:(0,a.jsx)(H.Switch,{checked:null==(s=x.allowAutoShare)||s,onCheckedChange:e=>{var t,s;u("set_allow_auto_share",String(e),{location:"settings-data:handleClickAllowAutoShare",userId:null!=(s=null==(t=p.user)?void 0:t.userId)?s:""}),_({...x,allowAutoShare:e}).catch(e=>{h("settings-data:set_allow_auto_share",e,c("settings-data.error","Failed to update settings"))})}}),children:(0,a.jsxs)("div",{children:[(0,a.jsx)(eQ.SettingsTitle,{children:c("settings-data.allow-auto-share.title","Allow chat link sharing")}),(0,a.jsx)(eQ.SettingsDescription,{children:c("settings-data.allow-auto-share.description","Allow sharing chats using only your chat link.")})]})}),(0,a.jsx)("div",{className:"h-px mx-3 bg-border"}),(0,a.jsx)(tv,{className:"mx-3"}),p.user&&(0,a.jsx)(eQ.SettingsRow,{action:(0,a.jsx)(f.Link,{route:{page:"files"},children:(0,a.jsx)(K.Button,{variant:"secondary",size:"md",shape:"rectangle",onClick:()=>{l()},children:c("settings-data.file-browser.action","Manage")})}),children:(0,a.jsxs)("div",{children:[(0,a.jsx)(eQ.SettingsTitle,{className:"flex flex-row items-center gap-1.5",children:c("settings-data.file-browser.title","See Files and Assets")}),(0,a.jsx)(eQ.SettingsDescription,{children:c("settings-data.file-browser.description","See all the files and assets you have uploaded to Grok. You can also delete them here.")})]})}),p.user&&(0,a.jsx)(eQ.SettingsRow,{action:(0,a.jsx)(f.Link,{route:{page:"share-links"},children:(0,a.jsx)(K.Button,{variant:"secondary",size:"md",shape:"rectangle",onClick:()=>{l()},children:c("settings-data.share-links.action","Manage")})}),children:(0,a.jsxs)("div",{children:[(0,a.jsx)(eQ.SettingsTitle,{className:"flex flex-row items-center gap-1.5",children:c("settings-data.share-links.title","See Shared Links")}),(0,a.jsx)(eQ.SettingsDescription,{children:c("settings-data.share-links.description","See all the shared links you have created. You can also delete them and revoke access here.")})]})}),p.user&&(0,a.jsx)(eQ.SettingsRow,{action:(0,a.jsx)(f.Link,{route:{page:"deleted-conversations"},children:(0,a.jsx)(K.Button,{variant:"secondary",size:"md",shape:"rectangle",onClick:()=>{l()},children:c("settings-data.deleted-conversations.action","Manage")})}),children:(0,a.jsxs)("div",{children:[(0,a.jsx)(eQ.SettingsTitle,{className:"flex flex-row items-center gap-1.5",children:c("settings-data.deleted-conversations.title","See Deleted Conversations")}),(0,a.jsx)(eQ.SettingsDescription,{children:c("settings-data.deleted-conversations.description","View and restore conversations that you have deleted. Deleted conversations are permanently removed after 30 days.")})]})}),(0,a.jsx)(eQ.SettingsRow,{action:(0,a.jsx)(f.Link,{route:{page:"clear-cache"},children:(0,a.jsx)(K.Button,{variant:"secondary",size:"md",shape:"rectangle",onClick:()=>{l()},children:c("settings-data.clear-cache.action","Clear")})}),children:(0,a.jsxs)("div",{children:[(0,a.jsx)(eQ.SettingsTitle,{children:c("Clear Cache","Clear Cache")}),(0,a.jsx)(eQ.SettingsDescription,{children:c("Clear Cache.description","Clear the local cache and application state on your device.")})]})}),(0,a.jsx)(eQ.SettingsRow,{action:(0,a.jsx)(K.Button,{variant:"secondary",size:"md",shape:"rectangle",onClick:k,children:c("Export","Export")}),children:(0,a.jsxs)("div",{children:[(0,a.jsx)(eQ.SettingsTitle,{children:c("Export Account Data","Export Account Data")}),(0,a.jsx)(eQ.SettingsDescription,{children:c("Export Account Data.description","You can download all data associated with your account below. This data includes everything stored in all xAI products.")})]})}),(0,a.jsx)("div",{className:"h-px mx-3 bg-border"}),(0,a.jsxs)(eQ.SettingsRow,{action:(0,a.jsx)(K.Button,{variant:y?"danger":"secondary",size:"md",shape:"rectangle",onBlur:()=>b(!1),onClick:()=>{y?(tx.useConversationStore.getState().fetchSoftDeleteAllConversations().catch(()=>{console.error(c("Failed to delete conversations","Failed to delete conversations"))}),g.routeToConversation(void 0),b(!1)):b(!0)},children:y?c("Are you sure?","Are you sure?"):c("Delete","Delete")}),children:[(0,a.jsx)(eQ.SettingsTitle,{children:c("Delete All Conversations","Delete All Conversations")}),(0,a.jsx)(eQ.SettingsDescription,{children:c("Delete All Conversations.description","Delete all of your conversation data.")})]}),(0,a.jsxs)(eQ.SettingsRow,{action:(0,a.jsx)(K.Button,{variant:"danger",size:"md",shape:"rectangle",className:"max-w-full",onClick:j,children:(0,a.jsx)("span",{className:"truncate",children:c("Permanently Delete","Delete")})}),children:[(0,a.jsx)(eQ.SettingsTitle,{children:c("Delete Account","Delete Account")}),(0,a.jsx)(eQ.SettingsDescription,{children:c("Delete Account.description","Permanently delete your account and associated data from the xAI platform. Deletions are immediate and cannot be undone.")})]})]})}function tv(e){var t,s;let{className:n}=e,{t:r}=(0,E.useTranslation)("settings"),{data:i,isLoading:l,isError:c}=(0,J.useQuery)({queryKey:["storage-data-usage"],queryFn:()=>X.assetRepositoryApi.assetRepositoryGetStorageUsageInfo()}),d=BigInt(null!=(t=null==i?void 0:i.usedStorageBytes)?t:0),u=BigInt(null!=(s=null==i?void 0:i.totalStorageBytes)?s:0),h=u>0?Number(d/u*BigInt(100)):0,m=(0,tp.formatBytes)(d),p=(0,tp.formatBytes)(u);return(0,a.jsx)("section",{className:(0,o.cn)("border rounded-2xl py-2 px-4 flex-1 bg-background shadow-sm",n),children:l?(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsx)(G.Skeleton,{className:"h-6 w-32"}),(0,a.jsx)(G.Skeleton,{className:"h-2 w-full"}),(0,a.jsx)(G.Skeleton,{className:"h-4 w-48"})]}):c?(0,a.jsx)("p",{className:"text-sm text-destructive",children:r("error-loading-usage-data-text","Error loading usage data")}):(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(e3.default,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("h3",{className:"text-md font-semibold",children:r("storage-usage-title","Storage Usage")})]}),(0,a.jsx)(th,{value:h,className:"h-2"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:r("storage-usage-info","{{used}} used of {{total}}",{used:m,total:p})})]})})}var ty=e.i(246429),tb=e.i(902572),tk=e.i(70872),tj=e.i(194132),tw=e.i(829458),tS=e.i(779886),tT=e.i(838748),tN=e.i(391880),tC=e.i(511765),tI=e.i(288551);let tD=function(e,t,s){if(!tI.isBrowser)return[t,function(){}];var a=(0,m.useState)(function(){try{var a=sessionStorage.getItem(e);if("string"!=typeof a)return sessionStorage.setItem(e,s?String(t):JSON.stringify(t)),t;return s?a:JSON.parse(a||"null")}catch(e){return t}}),n=a[0],r=a[1];return(0,m.useEffect)(function(){try{var t=s?String(n):JSON.stringify(n);sessionStorage.setItem(e,t)}catch(e){}}),[n,r]};var tE=e.i(258591);let tM=["web_search","google_web_search","bing_web_search","browse_page_with_js","browse_page_no_js"],tO={"X Tools":["x_search","x_keyword_search","x_semantic_search","get_x_user_handle","get_x_user_timeline","get_x_bookmarks","get_x_liked_posts","get_x_user_profile_pic_description","get_top_us_news_from_x_trends","x_post_lookup"],"Render Tools":["render_x_posts","render_x_users","render_card"]};function tP(){var e,t,s,n,r,o,l,c,d,u;let h=(0,i.useFeatureFlags)(),[p,f]=tD("open_danger_mode",!1),[g,x]=(0,tC.useLocalStorage)("upsell-small-closed",!1),[_,v]=(0,tC.useLocalStorage)(L.DEBUG_STORAGE_KEY,!1),y=(0,C.useSettingsStore)(e=>e.isModelOverrideHidden),b=(0,C.useSettingsStore)(e=>e.setIsModelOverrideHidden),k=(0,L.useCanSeeDebugMenu)(),{models:w,defaultProModelId:T}=(0,j.useModels)(),N=(0,ty.useChatPageStore)(e=>e.activeModelId)||T,I=(0,ty.useChatPageStore)(e=>e.setActiveModelId),D=(0,eX.useSettingsDialogStore)(e=>e.modelConfigOverrideTab),E=(0,eX.useSettingsDialogStore)(e=>e.setModelConfigOverrideTab),M=(0,C.useSettingsStore)(e=>e.modelConfigOverrideByModel),O=(0,C.useSettingsStore)(e=>e.systemPromptOverride),P=M[D||"undefined"],A=(0,C.useSettingsStore)(e=>e.sideBySideMode),R=(0,C.useSettingsStore)(e=>e.skipResponseCache);(0,m.useEffect)(()=>{N&&E(N)},[N,E]);let[F,z]=(0,tN.useDebounceUpdate)(null==P||null==(e=P.promptMap)?void 0:e.toolUseFc,(0,m.useCallback)(e=>{if(!D)return;let t={...C.useSettingsStore.getState().modelConfigOverrideByModel};S.default.set(t,"".concat(D,".promptMap.toolUseFc"),e),C.useSettingsStore.getState().setModelConfigOverrideByModel(t)},[D])),[B,G]=(0,tN.useDebounceUpdate)(null==P||null==(t=P.promptMap)?void 0:t.noToolUse,(0,m.useCallback)(e=>{if(!D)return;let t={...C.useSettingsStore.getState().modelConfigOverrideByModel};S.default.set(t,"".concat(D,".promptMap.noToolUse"),e),C.useSettingsStore.getState().setModelConfigOverrideByModel(t)},[D])),[U,W]=(0,tN.useDebounceUpdate)(null==P||null==(s=P.promptMap)?void 0:s.toolUseSummarizer,(0,m.useCallback)(e=>{if(!D)return;let t={...C.useSettingsStore.getState().modelConfigOverrideByModel};S.default.set(t,"".concat(D,".promptMap.toolUseSummarizer"),e),C.useSettingsStore.getState().setModelConfigOverrideByModel(t)},[D])),[q,V]=(0,tN.useDebounceUpdate)(null==P||null==(n=P.modelMap)?void 0:n.noToolUse,(0,m.useCallback)(e=>{if(!D)return;let t={...C.useSettingsStore.getState().modelConfigOverrideByModel};S.default.set(t,"".concat(D,".modelMap.noToolUse"),e),C.useSettingsStore.getState().setModelConfigOverrideByModel(t)},[D])),[Y,X]=(0,tN.useDebounceUpdate)(null==P||null==(r=P.modelMap)?void 0:r.toolUse,(0,m.useCallback)(e=>{if(!D)return;let t={...C.useSettingsStore.getState().modelConfigOverrideByModel};S.default.set(t,"".concat(D,".modelMap.toolUse"),e),C.useSettingsStore.getState().setModelConfigOverrideByModel(t)},[D])),[Q,J]=(0,tN.useDebounceUpdate)(null==P||null==(o=P.modelMap)?void 0:o.toolUseSummarizer,(0,m.useCallback)(e=>{if(!D)return;let t={...C.useSettingsStore.getState().modelConfigOverrideByModel};S.default.set(t,"".concat(D,".modelMap.toolUseSummarizer"),e),C.useSettingsStore.getState().setModelConfigOverrideByModel(t)},[D])),[Z,$]=(0,tN.useDebounceUpdate)(null==P?void 0:P.useSingleModelEverything,(0,m.useCallback)(e=>{if(!D)return;let t={...C.useSettingsStore.getState().modelConfigOverrideByModel};S.default.set(t,"".concat(D,".useSingleModelEverything"),e),C.useSettingsStore.getState().setModelConfigOverrideByModel(t)},[D])),[ee,et]=(0,tN.useDebounceUpdate)(null==P||null==(l=P.modelMap)?void 0:l.imageGenModel,(0,m.useCallback)(e=>{if(!D)return;let t={...C.useSettingsStore.getState().modelConfigOverrideByModel};S.default.set(t,"".concat(D,".modelMap.imageGenModel"),e),C.useSettingsStore.getState().setModelConfigOverrideByModel(t)},[D])),[es,ea]=(0,tN.useDebounceUpdate)(null==P||null==(c=P.modelMap)?void 0:c.imageEditModel,(0,m.useCallback)(e=>{if(!D)return;let t={...C.useSettingsStore.getState().modelConfigOverrideByModel};S.default.set(t,"".concat(D,".modelMap.imageEditModel"),e),C.useSettingsStore.getState().setModelConfigOverrideByModel(t)},[D])),[en,er]=(0,tN.useDebounceUpdate)(null==P?void 0:P.tools,(0,m.useCallback)(e=>{if(!D)return;let t={...C.useSettingsStore.getState().modelConfigOverrideByModel};S.default.set(t,"".concat(D,".tools"),ep(null!=e?e:{})),C.useSettingsStore.getState().setModelConfigOverrideByModel(t)},[D])),[ei,eo]=(0,tN.useDebounceUpdate)(null!=(d=null==P?void 0:P.useToolOverrides)&&d,(0,m.useCallback)(e=>{var t,s;if(!D)return;let a=C.useSettingsStore.getState().modelConfigOverrideByModel,n={...a};S.default.set(n,"".concat(D,".useToolOverrides"),e);let r=ep(null!=(s=null==(t=a[D])?void 0:t.tools)?s:{});S.default.set(n,"".concat(D,".tools"),r),C.useSettingsStore.getState().setModelConfigOverrideByModel(n)},[D])),[el,ec]=(0,tN.useDebounceUpdate)(null!=(u=null==P?void 0:P.useSideBySideParams)&&u,(0,m.useCallback)(e=>{if(!D)return;let t={...C.useSettingsStore.getState().modelConfigOverrideByModel};S.default.set(t,"".concat(D,".useSideBySideParams"),e),C.useSettingsStore.getState().setModelConfigOverrideByModel(t)},[D])),[ed,eu]=(0,tN.useDebounceUpdate)(null==P?void 0:P.sideBySideParams,(0,m.useCallback)(e=>{if(!D)return;let t={...C.useSettingsStore.getState().modelConfigOverrideByModel};S.default.set(t,"".concat(D,".sideBySideParams"),e),C.useSettingsStore.getState().setModelConfigOverrideByModel(t)},[D])),[eh,em]=(0,tC.useLocalStorage)("sbs-selected-models",[N]),ep=e=>{let t={...e};for(let e of Object.values(C.TOOL_NAMES))e in t||(t[e]=!1);return t},ef=(0,m.useCallback)(e=>{var t;let s={model_name:e},a=M[e];return a&&(null==(t=a.promptMap)?void 0:t.toolUseFc)&&(s.system_turn_prompt=a.promptMap.toolUseFc),s},[M]),eg=(0,m.useCallback)((e,t)=>{let s=[...eh];s[e]=t,em(s),0===e&&(I(t),E(t))},[eh,em,I,E]),ex=(0,m.useCallback)(e=>w.filter(t=>{let s=t.modelId;return!eh.some((t,a)=>a!==e&&t===s)}),[w,eh]);(0,m.useEffect)(()=>{if(eh[0]!==N){let e=[...eh];e[0]=N,em(e)}},[N,eh,em]),(0,m.useEffect)(()=>{if(el&&!eh[1]&&w.length>1){let e=ex(1);if(e[0]){let t=[...eh];t[1]=e[0].modelId,em(t)}}},[el,eh,w,ex,em]),(0,m.useEffect)(()=>{if(!el)return void eu(void 0);let e=eh.filter(e=>e).map(e=>ef(e));JSON.stringify(e)!==JSON.stringify(ed)&&eu(e)},[el,eh,ef,eu,ed,M]);let e_=e=>{let t={...en};"off"===e?(t.browse_page_no_js=!1,t.browse_page_with_js=!1):"no_js"===e?(t.browse_page_no_js=!0,t.browse_page_with_js=!1):"with_js"===e&&(t.browse_page_no_js=!1,t.browse_page_with_js=!0),er(t)},ev=e=>{let t={...en};t.web_search="brave"===e,t.google_web_search="google"===e,t.bing_web_search="bing"===e,er(t)};return h.SHOW_MODEL_CONFIG_OVERRIDE?(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsx)(eQ.SettingsRow,{action:(0,a.jsx)(H.Switch,{id:"disable-cache",checked:R,onCheckedChange:e=>{C.useSettingsStore.getState().setSkipResponseCache(e)}}),children:(0,a.jsx)(tj.Label,{htmlFor:"disable-cache",children:"Disable Cache"})}),(0,a.jsx)(eQ.SettingsRow,{action:(0,a.jsxs)(tw.Select,{value:A,onValueChange:e=>C.useSettingsStore.getState().setSideBySideMode(e),children:[(0,a.jsx)(tw.SelectTrigger,{id:"side_by_side_mode","aria-label":"Side-by-Side Mode",children:(0,a.jsx)(tw.SelectValue,{placeholder:"Select mode"})}),(0,a.jsxs)(tw.SelectContent,{children:[(0,a.jsx)(tw.SelectItem,{value:"always",children:"Always"}),(0,a.jsx)(tw.SelectItem,{value:"default",children:"Default"}),(0,a.jsx)(tw.SelectItem,{value:"never",children:"Never"})]})]}),children:(0,a.jsx)(tj.Label,{htmlFor:"side_by_side_mode",children:"Side-by-Side Mode"})}),(0,a.jsx)(eQ.SettingsRow,{action:(0,a.jsx)(H.Switch,{id:"use_different_sbs_models",checked:el,onCheckedChange:ec}),children:(0,a.jsx)(tj.Label,{htmlFor:"use_different_sbs_models",children:"Use different side-by-side models"})}),el&&(0,a.jsxs)("div",{className:"flex flex-col gap-2 ml-4",onClick:tE.handleIsolateClick,children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 bg-surface-l1 rounded-xl",children:[(0,a.jsx)("div",{className:"flex items-center gap-1",children:(0,a.jsx)(tj.Label,{className:"text-sm font-semibold w-16",children:"Model A:"})}),(0,a.jsxs)(tw.Select,{value:eh[0]||N,onValueChange:e=>eg(0,e),children:[(0,a.jsx)(tw.SelectTrigger,{className:"w-[200px]","aria-label":"Model A",children:(0,a.jsx)(tw.SelectValue,{placeholder:"Select a model"})}),(0,a.jsx)(tw.SelectContent,{children:ex(0).map(e=>(0,a.jsx)(tw.SelectItem,{value:e.modelId,children:e.name},e.modelId))})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 bg-surface-l1 rounded-xl",children:[(0,a.jsx)(tj.Label,{className:"text-sm font-semibold w-16",children:"Model B:"}),(0,a.jsxs)(tw.Select,{value:eh[1]||"",onValueChange:e=>eg(1,e),children:[(0,a.jsx)(tw.SelectTrigger,{className:"w-[200px]","aria-label":"Model B",children:(0,a.jsx)(tw.SelectValue,{placeholder:"Select a model"})}),(0,a.jsx)(tw.SelectContent,{children:ex(1).map(e=>(0,a.jsx)(tw.SelectItem,{value:e.modelId,children:e.name},e.modelId))})]})]})]}),k&&(0,a.jsx)(eQ.SettingsRow,{action:(0,a.jsx)(H.Switch,{id:"debug_menu",checked:!_,onCheckedChange:e=>v(!e)}),children:(0,a.jsx)(tj.Label,{htmlFor:"debug_menu",children:"Debug Menu"})}),k&&(0,a.jsxs)(eQ.SettingsRow,{action:(0,a.jsx)(H.Switch,{id:"model_override",checked:!y,onCheckedChange:e=>b(!e)}),children:[(0,a.jsx)(tj.Label,{htmlFor:"model_override",children:"Model Override"}),(0,a.jsx)(eQ.SettingsDescription,{children:"Overriding will only work when this is toggled on"})]}),(()=>p?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(tS.Separator,{orientation:"horizontal",className:"my-6"}),(0,a.jsx)(eQ.SettingsRow,{children:(0,a.jsx)(eQ.SettingsTitle,{className:"font-semibold",children:"Model Config Override"})}),(0,a.jsxs)(eQ.SettingsRow,{children:[(0,a.jsx)(tj.Label,{htmlFor:"model-select",children:"Active Model"}),(0,a.jsxs)(tw.Select,{value:N,onValueChange:e=>{I(e),E(e)},children:[(0,a.jsx)(tw.SelectTrigger,{id:"model-select",children:(0,a.jsx)(tw.SelectValue,{placeholder:"Select a model"})}),(0,a.jsx)(tw.SelectContent,{children:w.map(e=>(0,a.jsx)(tw.SelectItem,{value:e.modelId,children:e.name},e.modelId))})]})]}),(0,a.jsx)(eQ.SettingsRow,{action:(0,a.jsx)("div",{className:"flex items-center justify-end gap-1",children:(0,a.jsx)(H.Switch,{id:"use_tool_overrides",checked:ei,onCheckedChange:eo})}),children:(0,a.jsx)(tj.Label,{htmlFor:"use_tool_overrides",children:"Use tool overrides"})}),ei&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(eQ.SettingsRow,{className:"ms-4 flex flex-row items-center gap-2",children:[(0,a.jsx)(tj.Label,{htmlFor:"web_search_mode",children:"web_search"}),(0,a.jsxs)(tw.Select,{value:(null==en?void 0:en.web_search)?"brave":(null==en?void 0:en.google_web_search)?"google":(null==en?void 0:en.bing_web_search)?"bing":"off",onValueChange:ev,disabled:!ei,children:[(0,a.jsx)(tw.SelectTrigger,{id:"web_search_mode",children:(0,a.jsx)(tw.SelectValue,{placeholder:"Select mode"})}),(0,a.jsxs)(tw.SelectContent,{children:[(0,a.jsx)(tw.SelectItem,{value:"brave",children:"Brave"}),(0,a.jsx)(tw.SelectItem,{value:"google",children:"Google"}),(0,a.jsx)(tw.SelectItem,{value:"bing",children:"Bing"}),(0,a.jsx)(tw.SelectItem,{value:"off",children:"Off"})]})]})]}),Object.values(C.TOOL_NAMES).filter(e=>!Object.values(tO).flat().includes(e)&&!tM.includes(e)).map(e=>(0,a.jsx)("div",{className:"ms-8",children:(0,a.jsx)(tL,{groupName:e,toolKeys:[e],toolOverrides:en,setToolOverrides:er,disabled:!ei},e)},e)),(0,a.jsxs)(eQ.SettingsRow,{className:"ms-4 flex flex-row items-center gap-2",children:[(0,a.jsx)(tj.Label,{htmlFor:"browse_page_mode",children:"browse_page"}),(0,a.jsxs)(tw.Select,{value:(e=>{let t=null==e?void 0:e.browse_page_no_js;return(null==e?void 0:e.browse_page_with_js)?"with_js":t?"no_js":"off"})(en),onValueChange:e_,disabled:!ei,children:[(0,a.jsx)(tw.SelectTrigger,{id:"browse_page_mode",className:"w-[200px]",children:(0,a.jsx)(tw.SelectValue,{placeholder:"Select mode"})}),(0,a.jsxs)(tw.SelectContent,{children:[(0,a.jsx)(tw.SelectItem,{value:"no_js",children:"On (No JS)"}),(0,a.jsx)(tw.SelectItem,{value:"with_js",children:"On (With JS)"}),(0,a.jsx)(tw.SelectItem,{value:"off",children:"Off"})]})]})]}),Object.entries(tO).map(e=>{let[t,s]=e;return(0,a.jsx)("div",{className:"ms-8",children:(0,a.jsx)(tL,{groupName:t,toolKeys:s,toolOverrides:en,setToolOverrides:er,disabled:!ei})},t)})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)(tj.Label,{className:"px-3",htmlFor:"tool_use_fc",children:"Tool Use FC Prompt"}),O&&(0,a.jsx)("div",{className:"px-3 text-xs text-red-500",children:"This will be ignored because a global system prompt override is set in the Model Override pane. Clear it there to use this prompt."}),(0,a.jsx)(tT.Textarea,{id:"tool_use_fc",className:"bg-surface-l1",value:F||"",onChange:e=>z(e.target.value)})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)(tj.Label,{className:"px-3",htmlFor:"no_tool_use",children:"No Tool Use Prompt"}),(0,a.jsx)(tT.Textarea,{id:"no_tool_use",className:"bg-surface-l1",value:B||"",onChange:e=>G(e.target.value)})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)(tj.Label,{className:"px-3",htmlFor:"tool_use_summarizer",children:"Tool Use Summarizer Prompt"}),(0,a.jsx)(tT.Textarea,{id:"tool_use_summarizer",className:"bg-surface-l1",value:U||"",onChange:e=>W(e.target.value)})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)(tj.Label,{className:"px-3",htmlFor:"no_tool_use_model",children:"No Tool Use Model"}),(0,a.jsx)(tk.Input,{id:"no_tool_use_model",className:"bg-surface-l1",value:q||"",onChange:e=>V(e.target.value)})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)(tj.Label,{className:"px-3",htmlFor:"tool_use_model",children:"Tool Use Model"}),(0,a.jsx)(tk.Input,{id:"tool_use_model",className:"bg-surface-l1",value:Y||"",onChange:e=>X(e.target.value)})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)(tj.Label,{className:"px-3",htmlFor:"tool_use_summarizer_model",children:"Tool Use Summarizer Model"}),(0,a.jsx)(tk.Input,{id:"tool_use_summarizer_model",className:"bg-surface-l1",value:Q||"",onChange:e=>J(e.target.value)})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)(tj.Label,{className:"px-3",htmlFor:"image_gen_model",children:"Image Gen Model"}),(0,a.jsx)(tk.Input,{id:"image_gen_model",className:"bg-surface-l1",value:ee||"",onChange:e=>et(e.target.value)})]}),(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)(tj.Label,{className:"px-3",htmlFor:"image_edit_model",children:"Image Edit Model"}),(0,a.jsx)(tk.Input,{id:"image_edit_model",className:"bg-surface-l1",value:es||"",onChange:e=>ea(e.target.value)})]}),(0,a.jsx)(eQ.SettingsRow,{action:(0,a.jsx)("div",{className:"flex items-center justify-end gap-1",children:(0,a.jsx)(H.Switch,{id:"use_single_model_everything",checked:Z||!1,onCheckedChange:e=>$(e)})}),children:(0,a.jsx)(tj.Label,{htmlFor:"use_single_model_everything",children:"Use Single Model Everything"})}),(0,a.jsx)(tS.Separator,{orientation:"horizontal",className:"my-6"}),(0,a.jsx)(eQ.SettingsRow,{children:(0,a.jsx)(eQ.SettingsTitle,{className:"font-semibold",children:"Local Storage"})}),(0,a.jsx)(eQ.SettingsRow,{action:(0,a.jsx)("div",{className:"flex items-center justify-end gap-1",children:(0,a.jsx)(H.Switch,{checked:g,onCheckedChange:e=>x(e)})}),children:(0,a.jsx)(eQ.SettingsTitle,{children:"Close SuperGrok Upsells"})}),(0,a.jsx)(tS.Separator,{orientation:"horizontal",className:"my-6"})]}):(0,a.jsx)("div",{className:"text-center",children:(0,a.jsx)(K.Button,{variant:"danger",size:"xs",shape:"rectangle",onClick:()=>f(!0),children:"Open Unsafe Settings (All usage will be logged)"})}))()]}):null}let tL=e=>{let{groupName:t,toolKeys:s,toolOverrides:n,setToolOverrides:r,disabled:i}=e;if(1===s.length&&void 0!==s[0]){var o;let e=s[0];return(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(tb.Checkbox,{checked:null!=(o=null==n?void 0:n[e])&&o,onCheckedChange:t=>{r({...n,[e]:t})},disabled:i,"aria-label":e}),(0,a.jsx)(tj.Label,{children:t})]})}let l=s.every(e=>(null==n?void 0:n[e])===!0),c=s.some(e=>(null==n?void 0:n[e])===!0);return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(tb.Checkbox,{checked:c&&!l?"indeterminate":!!l,onCheckedChange:e=>{let t={...n};s.forEach(s=>{t[s]=e}),r(t)},disabled:i,"aria-label":t}),(0,a.jsx)(tj.Label,{className:"font-semibold",children:t})]}),s.map(e=>{var t;return(0,a.jsxs)("div",{className:"flex items-center gap-2 ms-4 mt-1",children:[(0,a.jsx)(tb.Checkbox,{checked:null!=(t=null==n?void 0:n[e])&&t,onCheckedChange:t=>{r({...n,[e]:t})},disabled:i,"aria-label":e}),(0,a.jsx)(tj.Label,{children:e})]},e)})]})};var tA=e.i(320738),tR=e.i(269295),tK=e.i(449762),tF=e.i(133735);let tz=["memories-v2"];function tB(){var e;let{t}=(0,E.useTranslation)("settings"),{data:s,isLoading:n,isError:r}=(0,J.useQuery)({queryKey:tz,queryFn:()=>X.chatApi.chatFetchMemoriesV2({companionId:"default"}),refetchOnWindowFocus:!0,refetchOnMount:"always"}),i=null!=(e=null==s?void 0:s.memories)?e:[];return(0,a.jsxs)("div",{className:"flex flex-col w-full gap-4",children:[(0,a.jsx)("p",{className:"text-sm text-secondary px-3",children:t("settings-memory.description","Grok remembers details from your conversations to personalize your experience. You can delete individual memories below.")}),n?(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)(G.Skeleton,{className:"h-16 w-full"}),(0,a.jsx)(G.Skeleton,{className:"h-16 w-full"}),(0,a.jsx)(G.Skeleton,{className:"h-16 w-full"})]}):r?(0,a.jsx)("p",{className:"text-sm text-destructive px-3",children:t("settings-memory.error","Failed to load memories")}):0===i.length?(0,a.jsx)("p",{className:"text-sm text-secondary px-3",children:t("settings-memory.empty","No memories saved yet.")}):(0,a.jsx)("div",{className:"flex flex-col gap-2",children:(0,a.jsx)(tF.AnimatePresence,{mode:"popLayout",children:i.map(e=>(0,a.jsx)(tG,{memory:e},e.id))})})]})}function tG(e){var t;let{memory:s}=e,{t:n}=(0,E.useTranslation)("settings"),i=(0,eh.useLogEvent)(),l=(0,tm.useRequestErrorToastFn)(),c=(0,eY.useQueryClient)(),[d,u]=(0,m.useState)(!1),[h,p]=(0,m.useState)(!1),[f,g]=(0,m.useState)(null!=(t=s.content)?t:""),x=(0,m.useRef)(null),_=(0,eH.useMutation)({mutationFn:e=>X.chatApi.chatDeleteSingleMemoryV2({id:e}),onSuccess:async()=>{await c.invalidateQueries({queryKey:tz})},onError:e=>{l("settings-memory:delete",e,n("settings-memory.delete-error","Failed to delete memory"))}}),v=(0,eH.useMutation)({mutationFn:e=>{let{id:t,content:s}=e;return X.chatApi.chatEditMemoryV2({id:t,body:{content:s}})},onSuccess:async()=>{await c.invalidateQueries({queryKey:tz}),p(!1)},onError:e=>{l("settings-memory:edit",e,n("settings-memory.edit-error","Failed to edit memory"))}}),y=(0,m.useCallback)(()=>{d?(s.id&&(i("delete_memory",s.id,{location:"settings-memory:handleDeleteMemory"}),_.mutate(s.id)),u(!1)):u(!0)},[d,s.id,i,_]),b=(0,m.useCallback)(()=>{var e;g(null!=(e=s.content)?e:""),p(!0),setTimeout(()=>{var e,t;null==(e=x.current)||e.focus(),null==(t=x.current)||t.select()},0)},[s.content]),k=(0,m.useCallback)(()=>{let e=f.trim();if(s.id&&e){if(e===s.content)return void p(!1);i("edit_memory",s.id,{location:"settings-memory:handleEditMemory"}),v.mutate({id:s.id,content:e})}},[s.id,s.content,f,i,v]),j=(0,m.useCallback)(()=>{var e;p(!1),g(null!=(e=s.content)?e:"")},[s.content]),w=(0,m.useCallback)(e=>{"Enter"!==e.key||e.shiftKey?"Escape"===e.key&&j():(e.preventDefault(),k())},[k,j]),S=s.updatedAt?new Date(s.updatedAt).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}):null,T=_.isPending||v.isPending;return(0,a.jsxs)(el.motion.div,{layout:"position",initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:(0,o.cn)("flex flex-row items-start justify-between gap-4 p-3","bg-card rounded-xl border border-border"),children:[(0,a.jsxs)("div",{className:"flex flex-col gap-1 min-w-0 flex-1",children:[h?(0,a.jsx)("input",{ref:x,type:"text",value:f,onChange:e=>g(e.target.value),onKeyDown:w,"aria-label":n("settings-memory.edit-input","Edit memory"),className:(0,o.cn)("w-full text-sm text-primary bg-transparent","border-b border-border/50 focus:border-primary/70","focus:outline-none")}):(0,a.jsx)("p",{className:"text-sm text-primary break-words",children:s.content}),S&&(0,a.jsx)("p",{className:"text-xs text-secondary",children:S})]}),T?(0,a.jsx)("div",{className:"flex items-center justify-center size-8",children:(0,a.jsx)(et.Spinner,{size:"xs"})}):h?(0,a.jsxs)("div",{className:"flex flex-row gap-1",children:[(0,a.jsx)(r.ButtonWithTooltip,{variant:"ghost",size:"iconSm",onClick:j,tooltipContent:n("settings-memory.cancel","Cancel"),children:(0,a.jsx)(R.XIcon,{size:16})}),(0,a.jsx)(r.ButtonWithTooltip,{variant:"ghost",size:"iconSm",onClick:k,disabled:!f.trim(),tooltipContent:n("settings-memory.save","Save"),children:(0,a.jsx)(tA.CheckIcon,{size:16})})]}):(0,a.jsxs)("div",{className:"flex flex-row gap-1",children:[(0,a.jsx)(r.ButtonWithTooltip,{variant:"ghost",size:"iconSm",onClick:b,tooltipContent:n("settings-memory.edit","Edit"),children:(0,a.jsx)(tR.PenIcon,{size:16})}),d?(0,a.jsx)(K.Button,{autoFocus:!0,variant:"danger",size:"sm",shape:"rectangle",onClick:y,onBlur:()=>u(!1),children:(0,a.jsx)("span",{className:"text-xs px-1",children:n("settings-memory.confirm","Confirm")})}):(0,a.jsx)(r.ButtonWithTooltip,{variant:"ghost",size:"iconSm",onClick:y,tooltipContent:n("settings-memory.delete","Delete"),children:(0,a.jsx)(tK.TrashIcon,{size:16})})]})]})}var tU=e.i(21619);function tW(){let{t:e}=(0,E.useTranslation)("settings"),t=(0,eh.useLogEvent)(),s=(0,tm.useRequestErrorToastFn)(),n=(0,C.useSettingsStore)(e=>e.userSettings.preferences.selectedSystemPromptId),r=(0,N.usePersonalityStore)(e=>n?e.draftPromptById[n]:void 0),i=(0,N.usePersonalityStore)(e=>n?e.byId[n]:void 0);(0,m.useEffect)(()=>()=>{var e;let t=C.useSettingsStore.getState(),s=N.usePersonalityStore.getState(),a=t.userSettings.preferences.selectedSystemPromptId;if(!(0,N.isCustomPersonality)(a))return;let n=a?s.byId[a]:void 0,r=a?s.draftPromptById[a]:void 0,i=!(null==r?void 0:r.trim()),o=r!==(null!=(e=null==n?void 0:n.prompt)?e:"");i?(t.userSettings.preferences.selectedSystemPromptId=void 0,t.fetchSetPreference("selectedSystemPromptId",void 0).catch(e=>{(0,w.logError)("settings-personality:unmount",e)})):o&&r&&(n?s.fetchUpdatePersonality({personalityId:n.personalityId,name:n.name,description:n.description,prompt:r,isPreset:!0}).catch(e=>{(0,w.logError)("settings-personality:unmount",e)}):s.fetchCreatePersonality({...N.DEFAULT_CUSTOM_PERSONALITY,prompt:r}).then(e=>{t.fetchSetPreference("selectedSystemPromptId",e.personalityId).catch(e=>{(0,w.logError)("settings-personality:unmount",e)})}).catch(e=>{(0,w.logError)("settings-personality:unmount",e)}))},[]),(0,m.useEffect)(()=>{!r&&n&&N.usePersonalityStore.getState().upsertDraftPrompt((null==i?void 0:i.prompt)||"",n)},[n]);let l=(0,m.useMemo)(()=>!!(0,N.isCustomPersonality)(n)&&(!i&&!!r||!!i&&r!==i.prompt),[r,i,n]),c=(0,N.usePersonalityStore)(D.prop("list")),u=(0,m.useMemo)(()=>{let e=c.find(e=>!e.isPreset);return e||N.DEFAULT_CUSTOM_PERSONALITY},[c]),h=(0,m.useMemo)(()=>c.filter(e=>e.isPreset),[c]),p=(0,m.useCallback)(e=>{let s=C.useSettingsStore.getState();s.userSettings.preferences.selectedSystemPromptId===e.personalityId?(t("settings-personality-selected","none",{personalityId:"none",location:"settings-personality:handleSelectPersonality"}),s.userSettings.preferences.selectedSystemPromptId=void 0,s.fetchSetPreference("selectedSystemPromptId",void 0).catch(e=>{(0,w.logError)("settings-personality:handleSelectPersonality",e)})):(t("settings-personality-selected",e.personalityId,{personalityId:e.personalityId,location:"settings-personality:handleSelectPersonality"}),s.userSettings.preferences.selectedSystemPromptId=e.personalityId,s.fetchSetPreference("selectedSystemPromptId",e.personalityId).catch(e=>{(0,w.logError)("settings-personality:handleSelectPersonality",e)}))},[t]),f=(0,m.useCallback)(t=>{let a=N.usePersonalityStore.getState(),n=C.useSettingsStore.getState(),r=n.userSettings.preferences.selectedSystemPromptId;if(!r)return;a.upsertDraftPrompt(t,r);let i=a.byId[r];i?a.fetchUpdatePersonality({personalityId:r,name:i.name,description:i.description,prompt:t,isPreset:!0}).catch(t=>{(0,w.logError)("settings-personality:handleSave",t),s("settings-personality:handleSave",t,e("settings-personality.error","Failed to update settings"))}):a.fetchCreatePersonality({...N.DEFAULT_CUSTOM_PERSONALITY,prompt:t}).then(e=>{n.fetchSetPreference("selectedSystemPromptId",e.personalityId).catch(e=>{(0,w.logError)("settings-personality:handleSelectPersonality",e)})}).catch(t=>{(0,w.logError)("settings-personality:handleSave",t),s("settings-personality:handleSave",t,e("settings-personality.error","Failed to update settings"))})},[s,e]),g=(0,m.useCallback)(()=>{let e=N.usePersonalityStore.getState(),t=C.useSettingsStore.getState().userSettings.preferences.selectedSystemPromptId;t&&e.upsertDraftPrompt((null==i?void 0:i.prompt)||"",t)},[i]),x=(0,m.useCallback)(e=>{let t=N.usePersonalityStore.getState();n&&t.upsertDraftPrompt(e,n)},[n]),_=(0,m.useId)();return(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("p",{className:"pl-4 pb-3 text-sm font-semibold",children:e("Customize Grok's Response","Customize Grok's Response")}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2 px-1 mb-6",children:[u&&(0,a.jsx)(tq,{personality:u,isSelected:(0,N.isCustomPersonality)(n),handleSelectPersonality:p}),h.map(e=>(0,a.jsx)(tq,{personality:e,isSelected:n===e.personalityId,handleSelectPersonality:p},e.personalityId))]}),(0,a.jsxs)("div",{className:(0,o.cn)("flex-col gap-2 px-1",n?"flex":"hidden"),children:[(0,a.jsx)("div",{className:"flex items-center gap-2 pl-3 text-sm texâ€¹t-primary",children:(0,a.jsx)("label",{htmlFor:_,children:e("Custom Instructions","Custom Instructions")})}),(0,a.jsx)(tU.CustomPersonalityForm,{value:r||"",onChange:x,isDirty:l,placeholder:e("How should Grok behave?","How should Grok behave?"),onSave:f,onReset:g,disabled:!(0,N.isCustomPersonality)(n),textareaId:_,autoFocus:!0})]}),(0,a.jsxs)("div",{className:(0,o.cn)("flex flex-row gap-2 h-full px-8  items-center text-sm text-secondary",n?"hidden":"flex"),children:[(0,a.jsx)(d.Info,{className:"size-4 shrink-0"}),e("Select an instruction set from above to customize Grok's responses.","Select an instruction set from above to customize Grok's responses.")]})]})}function tq(e){let{personality:t,isSelected:s,handleSelectPersonality:n}=e,r=(0,m.useCallback)(()=>{n(t)},[n,t]);return(0,a.jsxs)(K.Button,{className:(0,o.cn)("flex flex-col items-center justify-start gap-1","text-wrap text-start","w-full rounded-2xl flex-row px-3.5 py-2.5 group","hover:bg-button-ghost-hover text-primary","relative",s&&"bg-button-ghost-hover pr-4"),variant:"secondary",size:"none",shape:"rectangle",onClick:r,children:[(0,a.jsxs)("div",{className:"w-full h-full flex flex-col gap-0.5 justify-start",children:[(0,a.jsx)("p",{className:"text-sm text-primary",children:t.name}),(0,a.jsx)("p",{className:"text-xs text-secondary",children:t.description})]}),s&&(0,a.jsx)(tA.CheckIcon,{className:"size-4 text-secondary"})]})}var tV=e.i(938270),tH=e.i(489843);function tY(){var e,t;return null==(t=(0,v.useSession)().user)||null==(e=t.email)?void 0:e.toLocaleLowerCase().endsWith("@x.ai")}var tX=e.i(704618),tQ=e.i(408430);function tJ(e){let{children:t}=e,{currentTeam:s}=(0,$.useEnterprise)();return(null==s?void 0:s.teamId)?null:t}var tZ=e.i(436938),t$=e.i(939042),t0=(0,t$.createServerReference)("7f0371dfc9911aceb8e05dd56ab4a23349b0e97b5a",t$.callServer,void 0,t$.findSourceMapURL,"deleteOauthConnector"),t1=e.i(729009),t2=e.i(479268);function t8(e){return(0,eH.useMutation)({mutationFn:async()=>{let t=window.location.host,s="SLACK"===e?t1.HTTPS_REDIRECT:"",a="".concat(t.startsWith("localhost")?"".concat(s,"http://"):"https://").concat(t).concat(t1.CONNECT_OAUTH_HANDLER_ROUTE),n=await (0,tZ.getAuthUrlAndSetOAuthCookie)(a,e);window.open(n||t1.CONNECT_OAUTH_ERROR_ROUTE,"_blank","noopener noreferrer")},onError:t=>{(0,w.logError)("settings.connected-apps.connect",t,{provider:e}),window.open(t1.CONNECT_OAUTH_ERROR_ROUTE,"_blank","noopener noreferrer")}})}function t4(e){let{provider:t,connector:s,disconnectErrorMessage:n,disconnectOnly:r}=e,{t:i}=(0,E.useTranslation)("settings"),o=(0,eY.useQueryClient)(),l=(0,eh.useLogEvent)(),c=(0,t2.usePrettyOauthProvider)(t),d=(0,t2.oauthProviderToIcon)(t),u=t8(t),h=(0,eH.useMutation)({mutationFn:async()=>{let e=null==s?void 0:s.oauthConnectorId;if(!e)return;await t0({oauthConnectorId:e});let t=["oauth-connectors"];await o.cancelQueries({queryKey:t}),o.setQueryData(t,t=>t.filter(t=>t.oauthConnectorId!==e))},onError:e=>{(0,w.logError)("settings.connected-apps.disconnect",e,{provider:t}),M.toast.error(n)}}),m=!!s,p=u.isPending||h.isPending,f=m?i("settings.connected-apps.disconnect","Disconnect"):i("settings.connected-apps.connect","Connect");return r&&!m?null:(0,a.jsx)(eQ.SettingsRow,{action:(0,a.jsx)(K.Button,{variant:m?"danger":"secondary",size:"md",shape:"rectangle",onClick:()=>{if(m){l("disconnect-oauth-clicked",t,{location:"settings"}),h.mutate();return}l("connect-oauth-clicked",t,{location:"settings"}),u.mutate()},disabled:p,children:p?(0,a.jsx)(et.Spinner,{size:"sm"}):f}),className:"text-md",children:(0,a.jsxs)(eQ.SettingsTitle,{className:"flex flex-row items-center gap-1.5",children:[d&&(0,a.jsx)(d,{size:16}),c]})})}function t3(){let{t:e}=(0,E.useTranslation)("settings"),t=(0,i.useFeatureFlags)(),{data:s}=(0,tX.useOauthConnectors)(),n=null==s?void 0:s.find(e=>"GOOGLE_DRIVE"===e.provider),r=null==s?void 0:s.find(e=>"MICROSOFT_ONEDRIVE"===e.provider),o=null==s?void 0:s.find(e=>"SLACK"===e.provider),l=null==s?void 0:s.find(e=>"GITHUB"===e.provider),c=null==s?void 0:s.find(e=>"GOOGLE_CALENDAR"===e.provider),u=null==s?void 0:s.find(e=>"GOOGLE_GMAIL"===e.provider),h=null==s?void 0:s.find(e=>"NOTION"===e.provider),m=t.ENABLE_GROK_TASK_TOOLS,p=(0,Y.useMobileSize)();return(0,a.jsxs)("div",{className:"flex flex-col w-full h-full gap-6 relative",children:[(t.ENABLE_GCAL_INTEGRATION||m)&&(0,a.jsx)(t4,{disconnectOnly:!0,provider:"GOOGLE_CALENDAR",connector:c,disconnectErrorMessage:e("settings.connected-apps.failed-to-disconnect-google-calendar","Failed to disconnect Google Calendar")}),(t.ENABLE_GCAL_INTEGRATION||m)&&(0,a.jsx)(t4,{disconnectOnly:!0,provider:"GOOGLE_GMAIL",connector:u,disconnectErrorMessage:e("settings.connected-apps.failed-to-disconnect-google-gmail","Failed to disconnect Google Gmail")}),(t.ENABLE_NOTION_INTEGRATION||m)&&(0,a.jsx)(t4,{disconnectOnly:!0,provider:"NOTION",connector:h,disconnectErrorMessage:e("settings.connected-apps.failed-to-disconnect-notion","Failed to disconnect Notion")}),(0,a.jsx)(t4,{disconnectOnly:!0,provider:"GOOGLE_DRIVE",connector:n,disconnectErrorMessage:e("settings.connected-apps.failed-to-disconnect-google-drive","Failed to disconnect Google Drive")}),(0,a.jsx)(t4,{disconnectOnly:!0,provider:"MICROSOFT_ONEDRIVE",connector:r,disconnectErrorMessage:e("settings.connected-apps.failed-to-disconnect-microsoft-onedrive","Failed to disconnect Microsoft OneDrive")}),(t.ENABLE_SLACK_INTEGRATION||m)&&(0,a.jsx)(t4,{disconnectOnly:!0,provider:"SLACK",connector:o,disconnectErrorMessage:e("settings.connected-apps.failed-to-disconnect-slack","Failed to disconnect Slack")}),t.ENABLE_GITHUB_INTEGRATION&&(0,a.jsx)(t4,{disconnectOnly:!1,provider:"GITHUB",connector:l,disconnectErrorMessage:e("settings.connected-apps.failed-to-disconnect-github","Failed to disconnect GitHub")}),!p&&(0,a.jsxs)("div",{className:"flex items-center gap-1 w-full justify-center text-xs text-secondary",children:[(0,a.jsx)(d.Info,{className:"size-4 shrink-0"}),e("settings.connected-apps.connected-apps-tasks-chat","Currently only Grok Tasks can chat with or call external connections")]})]})}var t5=e.i(603004),t6=e.i(246639),t7=e.i(7390),t9=e.i(557560),se=e.i(169683),st=e.i(687712),ss=e.i(879085),sa=e.i(134507);e.i(254854);var sn=e.i(310366),sr=e.i(805995),si=e.i(315302),so=e.i(390675),sl=e.i(272027);e.i(410172);var sc=e.i(248956);let sd=e=>{let{isAdmin:t,onClick:s,ariaLabel:n,tooltipContent:i}=e,{t:o}=(0,E.useTranslation)("settings");return(0,a.jsx)(b.TooltipProvider,{children:t?(0,a.jsx)(r.Button,{variant:"ghost",size:"sm",onClick:s,"aria-label":n,className:"size-8 p-0 bg-surface",children:(0,a.jsx)(t7.PlusIcon,{size:16})}):(0,a.jsxs)(b.Tooltip,{children:[(0,a.jsx)(b.TooltipTrigger,{asChild:!0,children:(0,a.jsx)(r.Button,{variant:"ghost",size:"sm",disabled:!0,"aria-label":n,className:"size-8 p-0 bg-surface",children:(0,a.jsx)(t7.PlusIcon,{size:16,className:"text-fg-tertiary"})})}),(0,a.jsx)(b.TooltipContent,{children:i||o("grok-business-connected-apps.admin-required-tooltip","No permission to add this connection. Team Admin should enable this connection from console")})]})})},su=e=>{let{connectorType:t,connector:s}=e,{t:n}=(0,E.useTranslation)("settings"),i=(0,t5.useConnectorTypeToLabel)(),o=(0,t5.connectorTypeToIcon)(t),{currentTeam:l}=(0,$.useEnterprise)(),{CLOUD_CONSOLE_URL:c}=(0,eg.useEnvironment)(),{mutate:d,isPending:u}=(0,si.useGetConnectorsAuthUrl)(),h=function(){var e;let{currentTeam:t}=(0,$.useEnterprise)(),s=(0,sn.useTransport)(),a=null!=(e=null==t?void 0:t.teamId)?e:"",n=(0,eY.useQueryClient)();return(0,sr.useMutation)({...(0,sa.deleteOauthConnectorMutation)({transport:s}),onSuccess:()=>n.invalidateQueries((0,sa.listConnectorsForUserOptions)(a,{transport:s}))})}(),p=(0,tm.useRequestErrorToastFn)(),f=(0,sl.useCanUserManageEnterpriseTeam)(),g=(0,se.usePersonalGoogleDriveConsentContent)(),x=(0,se.useTeamGoogleDriveConsentContent)(),[_,v]=(0,m.useState)(!1),[y,k]=(0,m.useState)(!1),[j,w]=(0,m.useState)(!1),S=!s,T=(null==s?void 0:s.latestSuccessfulSync)!==void 0,N=!!s&&!T,C=(null==s?void 0:s.isActiveForUser)?n("grok-business-connected-apps.teams-workspace-and-personal-files","Team workspace and personal files within it"):n("grok-business-connected-apps.teams-workspace","Team workspace"),I=i(t);return S?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border border-border rounded-xl",children:[(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:"flex items-center justify-center size-6 shrink-0",children:o&&(0,a.jsx)(o,{size:22})}),(0,a.jsx)("span",{className:"text-sm font-medium",children:I})]}),(0,a.jsx)(sd,{isAdmin:f,onClick:()=>{k(!0)},ariaLabel:n("grok-business-connected-apps.add","Add")})]}),(0,a.jsx)(t9.GoogleConsentModal,{open:y,onClose:()=>{k(!1)},onAccept:()=>{k(!1),window.open("".concat(c,"/team/").concat(null==l?void 0:l.teamId,"/grok-business/apps"),"_blank","noopener,noreferrer")},provider:"GOOGLE_DRIVE",title:n("grok-business-connected-apps.activate-google-drive-integration-title","Activate Google Drive Integration from Console"),acceptButtonText:n("grok-business-connected-apps.go-to-console","Go to Console"),infoItems:x})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex flex-col rounded-md gap-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border border-border rounded-xl",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"flex items-center justify-center size-6 shrink-0",children:o&&(0,a.jsx)(o,{size:22})}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:I}),(0,a.jsx)("span",{className:"text-xs text-fg-secondary",children:C})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"flex items-center gap-1 text-xs text-fg-secondary",children:N?(0,a.jsx)("span",{children:n("grok-business-connected-apps.syncing","Syncing...")}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(tA.CheckIcon,{size:14,className:"text-success"}),(0,a.jsx)("span",{children:n("grok-business-connected-apps.complete","Complete")})]})}),s&&s.isActiveForUser&&(0,a.jsxs)(ss.DropdownMenu,{children:[(0,a.jsx)(ss.DropdownMenuTrigger,{asChild:!0,children:(0,a.jsx)(r.Button,{variant:"ghost",size:"xs",className:"size-6 p-0 text-fg-secondary","aria-label":n("grok-business-connected-apps.more-options","More options"),children:(0,a.jsx)(t6.EllipsisVertical,{size:14})})}),(0,a.jsxs)(ss.DropdownMenuContent,{align:"end",children:[(0,a.jsx)(b.TooltipProvider,{children:t===sc.ConnectorType.GOOGLE_DRIVE&&(f?(0,a.jsx)(ss.DropdownMenuItem,{onClick:()=>{window.open("".concat(c,"/team/").concat(null==l?void 0:l.teamId,"/grok-business/apps"),"_blank","noopener,noreferrer")},children:n("grok-business-connected-apps.revoke-team-access","Revoke team access")}):(0,a.jsxs)(b.Tooltip,{children:[(0,a.jsx)(b.TooltipTrigger,{asChild:!0,children:(0,a.jsx)(ss.DropdownMenuItem,{disabled:!0,children:n("grok-business-connected-apps.revoke-team-access","Revoke team access")})}),(0,a.jsx)(b.TooltipContent,{children:n("grok-business-connected-apps.no-permission","No permission")})]}))}),(0,a.jsx)(ss.DropdownMenuItem,{onClick:()=>v(!0),children:n("grok-business-connected-apps.revoke-personal-files","Revoke personal files access")})]})]})]})]}),t===sc.ConnectorType.GOOGLE_DRIVE&&s&&!s.isActiveForUser&&(0,a.jsx)("div",{className:"p-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:n("grok-business-connected-apps.add-personal-files-title","Add personal files from your Google Drive workspace too?")}),(0,a.jsx)("span",{className:"text-xs text-fg-secondary",children:n("grok-business-connected-apps.add-personal-files-description","Grok will use these files only with you.")})]}),(0,a.jsx)(r.Button,{size:"xs",variant:"filled",onClick:()=>{u||w(!0)},disabled:u,className:"ms-3",children:u?(0,a.jsx)(et.Spinner,{size:"xs"}):n("grok-business-connected-apps.add","Add")})]})})]}),(0,a.jsx)(st.Dialog,{open:_,onOpenChange:v,children:(0,a.jsxs)(st.DialogContent,{className:"w-full max-w-[350px] p-4 rounded-2xl border border-border-l1 flex flex-col gap-6",children:[(0,a.jsx)(st.DialogHeader,{children:(0,a.jsx)(st.DialogTitle,{className:"font-semibold text-sm",children:n("delete-connector.confirm.title","Remove personal access?")})}),(0,a.jsx)("p",{className:"text-sm text-fg-secondary",children:n("delete-connector.confirm.description-personal","Your personal files will no longer be accessible. Team Google Drive files will still be available.")}),(0,a.jsxs)("div",{className:"flex w-full items-center justify-end gap-2",children:[(0,a.jsx)(r.Button,{variant:"outline",size:"md",onClick:()=>v(!1),children:n("delete-connector.confirm.cancel","Cancel")}),(0,a.jsx)(r.Button,{variant:"destructive",size:"md",onClick:()=>{h.isPending||(v(!1),h.mutate({connectorType:t,teamId:null==l?void 0:l.teamId},{onSuccess:()=>{M.toast.success(n("grok-business-connected-apps.disconnect.success","Personal files access revoked"))},onError:e=>p("grok-business-connected-apps:handleConfirmDisconnect",e)}))},children:n("delete-connector.confirm.confirm","Remove")})]})]})}),(0,a.jsx)(t9.GoogleConsentModal,{open:j,onClose:()=>{w(!1)},onAccept:()=>{w(!1),d(t,{onSuccess:e=>{if(!e)return void p("grok-business-connected-apps:handlePersonalConsentAccept",Error("Failed to get auth url"));window.location.href=e},onError:e=>p("grok-business-connected-apps:handlePersonalConsentAccept",e)})},provider:"GOOGLE_DRIVE",infoItems:g})]})},sh=e=>{let{connectors:t}=e;return(0,a.jsx)("div",{className:"flex flex-col gap-3",children:t.map(e=>(0,a.jsx)(su,{connectorType:e.connectorType,connector:e},e.connectorId))})},sm=()=>(0,a.jsx)(su,{connectorType:sc.ConnectorType.GOOGLE_DRIVE}),sp=e=>{let{variant:t,title:s,children:n}=e;return(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsx)("h3",{className:"text-sm font-medium px-4",children:s}),(0,a.jsx)("div",{className:(0,o.cn)("px-4","grid"===t?"grid grid-cols-2 gap-3":""),children:n})]})};function sf(){let{t:e}=(0,E.useTranslation)("settings"),{data:t=[]}=(0,so.useListConnectorsForUser)(),s=(0,sl.useCanUserManageEnterpriseTeam)(),n=t.length>0,r=t.some(e=>e.connectorType===sc.ConnectorType.GOOGLE_DRIVE);return(0,a.jsxs)("div",{className:"flex flex-col w-full h-full gap-6 relative",children:[n&&(0,a.jsx)(sp,{variant:"list",title:e("grok-business-connected-apps.connected-apps","Connected apps"),children:(0,a.jsx)(sh,{connectors:t})}),s&&!r&&(0,a.jsx)(sp,{variant:"list",title:e("grok-business-connected-apps.available-apps","Available apps"),children:(0,a.jsx)(sm,{})})]})}var sg=e.i(113377);function sx(){let{t:e}=(0,E.useTranslation)("settings"),{isEnterpriseUser:t}=(0,eq.useSubscriptions)(),{currentTeam:s}=(0,$.useEnterprise)(),{CLOUD_CONSOLE_URL:n}=(0,eg.useEnvironment)();return s?(0,a.jsx)("div",{className:"flex flex-col w-full h-full",children:(0,a.jsxs)("div",{className:"px-3 gap-2",children:[(0,a.jsx)("div",{className:"flex flex-row items-center justify-between gap-2",children:(0,a.jsxs)("div",{className:"flex flex-col items-start gap-2",children:[t?(0,a.jsx)(ex.GrokBusinessLogo,{className:"h-3 w-auto"}):null,(0,a.jsx)("h1",{className:"font-semibold text-2xl",children:s.name})]})}),(0,a.jsx)("div",{className:"h-px w-full bg-border my-4"}),(0,a.jsx)(eQ.SettingsRow,{action:(0,a.jsx)(K.Button,{variant:"secondary",size:"md",shape:"rectangle",asChild:!0,children:(0,a.jsx)("a",{href:"".concat(n,"/team/").concat(s.teamId,"/grok-business/overview"),target:"_blank",rel:"noopener noreferrer",children:e("settings-team.action","Manage")})}),children:(0,a.jsxs)("div",{children:[(0,a.jsx)(eQ.SettingsTitle,{className:"flex flex-row items-center gap-1.5",children:e("settings-team.title","Manage your team")}),(0,a.jsx)(eQ.SettingsDescription,{children:e("settings-team.description-v2","Manage your subscription, add and remove users, plus more in the Grok Business console.")})]})})]})}):null}var s_=e.i(279231);function sv(e){let{icon:t,text:s,tab:n}=e,r=(0,Y.useMobileSize)(),i=(0,eX.useSettingsDialogStore)(D.prop("tab")),l=(0,eX.useSettingsDialogStore)(D.prop("setTab")),c="account"===n?i===n||!r&&"home"===i:i===n,d=(0,m.useCallback)(()=>{l(n)},[n,l]);return(0,a.jsxs)(K.Button,{variant:"secondary",size:"md",shape:"rectangle",className:(0,o.cn)("group gap-3 px-4 justify-start h-10 hover:bg-card-hover min-w-40 border-none",r&&"text-lg h-10 flex",c&&"hover:text-primary text-primary [&>svg]:text-primary bg-button-ghost-hover"),onClick:d,children:[(0,a.jsx)(t,{size:18,className:(0,o.cn)("text-secondary group-hover:text-primary",{"text-primary":c})})," ",s,r&&(0,a.jsx)(s_.ChevronRight,{className:"text-secondary !ms-auto",size:18})]})}function sy(e){let{tab:t}=e,{t:s}=(0,E.useTranslation)("settings");switch((0,Y.useMobileSize)()?t:"home"){case"account":return s("settings-tab.account","Account");case"team":return s("settings-tab.team","Team");case"appearance":return s("settings-tab.appearance","Appearance");case"chat":return s("settings-tab.chat","Chat");case"personality":return s("settings-tab.personality","Personality");case"data":return s("settings-tab.data","Data Controls");case"memory":return s("settings-tab.memory","Memory");case"billing":return s("settings-tab.subscription","Subscription");case"dev":return s("settings-tab.dev","Dev");case"behavior":return s("settings-tab.behavior","Behavior");case"connected-apps":return s("settings-tab.connected-apps","Connected Apps");case"grok-business-connected-apps":return s("settings-tab.grok-business-connected-apps","Connected Apps");default:return s("settings-tab.home","Settings")}}let sb=()=>{let{t:e}=(0,E.useTranslation)("settings"),t=(0,Y.useMobileSize)(),s=(0,eX.useSettingsDialogStore)(D.prop("tab")),n=(0,eX.useSettingsDialogStore)(D.prop("setTab")),{resolvedTheme:r}=(0,tQ.useTheme)(),l=(0,eX.useSettingsDialogStore)(D.prop("open")),c=(0,eX.useSettingsDialogStore)(D.prop("setOpen")),d=(0,i.useFeatureFlags)(),{data:u}=(0,tX.useOauthConnectors)(),h=u&&u.length>0,p=(0,v.useSession)(),{ACCOUNT_URL:f}=(0,eg.useEnvironment)(),g=(0,m.useCallback)(()=>{window.open(f+"/account?redirect=grok-com&theme=".concat(r),"_blank")},[r,f]),x=(0,m.useCallback)(()=>{window.location.assign(f+"/account?redirect=grok-com&theme=".concat(r))},[r,f]),_=(0,m.useCallback)(()=>{c(!1)},[c]),y=(0,eh.useLogEvent)();(0,tH.useHotkeys)(tV.KBD_SETTINGS,e=>{e.preventDefault(),e.stopPropagation(),y("pressed_cmd_settings","",{location:"settings-dialog:useHotkeys"}),c(!l)},[l,c,y]);let b=tY(),{isSuperGrokUser:k,isSuperGrokProUser:j}=(0,eq.useSubscriptions)(),w=(0,eX.useSettingsDialogStore)(D.prop("expanded")),S=(0,m.useCallback)(()=>{let{toggleExpanded:e}=eX.useSettingsDialogStore.getState();e()},[]),T=(0,m.useCallback)(()=>{c(!1),n("home")},[c,n]);return(0,a.jsx)(V.ResponsiveDialog,{open:l,setOpen:c,contentClassName:(0,o.cn)("focus:outline-0 focus-within:outline-0 gap-2 bg-background rounded-3xl",w?"h-[90%] w-[80%]":"md:w-[calc(100%-2rem)] max-w-3xl md:min-h-[420px] h-[calc(100dvh-64px)] md:h-3/5","flex flex-col md:overflow-hidden"),headerClassName:"relative flex-shrink-0 px-6 pt-5 pb-2 min-h-10",titleClassName:"text-xl text-left",onClose:T,onBack:t&&"home"!==s?()=>n("home"):void 0,title:(0,a.jsx)(sy,{tab:s}),children:(0,a.jsxs)("div",{className:(0,o.cn)("flex flex-col w-full sm:flex-row focus:outline-none h-0 flex-grow",t&&"pb-8 pt-4"),children:[(!t||"home"===s)&&(0,a.jsxs)("div",{className:(0,o.cn)("flex flex-col gap-1.5",t?"gap-3 px-2 w-full":"pl-3 pb-3"),children:[(0,a.jsx)(sv,{icon:eM.UserIcon,text:e("account","Account"),tab:"account"}),(0,a.jsx)(A.EnterpriseWrapper,{requireSelectedTeam:!0,children:(0,a.jsx)(sv,{icon:eT.default,text:e("team","Team"),tab:"team"})}),(0,a.jsx)(sv,{icon:eN,text:e("appearance","Appearance"),tab:"appearance"}),(0,a.jsx)(sv,{icon:eD,text:e("settings.behavior",{defaultValue:"Behavior"}),tab:"behavior"}),(0,a.jsx)(sv,{icon:eI.Settings2,text:e("Customize","Customize"),tab:"personality"}),p.user&&(0,a.jsx)(sv,{icon:ej.default,text:e("Data Controls","Data Controls"),tab:"data"}),p.user&&d.ENABLE_MEMORY_V2_EXPLICIT_TOOLS&&(0,a.jsx)(sv,{icon:ek.BrainIcon,text:e("Memory","Memory"),tab:"memory"}),(k||j)&&!p.team&&(0,a.jsx)(sv,{icon:eC,text:e("setting-tab.subscription","Subscription"),tab:"billing"}),p.user&&(h||d.ENABLE_GITHUB_INTEGRATION)&&(0,a.jsx)(tJ,{children:(0,a.jsx)(sv,{icon:eb.default,text:e("settings.connected-apps","Connected Apps"),tab:"connected-apps"})}),p.user&&b&&(0,a.jsx)(A.EnterpriseWrapper,{requireSelectedTeam:!0,children:(0,a.jsx)(sv,{icon:eb.default,text:e("settings.grok-business-connected-apps","Connected Apps"),tab:"grok-business-connected-apps"})}),p.user&&d.SHOW_MODEL_CONFIG_OVERRIDE&&(0,a.jsx)(sv,{icon:eE.default,text:e("settings.dev-tools","Dev Tools"),tab:"dev"}),d.SHOW_MODEL_CONFIG_OVERRIDE&&(0,a.jsx)(K.ButtonWithTooltip,{"aria-label":e("settings.toggle-settings-size","Toggle Settings Size"),tooltipContent:(0,a.jsx)("div",{className:"flex items-center gap-2",children:e("settings.toggle-settings-size","Toggle Settings Size")}),tooltipContentProps:{side:"bottom"},tooltipProps:{delayDuration:300},variant:"tertiary",size:"sm",shape:"square",className:(0,o.cn)("transition-colors text-secondary hover:text-primary","mt-auto"),onClick:S,children:w?(0,a.jsx)(eS.Minimize2Icon,{size:16}):(0,a.jsx)(ew.Maximize2Icon,{size:16})})]}),("account"===s||!t&&"home"===s)&&(0,a.jsx)(sk,{children:(0,a.jsx)(eJ,{onManage:g})}),"team"===s&&(0,a.jsx)(A.EnterpriseWrapper,{requireSelectedTeam:!0,children:(0,a.jsx)(sk,{children:(0,a.jsx)(sx,{})})}),"appearance"===s&&(0,a.jsx)(sk,{children:(0,a.jsx)(e2,{})}),"behavior"===s&&(0,a.jsx)(sk,{children:(0,a.jsx)(e4,{})}),"personality"===s&&(0,a.jsx)(sk,{children:(0,a.jsx)(tW,{})}),"data"===s&&p.user&&(0,a.jsx)(sk,{children:(0,a.jsx)(t_,{onManage:g,onDelete:x,onNavigate:_})}),"memory"===s&&p.user&&(0,a.jsx)(sk,{children:(0,a.jsx)(tB,{})}),"billing"===s&&p.user&&(0,a.jsx)(sk,{children:(0,a.jsx)(sg.SettingsSubscriptionSection,{})}),"connected-apps"===s&&p.user&&(h||d.ENABLE_GITHUB_INTEGRATION)&&(0,a.jsx)(tJ,{children:(0,a.jsx)(sk,{children:(0,a.jsx)(t3,{})})}),"grok-business-connected-apps"===s&&p.user&&b&&(0,a.jsx)(A.EnterpriseWrapper,{requireSelectedTeam:!0,children:(0,a.jsx)(sk,{children:(0,a.jsx)(sf,{})})}),"dev"===s&&p.user&&d.SHOW_MODEL_CONFIG_OVERRIDE&&(0,a.jsx)(sk,{children:(0,a.jsx)(tP,{})})]})})};function sk(e){let{children:t}=e;return(0,a.jsx)("div",{className:(0,o.cn)("flex-1 w-full h-full","pl-4 pr-4 pb-10 md:pr-4","overflow-scroll focus:outline-none"),children:t})}let sj=()=>{let e=(0,m.useRef)(null),t=(0,m.useRef)(null),s=(0,m.useRef)(null);return(0,m.useEffect)(()=>{let a=e.current,n=t.current;if(!a||!n)return;let r=a.getContext("2d");if(!r)return;let i=[],o=[],l=0,c=!1,d=0,u=()=>{let e=n.getBoundingClientRect();a.width=e.width,a.height=e.height,i.length=0,h(800,!0)},h=(e,t)=>{for(let s=0;s<e;s++){let e=Math.random()*Math.PI*2,s=Math.random()*Math.max(a.width,a.height)*2+500;i.push({x:0,y:0,radius:Math.random()+.3,opacity:t?.5*Math.random()+.5:0,twinkleSpeed:.005+.01*Math.random(),angle:e,distance:s})}};u();let m=new ResizeObserver(u);m.observe(n);let p=()=>{if(!c)return;d++,r.clearRect(0,0,a.width,a.height),r.fillStyle="#ffffff",r.strokeStyle="#ffffff";let e=Math.min(50,3e3-i.length);e>0&&h(e,!1),d%2==0&&(l+=3e-4);let t=a.width+.1*a.height,n=a.height+.5*a.height;for(let e=0;e<i.length;e++){let s=i[e];if(!s)continue;let a=s.angle+l;s.x=t+Math.cos(a)*s.distance,s.y=n+Math.sin(a)*s.distance,d%2==0&&(s.opacity+=s.twinkleSpeed,(s.opacity>1||s.opacity<.6)&&(s.twinkleSpeed=-s.twinkleSpeed)),r.globalAlpha=s.opacity,r.beginPath(),r.arc(s.x,s.y,s.radius,0,2*Math.PI),r.fill()}.001>Math.random()&&o.length<3&&o.push({x:Math.random()*a.width,y:-50,length:120+120*Math.random(),speed:3+ +Math.random(),opacity:.9});for(let e=o.length-1;e>=0;e--){let t=o[e];t&&(t.x-=t.speed,t.y+=t.speed,t.opacity-=.01,r.globalAlpha=t.opacity,r.beginPath(),r.moveTo(t.x,t.y),r.lineTo(t.x+.707*t.length,t.y-.707*t.length),r.lineWidth=2,r.stroke(),r.beginPath(),r.arc(t.x,t.y,2,0,2*Math.PI),r.fill(),t.y<a.height+50&&t.opacity>0||o.splice(e,1))}r.globalAlpha=1,s.current=requestAnimationFrame(p)},f=()=>{c||(c=!0,p())},g=()=>{c=!1,s.current&&(cancelAnimationFrame(s.current),s.current=null)},x=()=>{document.hidden?g():f()};return document.addEventListener("visibilitychange",x),document.hidden||f(),()=>{document.removeEventListener("visibilitychange",x),m.disconnect(),g()}},[]),(0,a.jsx)("div",{ref:t,className:"absolute top-0 left-0 w-full h-full",children:(0,a.jsx)("canvas",{ref:e,className:"w-full h-full"})})};var sw=e.i(768733),sS=e.i(745322),sT=e.i(540512),sN=e.i(96889),sC=e.i(271759),sI=e.i(262501),sD=e.i(137278),sE=e.i(237065),sM=e.i(67373),sO=e.i(635278);let sP=e=>{let{shouldShowSourcesStep:t,onComplete:s,onCancel:n}=e,{t:r}=(0,E.useTranslation)("workspace"),i=(0,sD.useWorkspaceStore)(D.prop("createDialogInitialName")),o=(0,sD.useWorkspaceStore)(D.prop("createDialogInitialInstructions")),l=(0,sD.useWorkspaceStore)(D.prop("createDialogInitialIcon")),[c,d]=(0,m.useState)(i),[u,h]=(0,m.useState)(l||(0,sE.randomIconValue)()),[p,f]=(0,m.useState)(o),[g,x]=(0,m.useState)("auto"),[_,v]=(0,m.useState)(null);(0,m.useEffect)(()=>{d(i),f(o),h(l||(0,sE.randomIconValue)())},[i,o,l]);let y=(0,m.useCallback)(e=>{d(e),v(null)},[d]),b=(0,m.useCallback)(()=>{v(null);let e=(0,sO.extractProjectNameWke)(c);if(e)return void v(e);s({name:c,icon:u,instructions:p,preferredModel:g})},[c,u,p,g,s]),k=c.length>0;return(0,a.jsx)(sM.ProjectFormFields,{showNameField:!0,name:c,onNameChange:y,nameError:_,icon:u,onIconChange:h,instructions:p,onInstructionsChange:f,preferredMode:g,onPreferredModeChange:x,isDirty:k,autoFocus:!0,onSave:b,onCancel:n,saveLabel:t?r("create-workspace-dialog.next","Next"):r("create-workspace-dialog.create","Create")})};var sL=e.i(633378),sA=e.i(927842),sR=e.i(979566),e3=e3,sK=e.i(452208);let sF=(0,l.default)("CloudUpload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);var sz=e.i(682771);e.i(200942);var sB=e.i(274920),sG=e.i(230902);let sU=e=>{let{collections:t,connectors:s,isLoadingCollections:n,isLoadingConnectors:r,enableFileUploads:i,isTeamAccount:o,isCreating:l,onComplete:c}=e,{t:d}=(0,E.useTranslation)("workspace"),[u,h]=(0,m.useState)([]),[p,f]=(0,m.useState)([]),[g,x]=(0,m.useState)([]),_=(0,m.useCallback)(e=>{let t=e.map(e=>({id:"".concat(e.name,"-").concat(Date.now(),"-").concat(Math.random()),file:e}));h(e=>[...e,...t])},[]),v=(0,m.useCallback)(e=>{h(t=>t.filter(t=>t.id!==e))},[]),y=(0,m.useCallback)(e=>{f(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},[]),b=(0,m.useCallback)(e=>{x(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},[]),k=(0,m.useCallback)(()=>{c({files:u.map(e=>e.file),collectionIds:p,connectorIds:g})},[c,u,p,g]),j=t.length>0,w=s.length>0;return(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:d("create-workspace-dialog.sources-title","Project Sources")}),(0,a.jsx)("p",{className:"text-sm text-fg-secondary",children:o?d("create-workspace-dialog.sources-description-team","Add files, collections, or apps to your project."):d("create-workspace-dialog.sources-description-personal","Add files to your project.")})]}),o&&(j||n)&&(0,a.jsx)(sW,{collections:t,selectedIds:p,onToggle:y,isLoading:n}),o&&(w||r)&&(0,a.jsx)(sV,{connectors:s,selectedIds:g,onToggle:b,isLoading:r}),i&&(0,a.jsx)(sY,{pendingFiles:u,onAddFiles:_,onRemoveFile:v}),!o&&!i&&(0,a.jsx)(sJ,{}),(0,a.jsx)("div",{className:"flex flex-row items-center justify-end w-full gap-2 pt-2",children:(0,a.jsxs)(K.Button,{variant:"primary",size:"md",shape:"rectangle",onClick:k,children:[l&&(0,a.jsx)(sK.Loader2,{className:"size-4 animate-spin"}),d("create-workspace-dialog.create","Create")]})})]})},sW=e=>{let{collections:t,selectedIds:s,isLoading:n,onToggle:r}=e,{t:i}=(0,E.useTranslation)("workspace");return n?(0,a.jsx)(sQ,{icon:(0,a.jsx)(e3.default,{className:"size-4"}),title:i("collections","Collections"),children:(0,a.jsx)("div",{className:"flex items-center justify-center h-16 text-fg-secondary text-sm",children:i("loading","Loading...")})}):0===t.length?null:(0,a.jsx)(sQ,{icon:(0,a.jsx)(e3.default,{className:"size-4"}),title:i("collections","Collections"),count:s.length,children:(0,a.jsx)(sz.ScrollGradientContainer,{className:"flex flex-col gap-2 max-h-40",children:t.map(e=>{var t;return(0,a.jsx)(sq,{collection:e,isSelected:s.includes(null!=(t=e.collectionId)?t:""),onToggle:()=>{var t;return r(null!=(t=e.collectionId)?t:"")}},e.collectionId)})})})},sq=e=>{let{collection:t,isSelected:s,onToggle:n}=e,{t:r}=(0,E.useTranslation)("workspace");return(0,a.jsxs)("div",{className:"flex items-center justify-between py-2 cursor-pointer transition-colors",onClick:n,children:[(0,a.jsxs)("div",{className:"flex flex-col gap-0.5 min-w-0 flex-1",children:[(0,a.jsx)("span",{className:"text-sm font-medium truncate",children:t.collectionName}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs text-fg-secondary",children:[(0,a.jsxs)("span",{children:[t.documentsCount," ",r("collections.files","files")]}),t.createdAt&&(0,a.jsx)("span",{children:(0,sG.format)(new Date(t.createdAt),"MMM d, yyyy")})]})]}),(0,a.jsx)(H.Switch,{checked:s,onCheckedChange:n,onClick:e=>e.stopPropagation(),"aria-label":"Select ".concat(t.collectionName)})]})},sV=e=>{let{connectors:t,selectedIds:s,onToggle:n,isLoading:r}=e,{t:i}=(0,E.useTranslation)("workspace");return r?(0,a.jsx)(sQ,{icon:(0,a.jsx)(sA.BlocksIcon,{className:"size-4"}),title:i("apps.title","Apps"),children:(0,a.jsx)("div",{className:"flex items-center justify-center h-16 text-fg-secondary text-sm",children:i("loading","Loading...")})}):0===t.length?null:(0,a.jsx)(sQ,{icon:(0,a.jsx)(sA.BlocksIcon,{className:"size-4"}),title:i("apps.title","Apps"),count:s.length,children:(0,a.jsx)(sz.ScrollGradientContainer,{className:"flex flex-col gap-2 max-h-40",children:t.map(e=>(0,a.jsx)(sH,{connector:e,isSelected:s.includes(e.connectorId),onToggle:()=>n(e.connectorId)},e.connectorId))})})},sH=e=>{var t;let{connector:s,isSelected:n,onToggle:r}=e,i=(0,t5.useConnectorTypeToLabel)(),o=null!=(t=(0,t5.connectorTypeToIcon)(s.connectorType))?t:sA.BlocksIcon,l=i(s.connectorType);return(0,a.jsxs)("div",{className:"flex items-center justify-between py-2 cursor-pointer transition-colors",onClick:r,children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[(0,a.jsx)(o,{className:"size-4 shrink-0"}),(0,a.jsx)("span",{className:"text-sm font-medium truncate",children:l})]}),(0,a.jsx)(H.Switch,{checked:n,onCheckedChange:r,onClick:e=>e.stopPropagation(),"aria-label":"Select ".concat(l)})]})},sY=e=>{let{pendingFiles:t,onAddFiles:s,onRemoveFile:n}=e,{t:r}=(0,E.useTranslation)("workspace"),i=(0,m.useRef)(null),l=(0,m.useRef)(null),c=(0,m.useCallback)(()=>{var e;null==(e=i.current)||e.click()},[]),d=(0,m.useCallback)(e=>{e.target.files&&(s(Array.from(e.target.files)),e.target.value="")},[s]),u=(0,sB.useDropZone)({ref:l,onDrop:s});return(0,a.jsxs)(sQ,{icon:(0,a.jsx)(sR.FolderIcon,{className:"size-4"}),title:r("workspace-assets.files","Files"),count:t.length,action:(0,a.jsx)(sL.AttachDropdownImplementation,{icon:(0,a.jsx)(t7.PlusIcon,{className:"size-4"}),label:r("workspace-assets.attach","Attach"),inlineLabel:!1,handleClickUpload:c,onAttachAsset:()=>{},assets:[],handleUploadThirdParty:()=>{},attachFiles:s,className:"h-8 w-8 rounded-xl",buttonVariant:"outline"}),children:[(0,a.jsx)("input",{ref:i,className:"hidden",type:"file",onChange:d,multiple:!0,"data-testid":"file-input"}),(0,a.jsxs)("div",{ref:l,className:(0,o.cn)("relative h-40 rounded-xl border border-dashed border-border transition-colors cursor-pointer","hover"===u&&"border-primary bg-surface-l1","in-page"===u&&"border-fg-secondary",0===t.length&&"flex items-center justify-center"),onClick:c,children:[0===t.length?(0,a.jsxs)("div",{className:"flex flex-col gap-2 items-center p-4 text-center",children:[(0,a.jsx)(sF,{className:"size-6 text-fg-secondary"}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:r("create-workspace-files.drag-drop","Drag & drop files here")}),(0,a.jsx)("span",{className:"text-xs text-fg-secondary",children:r("create-workspace-files.or-click","or use the attach button above")})]})]}):(0,a.jsx)("div",{className:"flex flex-col gap-2 p-2 h-full overflow-y-auto overflow-x-hidden no-scrollbar",children:t.map(e=>(0,a.jsx)(sX,{file:e.file,onRemove:()=>n(e.id)},e.id))}),"none"!==u&&t.length>0&&(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-surface-l1/90 rounded-xl",children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,a.jsx)(sF,{className:"size-6 text-primary"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:r("create-workspace-files.drop-here","Drop files here")})]})})]})]})},sX=e=>{let{file:t,onRemove:s}=e;return(0,a.jsxs)("div",{className:"flex items-center justify-between p-2.5 rounded-lg bg-surface-l1 group",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2.5 min-w-0 flex-1",children:[(0,a.jsx)(sR.FolderIcon,{className:"size-4 shrink-0 text-fg-secondary"}),(0,a.jsxs)("div",{className:"flex flex-col min-w-0",children:[(0,a.jsx)("span",{className:"text-sm truncate",children:t.name}),(0,a.jsx)("span",{className:"text-xs text-fg-secondary",children:(e=>e<1024?"".concat(e," B"):e<1048576?"".concat((e/1024).toFixed(1)," KB"):"".concat((e/1048576).toFixed(1)," MB"))(t.size)})]})]}),(0,a.jsx)("button",{type:"button",onClick:e=>{e.stopPropagation(),s()},className:"p-1 rounded-md opacity-0 group-hover:opacity-100 hover:bg-surface-l2 transition-all",children:(0,a.jsx)(h.X,{className:"size-4 text-fg-secondary"})})]})},sQ=e=>{let{icon:t,title:s,count:n,action:r,children:i}=e;return(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between h-8",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[t,(0,a.jsx)("span",{className:"text-sm font-semibold",children:s}),void 0!==n&&n>0&&(0,a.jsx)("span",{className:"text-xs text-fg-secondary bg-surface-l2 px-1.5 py-0.5 rounded-full min-w-[1.5rem] text-center",children:n})]}),r]}),i]})},sJ=()=>{let{t:e}=(0,E.useTranslation)("workspace");return(0,a.jsx)("div",{className:"flex flex-col items-center justify-center w-full h-64 gap-4 p-4 text-sm border border-border rounded-xl",children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,a.jsx)(sR.FolderIcon,{className:"w-6 h-6 text-fg-secondary"}),(0,a.jsx)("span",{className:"text-center text-fg-secondary",children:e("create-workspace-files-placeholder","Files can be uploaded after the project is created.")})]})})},sZ=()=>{let e=(0,sD.useWorkspaceStore)(D.prop("createDialogIsOpen")),t=(0,sD.useWorkspaceStore)(D.prop("setCreateDialogIsOpen")),s=(0,sD.useWorkspaceStore)(D.prop("setCreateDialogInitialValues")),[n,r]=(0,m.useState)("details"),[i,l]=(0,m.useState)(null),[c,d]=(0,m.useState)(!1),{data:{enableFileUploads:u=!1}={}}=(0,sS.useFeatureControls)(),h=(0,A.useIsActiveGrokBusinessSession)(),{data:p=[],isLoading:g}=(0,sT.useListCollections)(),{data:x=[],isLoading:_}=(0,so.useListConnectorsForUser)(),{add:v}=(0,sE.useAddWorkspace)(),{addActiveCollection:y}=(0,sC.useWorkspaceCollectionsStore)(),{addActiveConnector:b}=(0,sI.useWorkspaceConnectorsStore)(),{push:k}=(0,f.useRouting)(),j=(0,eh.useLogEvent)(),w=p.length>0,S=x.length>0,T=u||h&&(w||S),N=(0,m.useCallback)(()=>{r("details"),l(null),d(!1)},[]),C=(0,m.useCallback)(()=>{t(!1),s("","",""),N(),j("close_workspace_creation_dialog",void 0,{location:window.location.href})},[t,s,N,j]),I=(0,m.useCallback)(e=>{e||(s("","",""),N(),j("close_workspace_creation_dialog",void 0,{location:window.location.href})),t(e)},[t,s,N,j]),E=(0,m.useCallback)(async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{files:[],collectionIds:[],connectorIds:[]};d(!0);try{let s=await v({name:e.name,icon:e.icon,instructions:e.instructions,preferredModel:e.preferredModel},{redirectToWorkspacePage:!1}),{files:a,collectionIds:n,connectorIds:r}=t;await Promise.all([...a.map(e=>(0,sN.uploadFile)(e,s)),...n.map(e=>y({workspaceId:s,collectionId:e})),...r.map(e=>b({workspaceId:s,connectorId:e}))]),k({page:"workspace",workspaceId:s,tab:"sources"}),sw.grokToast.success('Project "'.concat(e.name,'" created successfully')),C()}catch(e){sw.grokToast.error("Failed to create project")}finally{d(!1)}},[v,y,b,C,k]),M=(0,m.useCallback)(async e=>{l(e),T?r("sources"):await E(e)},[T,E]),O=(0,m.useCallback)(async e=>{i&&await E(i,e)},[i,E]);return(0,a.jsx)(V.ResponsiveDialog,{open:e,setOpen:I,onClose:C,contentClassName:(0,o.cn)("focus:outline-0 focus-within:outline-0 gap-2","bg-background rounded-3xl","w-full max-w-2xl max-h-[calc(100dvh-64px)]","flex flex-col","overflow-y-auto no-scrollbar","p-5"),children:(()=>{switch(n){case"details":return(0,a.jsx)(sP,{shouldShowSourcesStep:null!=T&&T,onComplete:M,onCancel:C});case"sources":return(0,a.jsx)(sU,{collections:p,connectors:x,isLoadingCollections:g,isLoadingConnectors:null!=_&&_,enableFileUploads:u,isTeamAccount:null!=h&&h,isCreating:c,onComplete:O});default:throw Error("Unhandled step: ".concat(n))}})()})};e.i(632455),new WeakSet,g.z.object({excludeFromTraining:g.z.boolean().optional(),preferences:g.z.record(g.z.string(),g.z.unknown()).optional(),allowXPersonalization:g.z.boolean().optional(),enableMemory:g.z.boolean().optional()});let s$=["user-settings"],s0=(0,m.memo)(function(){return null});function s1(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}e.i(72795);var s2="function"==typeof Symbol&&Symbol.observable||"@@observable",s8=function(){return Math.random().toString(36).substring(7).split("").join(".")},s4={INIT:"@@redux/INIT"+s8(),REPLACE:"@@redux/REPLACE"+s8(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+s8()}},s3=e.i(702467);function s5(e){return"object"==typeof e}let s6="dnd-core/INIT_COORDS",s7="dnd-core/BEGIN_DRAG",s9="dnd-core/PUBLISH_DRAG_SOURCE",ae="dnd-core/HOVER",at="dnd-core/DROP",as="dnd-core/END_DRAG";function aa(e,t){return{type:s6,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}let an={type:s6,payload:{clientOffset:null,sourceClientOffset:null}};function ar(e,t){return null===t?null===e:Array.isArray(e)?e.some(e=>e===t):e===t}class ai{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){var e,t,s,a,n;let r=this,{dispatch:i}=this.store,o={beginDrag:(e=this,function(){var t,s,a,n,r;let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{publishSource:!0},{publishSource:l=!0,clientOffset:c,getSourceClientOffset:d}=o,u=e.getMonitor(),h=e.getRegistry();e.dispatch(aa(c)),t=i,s=u,a=h,(0,s3.invariant)(!s.isDragging(),"Cannot call beginDrag while dragging."),t.forEach(function(e){(0,s3.invariant)(a.getSource(e),"Expected sourceIds to be registered.")});let m=function(e,t){let s=null;for(let a=e.length-1;a>=0;a--)if(t.canDragSource(e[a])){s=e[a];break}return s}(i,u);if(null==m)return void e.dispatch(an);let p=null;if(c){if(!d)throw Error("getSourceClientOffset must be defined");n=d,(0,s3.invariant)("function"==typeof n,"When clientOffset is provided, getSourceClientOffset must be a function."),p=d(m)}e.dispatch(aa(c,p));let f=h.getSource(m).beginDrag(u,m);if(null!=f){return r=f,(0,s3.invariant)(s5(r),"Item must be an object."),h.pinSource(m),{type:s7,payload:{itemType:h.getSourceType(m),item:f,sourceId:m,clientOffset:c||null,sourceClientOffset:p||null,isSourcePublic:!!l}}}}),publishDragSource:(t=this,function(){if(t.getMonitor().isDragging())return{type:s9}}),hover:(s=this,function(e){var t,a,n,r;let{clientOffset:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=e,(0,s3.invariant)(Array.isArray(t),"Expected targetIds to be an array.");let o=e.slice(0),l=s.getMonitor(),c=s.getRegistry();return function(e,t,s){for(let a=e.length-1;a>=0;a--){let n=e[a];ar(t.getTargetType(n),s)||e.splice(a,1)}}(o,c,l.getItemType()),function(e,t,s){(0,s3.invariant)(t.isDragging(),"Cannot call hover while not dragging."),(0,s3.invariant)(!t.didDrop(),"Cannot call hover after drop.");for(let t=0;t<e.length;t++){let a=e[t];(0,s3.invariant)(e.lastIndexOf(a)===t,"Expected targetIds to be unique in the passed array.");let n=s.getTarget(a);(0,s3.invariant)(n,"Expected targetIds to be registered.")}}(o,l,c),a=o,n=l,r=c,a.forEach(function(e){r.getTarget(e).hover(n,e)}),{type:ae,payload:{targetIds:o,clientOffset:i||null}}}),drop:(a=this,function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=a.getMonitor(),n=a.getRegistry();e=s,(0,s3.invariant)(e.isDragging(),"Cannot call drop while not dragging."),(0,s3.invariant)(!e.didDrop(),"Cannot call drop twice during one drag operation."),(function(e){let t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t})(s).forEach((e,r)=>{let i={type:at,payload:{dropResult:function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{},a=Object.keys(s);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(s).filter(function(e){return Object.getOwnPropertyDescriptor(s,e).enumerable}))),a.forEach(function(t){var a;a=s[t],t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a})}return e}({},t,function(e,t,s,a){var n;let r=s.getTarget(e),i=r?r.drop(a,e):void 0;return n=i,(0,s3.invariant)(void 0===n||s5(n),"Drop result must either be an object or undefined."),void 0===i&&(i=0===t?{}:a.getDropResult()),i}(e,r,n,s))}};a.dispatch(i)})}),endDrag:(n=this,function(){var e;let t=n.getMonitor(),s=n.getRegistry();e=t,(0,s3.invariant)(e.isDragging(),"Cannot call endDrag while not dragging.");let a=t.getSourceId();return null!=a&&(s.getSource(a,!0).endDrag(t,a),s.unpinSource()),{type:as}})};return Object.keys(o).reduce((e,t)=>{let s=o[t];return e[t]=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];let n=s.apply(r,t);void 0!==n&&i(n)},e},{})}dispatch(e){this.store.dispatch(e)}constructor(e,t){this.isSetUp=!1,this.handleRefCountChange=()=>{let e=this.store.getState().refCount>0;this.backend&&(e&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!e&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=t,e.subscribe(this.handleRefCountChange)}}function ao(e,t){return{x:e.x-t.x,y:e.y-t.y}}let al=[],ac=[];al.__IS_NONE__=!0,ac.__IS_ALL__=!0;class ad{subscribeToStateChange(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{handlerIds:s}=t;(0,s3.invariant)("function"==typeof e,"listener must be a function."),(0,s3.invariant)(void 0===s||Array.isArray(s),"handlerIds, when specified, must be an array of strings.");let a=this.store.getState().stateId,n=()=>{let t=this.store.getState(),n=t.stateId;try{n===a||n===a+1&&!function(e,t){return e!==al&&(e===ac||void 0===t||t.filter(t=>e.indexOf(t)>-1).length>0)}(t.dirtyHandlerIds,s)||e()}finally{a=n}};return this.store.subscribe(n)}subscribeToOffsetChange(e){(0,s3.invariant)("function"==typeof e,"listener must be a function.");let t=this.store.getState().dragOffset,s=()=>{let s=this.store.getState().dragOffset;s!==t&&(t=s,e())};return this.store.subscribe(s)}canDragSource(e){if(!e)return!1;let t=this.registry.getSource(e);return(0,s3.invariant)(t,"Expected to find a valid source. sourceId=".concat(e)),!this.isDragging()&&t.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;let t=this.registry.getTarget(e);return(0,s3.invariant)(t,"Expected to find a valid target. targetId=".concat(e)),!(!this.isDragging()||this.didDrop())&&ar(this.registry.getTargetType(e),this.getItemType())&&t.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;let t=this.registry.getSource(e,!0);return(0,s3.invariant)(t,"Expected to find a valid source. sourceId=".concat(e)),!!this.isDragging()&&!!this.isSourcePublic()&&this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e)}isOverTarget(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shallow:!1};if(!e)return!1;let{shallow:s}=t;if(!this.isDragging())return!1;let a=this.registry.getTargetType(e),n=this.getItemType();if(n&&!ar(a,n))return!1;let r=this.getTargetIds();if(!r.length)return!1;let i=r.indexOf(e);return s?i===r.length-1:i>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return function(e){let{clientOffset:t,initialClientOffset:s,initialSourceClientOffset:a}=e;return t&&s&&a?ao({x:t.x+a.x,y:t.y+a.y},s):null}(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){let{clientOffset:e,initialClientOffset:t}=this.store.getState().dragOffset;return e&&t?ao(e,t):null}constructor(e,t){this.store=e,this.registry=t}}let au=e.g,ah=au.MutationObserver||au.WebKitMutationObserver;function am(e){return function(){let t=setTimeout(a,0),s=setInterval(a,50);function a(){clearTimeout(t),clearInterval(s),e()}}}let ap="function"==typeof ah?function(e){let t=1,s=new ah(e),a=document.createTextNode("");return s.observe(a,{characterData:!0}),function(){a.data=t=-t}}:am;class af{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,t){this.onError=e,this.release=t,this.task=null}}let ag=new class{enqueueTask(e){let{queue:t,requestFlush:s}=this;t.length||(s(),this.flushing=!0),t[t.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{let{queue:e}=this;for(;this.index<e.length;){let t=this.index;if(this.index++,e[t].call(),this.index>this.capacity){for(let t=0,s=e.length-this.index;t<s;t++)e[t]=e[t+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=ap(this.flush),this.requestErrorThrow=am(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}},ax=new class{create(e){let t=this.freeTasks,s=t.length?t.pop():new af(this.onError,e=>t[t.length]=e);return s.task=e,s}constructor(e){this.onError=e,this.freeTasks=[]}}(ag.registerPendingError),a_="dnd-core/ADD_SOURCE",av="dnd-core/ADD_TARGET",ay="dnd-core/REMOVE_SOURCE",ab="dnd-core/REMOVE_TARGET";function ak(e,t){if(t&&Array.isArray(e))return void e.forEach(e=>ak(e,!1));(0,s3.invariant)("string"==typeof e||"symbol"==typeof e,t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}!function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"}(t||(t={}));let aj=0;function aw(e){switch(e[0]){case"S":return t.SOURCE;case"T":return t.TARGET;default:throw Error("Cannot parse handler ID: ".concat(e))}}function aS(e,t){let s=e.entries(),a=!1;do{let{done:e,value:[,n]}=s.next();if(n===t)return!0;a=!!e}while(!a)return!1}class aT{addSource(e,s){ak(e),(0,s3.invariant)("function"==typeof s.canDrag,"Expected canDrag to be a function."),(0,s3.invariant)("function"==typeof s.beginDrag,"Expected beginDrag to be a function."),(0,s3.invariant)("function"==typeof s.endDrag,"Expected endDrag to be a function.");let a=this.addHandler(t.SOURCE,e,s);return this.store.dispatch({type:a_,payload:{sourceId:a}}),a}addTarget(e,s){ak(e,!0),(0,s3.invariant)("function"==typeof s.canDrop,"Expected canDrop to be a function."),(0,s3.invariant)("function"==typeof s.hover,"Expected hover to be a function."),(0,s3.invariant)("function"==typeof s.drop,"Expected beginDrag to be a function.");let a=this.addHandler(t.TARGET,e,s);return this.store.dispatch({type:av,payload:{targetId:a}}),a}containsHandler(e){return aS(this.dragSources,e)||aS(this.dropTargets,e)}getSource(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,s3.invariant)(this.isSourceId(e),"Expected a valid source ID."),t&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return(0,s3.invariant)(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return(0,s3.invariant)(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return(0,s3.invariant)(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return aw(e)===t.SOURCE}isTargetId(e){return aw(e)===t.TARGET}removeSource(e){var t;(0,s3.invariant)(this.getSource(e),"Expected an existing source."),this.store.dispatch({type:ay,payload:{sourceId:e}}),t=()=>{this.dragSources.delete(e),this.types.delete(e)},ag.enqueueTask(ax.create(t))}removeTarget(e){(0,s3.invariant)(this.getTarget(e),"Expected an existing target."),this.store.dispatch({type:ab,payload:{targetId:e}}),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){let t=this.getSource(e);(0,s3.invariant)(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}unpinSource(){(0,s3.invariant)(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,s,a){let n=function(e){let s=(aj++).toString();switch(e){case t.SOURCE:return"S".concat(s);case t.TARGET:return"T".concat(s);default:throw Error("Unknown Handler Role: ".concat(e))}}(e);return this.types.set(n,s),e===t.SOURCE?this.dragSources.set(n,a):e===t.TARGET&&this.dropTargets.set(n,a),n}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}let aN=(e,t)=>e===t,aC={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function aI(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{},a=Object.keys(s);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(s).filter(function(e){return Object.getOwnPropertyDescriptor(s,e).enumerable}))),a.forEach(function(t){var a;a=s[t],t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a})}return e}let aD={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function aE(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;return{dirtyHandlerIds:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];let e=arguments.length>1?arguments[1]:void 0;switch(e.type){case ae:break;case a_:case av:case ab:case ay:return al;default:return ac}let{targetIds:t=[],prevTargetIds:s=[]}=e.payload,a=function(e,t){let s=new Map,a=e=>{s.set(e,s.has(e)?s.get(e)+1:1)};e.forEach(a),t.forEach(a);let n=[];return s.forEach((e,t)=>{1===e&&n.push(t)}),n}(t,s);if(!(a.length>0||!function(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:aN;if(e.length!==t.length)return!1;for(let a=0;a<e.length;++a)if(!s(e[a],t[a]))return!1;return!0}(t,s)))return al;let n=s[s.length-1],r=t[t.length-1];return n!==r&&(n&&a.push(n),r&&a.push(r)),a}(t.dirtyHandlerIds,{type:s.type,payload:function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{},a=Object.keys(s);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(s).filter(function(e){return Object.getOwnPropertyDescriptor(s,e).enumerable}))),a.forEach(function(t){var a;a=s[t],t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a})}return e}({},s.payload,{prevTargetIds:(e=[],"dragOperation.targetIds".split(".").reduce((t,s)=>t&&t[s]?t[s]:e||null,t))})}),dragOffset:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aC,t=arguments.length>1?arguments[1]:void 0,{payload:s}=t;switch(t.type){case s6:case s7:return{initialSourceClientOffset:s.sourceClientOffset,initialClientOffset:s.clientOffset,clientOffset:s.clientOffset};case ae:var a,n;if(a=e.clientOffset,n=s.clientOffset,!a&&!n||a&&n&&a.x===n.x&&a.y===n.y)return e;return function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{},a=Object.keys(s);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(s).filter(function(e){return Object.getOwnPropertyDescriptor(s,e).enumerable}))),a.forEach(function(t){var a;a=s[t],t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a})}return e}({},e,{clientOffset:s.clientOffset});case as:case at:return aC;default:return e}}(t.dragOffset,s),refCount:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a_:case av:return e+1;case ay:case ab:return e-1;default:return e}}(t.refCount,s),dragOperation:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aD,t=arguments.length>1?arguments[1]:void 0,{payload:s}=t;switch(t.type){case s7:return aI({},e,{itemType:s.itemType,item:s.item,sourceId:s.sourceId,isSourcePublic:s.isSourcePublic,dropResult:null,didDrop:!1});case s9:return aI({},e,{isSourcePublic:!0});case ae:return aI({},e,{targetIds:s.targetIds});case ab:var a,n;if(-1===e.targetIds.indexOf(s.targetId))return e;return aI({},e,{targetIds:(a=e.targetIds,n=s.targetId,a.filter(e=>e!==n))});case at:return aI({},e,{dropResult:s.dropResult,didDrop:!0,targetIds:[]});case as:return aI({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}(t.dragOperation,s),stateId:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e+1}(t.stateId)}}var aM=e.i(753705);let aO=0,aP=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var aL=(0,m.memo)(function(t){var s,{children:n}=t;let[r,i]="manager"in(s=function(e,t){if(null==e)return{};var s,a,n=function(e,t){if(null==e)return{};var s,a,n={},r=Object.keys(e);for(a=0;a<r.length;a++)s=r[a],t.indexOf(s)>=0||(n[s]=e[s]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}(t,["children"]))?[{dragDropManager:s.manager},!1]:[function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return e.g}(),a=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;return s[aP]||(s[aP]={dragDropManager:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=function(e){let t="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__;return function e(t,s,a){if("function"==typeof s&&"function"==typeof a||"function"==typeof a&&"function"==typeof arguments[3])throw Error(s1(0));if("function"==typeof s&&void 0===a&&(a=s,s=void 0),void 0!==a){if("function"!=typeof a)throw Error(s1(1));return a(e)(t,s)}if("function"!=typeof t)throw Error(s1(2));var n,r=t,i=s,o=[],l=o,c=!1;function d(){l===o&&(l=o.slice())}function u(){if(c)throw Error(s1(3));return i}function h(e){if("function"!=typeof e)throw Error(s1(4));if(c)throw Error(s1(5));var t=!0;return d(),l.push(e),function(){if(t){if(c)throw Error(s1(6));t=!1,d();var s=l.indexOf(e);l.splice(s,1),o=null}}}function m(e){if(!function(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}(e))throw Error(s1(7));if(void 0===e.type)throw Error(s1(8));if(c)throw Error(s1(9));try{c=!0,i=r(i,e)}finally{c=!1}for(var t=o=l,s=0;s<t.length;s++)(0,t[s])();return e}return m({type:s4.INIT}),(n={dispatch:m,subscribe:h,getState:u,replaceReducer:function(e){if("function"!=typeof e)throw Error(s1(10));r=e,m({type:s4.REPLACE})}})[s2]=function(){var e;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw Error(s1(11));function t(){e.next&&e.next(u())}return t(),{unsubscribe:h(t)}}})[s2]=function(){return this},e},n}(aE,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}(a),r=new ad(n,new aT(n)),i=new ai(n,r),o=e(i,t,s);return i.receiveBackend(o),i}(t,s,a,n)}),s[aP]}(s.backend,s.context,s.options,s.debugMode),!s.context];return(0,m.useEffect)(()=>{if(i){let t=e.g;return++aO,()=>{0==--aO&&(t[aP]=null)}}},[]),(0,a.jsx)(aM.DndContext.Provider,{value:r,children:n})}),aA=e.i(53897);function aR(e){let t=null;return()=>(null==t&&(t=e()),t)}class aK{enter(e){let t=this.entered.length,s=t=>this.isNodeInDocument(t)&&(!t.contains||t.contains(e));return this.entered=function(e,t){let s=new Set,a=e=>s.add(e);e.forEach(a),t.forEach(a);let n=[];return s.forEach(e=>n.push(e)),n}(this.entered.filter(s),[e]),0===t&&this.entered.length>0}leave(e){var t;let s=this.entered.length;return this.entered=(t=this.entered.filter(this.isNodeInDocument),t.filter(t=>t!==e)),s>0&&0===this.entered.length}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class aF{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get:()=>(console.warn("Browser doesn't allow reading \"".concat(e,'" until the drop event.')),null)})})}loadDataTransfer(e){if(e){let t={};Object.keys(this.config.exposeProperties).forEach(s=>{let a=this.config.exposeProperties[s];null!=a&&(t[s]={value:a(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,t)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,t){return t===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}var az=e.i(683147);function aB(e,t,s){let a=t.reduce((t,s)=>t||e.getData(s),"");return null!=a?a:s}let aG={[az.FILE]:{exposeProperties:{files:e=>Array.prototype.slice.call(e.files),items:e=>e.items,dataTransfer:e=>e},matchesTypes:["Files"]},[az.HTML]:{exposeProperties:{html:(e,t)=>aB(e,t,""),dataTransfer:e=>e},matchesTypes:["Html","text/html"]},[az.URL]:{exposeProperties:{urls:(e,t)=>aB(e,t,"").split("\n"),dataTransfer:e=>e},matchesTypes:["Url","text/uri-list"]},[az.TEXT]:{exposeProperties:{text:(e,t)=>aB(e,t,""),dataTransfer:e=>e},matchesTypes:["Text","text/plain"]}};function aU(e){if(!e)return null;let t=Array.prototype.slice.call(e.types||[]);return Object.keys(aG).filter(e=>{let s=aG[e];return!!(null==s?void 0:s.matchesTypes)&&s.matchesTypes.some(e=>t.indexOf(e)>-1)})[0]||null}let aW=aR(()=>/firefox/i.test(navigator.userAgent)),aq=aR(()=>!!window.safari);class aV{interpolate(e){let t,{xs:s,ys:a,c1s:n,c2s:r,c3s:i}=this,o=s.length-1;if(e===s[o])return a[o];let l=0,c=i.length-1;for(;l<=c;){let n=s[t=Math.floor(.5*(l+c))];if(n<e)l=t+1;else{if(!(n>e))return a[t];c=t-1}}let d=e-s[o=Math.max(0,c)],u=d*d;return a[o]+n[o]*d+r[o]*u+i[o]*d*u}constructor(e,t){let s,a,n,{length:r}=e,i=[];for(let e=0;e<r;e++)i.push(e);i.sort((t,s)=>e[t]<e[s]?-1:1);let o=[],l=[],c=[];for(let n=0;n<r-1;n++)s=e[n+1]-e[n],a=t[n+1]-t[n],l.push(s),o.push(a),c.push(a/s);let d=[c[0]];for(let e=0;e<l.length-1;e++){let t=c[e],a=c[e+1];if(t*a<=0)d.push(0);else{s=l[e];let n=l[e+1],r=s+n;d.push(3*r/((r+n)/t+(r+s)/a))}}d.push(c[c.length-1]);let u=[],h=[];for(let e=0;e<d.length-1;e++){n=c[e];let t=d[e],s=1/l[e],a=t+d[e+1]-n-n;u.push((n-t-a)*s),h.push(a*s*s)}this.xs=e,this.ys=t,this.c1s=d,this.c2s=u,this.c3s=h}}function aH(e){let t=1===e.nodeType?e:e.parentElement;if(!t)return null;let{top:s,left:a}=t.getBoundingClientRect();return{x:a,y:s}}function aY(e){return{x:e.clientX,y:e.clientY}}class aX{get window(){return this.globalContext?this.globalContext:"undefined"!=typeof window?window:void 0}get document(){var e;return(null==(e=this.globalContext)?void 0:e.document)?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return(null==(e=this.optionsArgs)?void 0:e.rootElement)||this.window}constructor(e,t){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=t}}function aQ(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{},a=Object.keys(s);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(s).filter(function(e){return Object.getOwnPropertyDescriptor(s,e).enumerable}))),a.forEach(function(t){var a;a=s[t],t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a})}return e}class aJ{profile(){var e,t;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:(null==(e=this.dragStartSourceIds)?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:(null==(t=this.dragOverTargetIds)?void 0:t.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){let e=this.rootElement;if(void 0!==e){if(e.__isReactDndBackendSetUp)throw Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){let e=this.rootElement;if(void 0!==e&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var t;null==(t=this.window)||t.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,t,s){return this.sourcePreviewNodeOptions.set(e,s),this.sourcePreviewNodes.set(e,t),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,t,s){this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,s);let a=t=>this.handleDragStart(t,e),n=e=>this.handleSelectStart(e);return t.setAttribute("draggable","true"),t.addEventListener("dragstart",a),t.addEventListener("selectstart",n),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",a),t.removeEventListener("selectstart",n),t.setAttribute("draggable","false")}}connectDropTarget(e,t){let s=t=>this.handleDragEnter(t,e),a=t=>this.handleDragOver(t,e),n=t=>this.handleDrop(t,e);return t.addEventListener("dragenter",s),t.addEventListener("dragover",a),t.addEventListener("drop",n),()=>{t.removeEventListener("dragenter",s),t.removeEventListener("dragover",a),t.removeEventListener("drop",n)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){let e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return aQ({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){let e=this.monitor.getSourceId();return aQ({anchorX:.5,anchorY:.5,captureDraggingState:!1},this.sourcePreviewNodeOptions.get(e)||{})}isDraggingNativeItem(){let e=this.monitor.getItemType();return Object.keys(az).some(t=>az[t]===e)}beginDragNativeItem(e,t){this.clearCurrentDragSourceNode(),this.currentNativeSource=function(e,t){let s=aG[e];if(!s)throw Error("native type ".concat(e," has no configuration"));let a=new aF(s);return a.loadDataTransfer(t),a}(e,t),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e,this.mouseMoveTimeoutTimer=setTimeout(()=>{var e;return null==(e=this.rootElement)?void 0:e.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},1e3)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;null==(e=this.window)||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}handleDragEnter(e,t){this.dragEnterTargetIds.unshift(t)}handleDragOver(e,t){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}handleDrop(e,t){this.dropTargetIds.unshift(t)}constructor(e,t,s){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=e=>{let t=this.sourceNodes.get(e);return t&&aH(t)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=e=>!!(e&&this.document&&this.document.body&&this.document.body.contains(e)),this.endDragIfSourceWasRemovedFromDOM=()=>{let e=this.currentDragSourceNode;null==e||this.isNodeInDocument(e)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=e=>{null===this.hoverRafId&&"undefined"!=typeof requestAnimationFrame&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(e||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{null!==this.hoverRafId&&"undefined"!=typeof cancelAnimationFrame&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=e=>{if(e.defaultPrevented)return;let{dragStartSourceIds:t}=this;this.dragStartSourceIds=null;let s=aY(e);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(t||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:s});let{dataTransfer:a}=e,n=aU(a);if(this.monitor.isDragging()){if(a&&"function"==typeof a.setDragImage){let e=this.monitor.getSourceId(),t=this.sourceNodes.get(e),n=this.sourcePreviewNodes.get(e)||t;if(n){let{anchorX:e,anchorY:r,offsetX:i,offsetY:o}=this.getCurrentSourcePreviewNodeOptions(),l=function(e,t,s,a,n){var r;let i,o,l,c="IMG"===t.nodeName&&(aW()||!(null==(r=document.documentElement)?void 0:r.contains(t))),d=aH(c?e:t),u={x:s.x-d.x,y:s.y-d.y},{offsetWidth:h,offsetHeight:m}=e,{anchorX:p,anchorY:f}=a,{dragPreviewWidth:g,dragPreviewHeight:x}=(i=c?t.width:h,o=c?t.height:m,aq()&&c&&(o/=window.devicePixelRatio,i/=window.devicePixelRatio),{dragPreviewWidth:i,dragPreviewHeight:o}),{offsetX:_,offsetY:v}=n;return{x:0===_||_?_:new aV([0,.5,1],[u.x,u.x/h*g,u.x+g-h]).interpolate(p),y:0===v||v?v:(l=new aV([0,.5,1],[u.y,u.y/m*x,u.y+x-m]).interpolate(f),aq()&&c&&(l+=(window.devicePixelRatio-1)*x),l)}}(t,n,s,{anchorX:e,anchorY:r},{offsetX:i,offsetY:o});a.setDragImage(n,l.x,l.y)}}try{null==a||a.setData("application/json",{})}catch(e){}this.setCurrentDragSourceNode(e.target);let{captureDraggingState:t}=this.getCurrentSourcePreviewNodeOptions();t?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(n)this.beginDragNativeItem(n);else{if(a&&!a.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=e=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var t;null==(t=this.currentNativeSource)||t.loadDataTransfer(e.dataTransfer)}if(!this.enterLeaveCounter.enter(e.target)||this.monitor.isDragging())return;let{dataTransfer:s}=e,a=aU(s);a&&this.beginDragNativeItem(a,s)},this.handleTopDragEnter=e=>{let{dragEnterTargetIds:t}=this;this.dragEnterTargetIds=[],this.monitor.isDragging()&&(this.altKeyPressed=e.altKey,t.length>0&&this.actions.hover(t,{clientOffset:aY(e)}),t.some(e=>this.monitor.canDropOnTarget(e))&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=this.getCurrentDropEffect())))},this.handleTopDragOverCapture=e=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var t;null==(t=this.currentNativeSource)||t.loadDataTransfer(e.dataTransfer)}},this.handleTopDragOver=e=>{let{dragOverTargetIds:t}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none");return}this.altKeyPressed=e.altKey,this.lastClientOffset=aY(e),this.scheduleHover(t),(t||[]).some(e=>this.monitor.canDropOnTarget(e))?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=e=>{this.isDraggingNativeItem()&&e.preventDefault(),this.enterLeaveCounter.leave(e.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=e=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var t;e.preventDefault(),null==(t=this.currentNativeSource)||t.loadDataTransfer(e.dataTransfer)}else aU(e.dataTransfer)&&e.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=e=>{let{dropTargetIds:t}=this;this.dropTargetIds=[],this.actions.hover(t,{clientOffset:aY(e)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=e=>{let t=e.target;"function"==typeof t.dragDrop&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop()))},this.options=new aX(t,s),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new aK(this.isNodeInDocument)}}let aZ=function(e,t,s){return new aJ(e,t,s)};var a$=e.i(394541);let a0=(0,m.createContext)(null),a1={accept:[a$.NativeTypes.FILE],collect:()=>void 0};function a2(e){let{children:t,className:s}=e,n=(0,m.useRef)(null);return(0,a.jsx)("div",{ref:n,className:"flex w-full h-full","data-testid":"drop-container",children:(0,a.jsx)(aL,{backend:aZ,options:{rootElement:n.current},context:globalThis.window,children:(0,a.jsx)(a8,{className:s,children:t})})})}function a8(e){var t,s;let{children:n,className:r}=e,i=(0,m.useRef)(null),[l,c]=(0,m.useState)(null),d=null!=(t=null==l?void 0:l.options)?t:a1,[u,h]=(0,aA.useDrop)(d);h(i);let p=null!=(s=null==l?void 0:l.hookId)?s:null,f=(0,m.useMemo)(()=>({collectedProps:u,hookId:p,subscribe:c}),[u,c,p]);return(0,a.jsx)("div",{ref:i,className:(0,o.cn)("flex w-full h-full",r),"data-testid":"drop-ui",children:(0,a.jsx)(a0.Provider,{value:f,children:n})})}let a4=["cpu","thermals"],a3=["nominal","fair","serious","critical"];var a5=e.i(130568),a6=e.i(258722),a7=e.i(425296);e.i(49854);var a9=e.i(304902),ne=e.i(785239),nt=e.i(985005);let ns=null,na=null,nn=["/starfleet","/c","/chat","/project"];var nr=e.i(16430),ni=e.i(472840);e.i(994238);var no=e.i(548310),nl=e.i(211535),nc=e.i(159422);function nd(){var e;let t=(0,eh.useLogEvent)(),[s,n]=(0,m.useState)(""),{t:i}=(0,E.useTranslation)("data.report-issue"),l=(0,ty.useChatPageStore)(D.prop("conversationId")),{isChatPage:c}=(0,eu.useGrokRouter)(),d=(0,v.useSession)(),[u,p]=(0,m.useState)(null),f=(0,tm.useRequestErrorToastFn)(),g=(0,nl.useReportStore)(D.prop("reportDialogIsOpen")),x=(0,nl.useReportStore)(D.prop("forcedReportType")),_=(0,ty.useChatPageStore)(D.prop("lastMessageId")),y=(0,nc.useResponseStore)(D.prop("byId")),b=(0,m.useMemo)(()=>({general_feedback:{label:i("report-type.general-feedback-label","General feedback"),type:no.GrokApiUserFeedbackType.GeneralFeedback},issue_report:{label:i("report-type.issue-report-label","Report issue / bug"),type:no.GrokApiUserFeedbackType.IssueReport},child_safety:{label:i("report-type.child-safety-label","Child safety concern"),type:no.GrokApiUserFeedbackType.ChildSafety},response_feedback:{label:i("report-type.response-feedback-label","Response feedback"),type:no.GrokApiUserFeedbackType.ResponseFeedback}}),[i]),k=(0,m.useCallback)(()=>{(0,nl.useReportStore.getState().closeReportDialog)(),n(""),p(null)},[]),j=(0,m.useCallback)(e=>!e&&k(),[k]),S=(0,m.useCallback)(e=>n(e.target.value),[]),T=(0,m.useCallback)(async()=>{var e,a,n;let r=nl.useReportStore.getState();t("report_issue_submitted",_,{location:"report-issue",modelId:r.reportModelId||"",responseId:r.reportResponseId||_||"",conversationId:l||"",report:s,selectedReportType:x||(u?null!=(n=null==(e=b[u])?void 0:e.type)?n:"unknown-report-type":"no-report-type")});let o=c?(0,L.getExportResponseChatJSONString)(_,y):void 0,h={body:{reportWithDumpJSONString:JSON.stringify({debug_url:"go/debug/".concat(l),user:d.user,country_code:d.countryCode,user_reported_from:window.location.href,conversationId:l,modelId:r.reportModelId,responseId:r.reportResponseId||_,dump:o}).slice(0,5e5),report:s,feedbackType:x||(u?null==(a=b[u])?void 0:a.type:void 0)}};X.settingsApi.settingsUserIssueReport(h).then(()=>M.toast.success(i("report-dialog.sent-report",{defaultValue:"Successfully sent error report!"}))).catch(e=>{(0,w.logError)("report-dialog",e),f("report-dialog",e,i("report-dialog.send-fail",{defaultValue:"Failed to send error report"}))}),k()},[t,_,x,u,c,y,d.user,d.countryCode,l,s,k,i,b,f]);return(0,a.jsx)(st.Dialog,{open:g,onOpenChange:j,children:(0,a.jsxs)(st.DialogContent,{className:"max-w-[480px] w-full p-4 rounded-3xl border border-border-l1 flex flex-col gap-6",children:[(0,a.jsx)(st.DialogHeader,{children:(0,a.jsx)(st.DialogTitle,{children:(0,a.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,a.jsx)("h1",{className:"font-semibold text-lg",children:i("report-dialog.title",{defaultValue:"Report an issue"})}),(0,a.jsx)(r.Button,{variant:"ghost",size:"iconMd",onClick:k,children:(0,a.jsx)(h.X,{size:16})})]})})}),!x&&(0,a.jsxs)("div",{className:"w-full",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold mb-2",children:i("feedback.report-type-label",{defaultValue:"Feedback type"})}),(0,a.jsxs)(ss.DropdownMenu,{children:[(0,a.jsx)(ss.DropdownMenuTrigger,{asChild:!0,children:(0,a.jsxs)(r.Button,{variant:"outline",className:"w-full",children:[(0,a.jsx)("div",{className:"w-full flex justify-between items-center",children:u?null==(e=b[u])?void 0:e.label:i("report-dialog.select-report-label","Select report type")}),(0,a.jsx)(ni.ChevronDown,{size:16})]})}),(0,a.jsx)(ss.DropdownMenuContent,{side:"bottom",align:"end",sideOffset:6,className:"min-w-36 space-y-0.5 z-[101]",children:Object.keys(b).map((e,t)=>{var s;return(0,a.jsx)(ss.DropdownMenuItem,{className:(0,o.cn)("flex items-center gap",{"bg-button-ghost-active":u===e}),onSelect:()=>p(t=>t===e?null:e),children:null==(s=b[e])?void 0:s.label},t)})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-semibold mb-2",children:i("feedback.area-label",{defaultValue:"Your feedback"})}),(0,a.jsx)(tT.Textarea,{className:"rounded-3xl p-4 border border-border-l1",rows:8,placeholder:i("report-dialog.textarea-placeholder",{defaultValue:"Please describe any issues or feedback you have for Grok."}),value:s,onChange:S})]}),(0,a.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,a.jsx)(r.Button,{variant:"outline",onClick:k,children:i("reportDialog.cancel",{defaultValue:"Cancel"})}),(0,a.jsx)(r.Button,{onClick:T,variant:"primary",disabled:0===s.length,children:i("reportDialog.send",{defaultValue:"Send"})})]})]})})}var nu=e.i(482795),nh=e.i(411768);let nm=(0,l.default)("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);var np=e.i(503881),nf=e.i(233742),ng=e.i(875969);let nx=(0,l.default)("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);var n_=e.i(468755),nv=e.i(432286),ny=e.i(936765),nb=e.i(738416),nk=e.i(111224),nj=e.i(487122),nw=e.i(516467);function nS(e,t,s){let a=(0,nw.toDate)(e,null==s?void 0:s.in),n=a.getFullYear(),r=a.getDate(),i=(0,nj.constructFrom)((null==s?void 0:s.in)||e,0);i.setFullYear(n,t,15),i.setHours(0,0,0,0);let o=function(e,t){let s=(0,nw.toDate)(e,void 0),a=s.getFullYear(),n=s.getMonth(),r=(0,nj.constructFrom)(s,0);return r.setFullYear(a,n+1,0),r.setHours(0,0,0,0),r.getDate()}(i);return a.setMonth(t,Math.min(r,o)),a}function nT(e,t,s){let a=(0,nw.toDate)(e,null==s?void 0:s.in);return isNaN(+a)?(0,nj.constructFrom)((null==s?void 0:s.in)||e,NaN):(a.setFullYear(t),a)}var nN=e.i(921127),nC=e.i(731285),nI=e.i(495794),nD=e.i(539392);function nE(e,t,s){let[a,n]=(0,nD.normalizeDates)(null==s?void 0:s.in,e,t);return a.getFullYear()===n.getFullYear()&&a.getMonth()===n.getMonth()}function nM(e,t){return+(0,nw.toDate)(e)<+(0,nw.toDate)(t)}var nO=e.i(234867),nP=e.i(954259),nL=e.i(343323),nA=e.i(103882);function nR(e,t){return+(0,nw.toDate)(e)>+(0,nw.toDate)(t)}var nK=e.i(119470),nF=e.i(870429),nz=e.i(966625);function nB(e,t,s){return(0,nL.addDays)(e,7*t,s)}function nG(e,t,s){return(0,nI.addMonths)(e,12*t,s)}var nU=e.i(492421);function nW(e,t){var s,a,n,r,i,o,l,c;let d=(0,nU.getDefaultOptions)(),u=null!=(c=null!=(l=null!=(o=null!=(i=null==t?void 0:t.weekStartsOn)?i:null==t||null==(a=t.locale)||null==(s=a.options)?void 0:s.weekStartsOn)?o:d.weekStartsOn)?l:null==(r=d.locale)||null==(n=r.options)?void 0:n.weekStartsOn)?c:0,h=(0,nw.toDate)(e,null==t?void 0:t.in),m=h.getDay();return h.setDate(h.getDate()+((m<u?-7:0)+6-(m-u))),h.setHours(23,59,59,999),h}function nq(e,t){return nW(e,{...t,weekStartsOn:1})}var nV=e.i(669352),nH=e.i(44318),nY=e.i(909432);e.i(238153),e.i(55311),e.i(116431),e.i(821468);var nX=e.i(868275);class nQ{validate(e,t){return!0}constructor(){(0,nX._)(this,"subPriority",0)}}class nJ extends nQ{validate(e,t){return this.validateValue(e,this.value,t)}set(e,t,s){return this.setValue(e,t,this.value,s)}constructor(e,t,s,a,n){super(),this.value=e,this.validateValue=t,this.setValue=s,this.priority=a,n&&(this.subPriority=n)}}class nZ{run(e,t,s,a){let n=this.parse(e,t,s,a);return n?{setter:new nJ(n.value,this.validate,this.set,this.priority,this.subPriority),rest:n.rest}:null}validate(e,t,s){return!0}}var n$=e.i(511518);let n0={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},n1={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function n2(e,t){return e?{value:t(e.value),rest:e.rest}:e}function n8(e,t){let s=t.match(e);return s?{value:parseInt(s[0],10),rest:t.slice(s[0].length)}:null}function n4(e,t){let s=t.match(e);if(!s)return null;if("Z"===s[0])return{value:0,rest:t.slice(1)};let a="+"===s[1]?1:-1,n=s[2]?parseInt(s[2],10):0,r=s[3]?parseInt(s[3],10):0,i=s[5]?parseInt(s[5],10):0;return{value:a*(n*n$.millisecondsInHour+r*n$.millisecondsInMinute+i*n$.millisecondsInSecond),rest:t.slice(s[0].length)}}function n3(e){return n8(n0.anyDigitsSigned,e)}function n5(e,t){switch(e){case 1:return n8(n0.singleDigit,t);case 2:return n8(n0.twoDigits,t);case 3:return n8(n0.threeDigits,t);case 4:return n8(n0.fourDigits,t);default:return n8(RegExp("^\\d{1,"+e+"}"),t)}}function n6(e,t){switch(e){case 1:return n8(n0.singleDigitSigned,t);case 2:return n8(n0.twoDigitsSigned,t);case 3:return n8(n0.threeDigitsSigned,t);case 4:return n8(n0.fourDigitsSigned,t);default:return n8(RegExp("^-?\\d{1,"+e+"}"),t)}}function n7(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function n9(e,t){let s,a=t>0,n=a?t:1-t;if(n<=50)s=e||100;else{let t=n+50;s=e+100*Math.trunc(t/100)-100*(e>=t%100)}return a?s:1-s}function re(e){return e%400==0||e%4==0&&e%100!=0}var rt=e.i(622984);let rs=[31,28,31,30,31,30,31,31,30,31,30,31],ra=[31,29,31,30,31,30,31,31,30,31,30,31];function rn(e,t,s){var a,n,r,i,o,l,c,d;let u=(0,nU.getDefaultOptions)(),h=null!=(d=null!=(c=null!=(l=null!=(o=null==s?void 0:s.weekStartsOn)?o:null==s||null==(n=s.locale)||null==(a=n.options)?void 0:a.weekStartsOn)?l:u.weekStartsOn)?c:null==(i=u.locale)||null==(r=i.options)?void 0:r.weekStartsOn)?d:0,m=(0,nw.toDate)(e,null==s?void 0:s.in),p=m.getDay(),f=7-h,g=t<0||t>6?t-(p+f)%7:((t%7+7)%7+f)%7-(p+f)%7;return(0,nL.addDays)(m,g,s)}var rr=e.i(632713);new class extends nZ{parse(e,t,s){switch(t){case"G":case"GG":case"GGG":return s.era(e,{width:"abbreviated"})||s.era(e,{width:"narrow"});case"GGGGG":return s.era(e,{width:"narrow"});default:return s.era(e,{width:"wide"})||s.era(e,{width:"abbreviated"})||s.era(e,{width:"narrow"})}}set(e,t,s){return t.era=s,e.setFullYear(s,0,1),e.setHours(0,0,0,0),e}constructor(...e){super(...e),(0,nX._)(this,"priority",140),(0,nX._)(this,"incompatibleTokens",["R","u","t","T"])}},new class extends nZ{parse(e,t,s){let a=e=>({year:e,isTwoDigitYear:"yy"===t});switch(t){case"y":return n2(n5(4,e),a);case"yo":return n2(s.ordinalNumber(e,{unit:"year"}),a);default:return n2(n5(t.length,e),a)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,s){let a=e.getFullYear();if(s.isTwoDigitYear){let t=n9(s.year,a);return e.setFullYear(t,0,1),e.setHours(0,0,0,0),e}let n="era"in t&&1!==t.era?1-s.year:s.year;return e.setFullYear(n,0,1),e.setHours(0,0,0,0),e}constructor(...e){super(...e),(0,nX._)(this,"priority",130),(0,nX._)(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}},new class extends nZ{parse(e,t,s){let a=e=>({year:e,isTwoDigitYear:"YY"===t});switch(t){case"Y":return n2(n5(4,e),a);case"Yo":return n2(s.ordinalNumber(e,{unit:"year"}),a);default:return n2(n5(t.length,e),a)}}validate(e,t){return t.isTwoDigitYear||t.year>0}set(e,t,s,a){let n=(0,rt.getWeekYear)(e,a);if(s.isTwoDigitYear){let t=n9(s.year,n);return e.setFullYear(t,0,a.firstWeekContainsDate),e.setHours(0,0,0,0),(0,nP.startOfWeek)(e,a)}let r="era"in t&&1!==t.era?1-s.year:s.year;return e.setFullYear(r,0,a.firstWeekContainsDate),e.setHours(0,0,0,0),(0,nP.startOfWeek)(e,a)}constructor(...e){super(...e),(0,nX._)(this,"priority",130),(0,nX._)(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}},new class extends nZ{parse(e,t){return"R"===t?n6(4,e):n6(t.length,e)}set(e,t,s){let a=(0,nj.constructFrom)(e,0);return a.setFullYear(s,0,4),a.setHours(0,0,0,0),(0,nO.startOfISOWeek)(a)}constructor(...e){super(...e),(0,nX._)(this,"priority",130),(0,nX._)(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}},new class extends nZ{parse(e,t){return"u"===t?n6(4,e):n6(t.length,e)}set(e,t,s){return e.setFullYear(s,0,1),e.setHours(0,0,0,0),e}constructor(...e){super(...e),(0,nX._)(this,"priority",130),(0,nX._)(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}},new class extends nZ{parse(e,t,s){switch(t){case"Q":case"QQ":return n5(t.length,e);case"Qo":return s.ordinalNumber(e,{unit:"quarter"});case"QQQ":return s.quarter(e,{width:"abbreviated",context:"formatting"})||s.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(e,{width:"narrow",context:"formatting"});default:return s.quarter(e,{width:"wide",context:"formatting"})||s.quarter(e,{width:"abbreviated",context:"formatting"})||s.quarter(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=1&&t<=4}set(e,t,s){return e.setMonth((s-1)*3,1),e.setHours(0,0,0,0),e}constructor(...e){super(...e),(0,nX._)(this,"priority",120),(0,nX._)(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}},new class extends nZ{parse(e,t,s){switch(t){case"q":case"qq":return n5(t.length,e);case"qo":return s.ordinalNumber(e,{unit:"quarter"});case"qqq":return s.quarter(e,{width:"abbreviated",context:"standalone"})||s.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(e,{width:"narrow",context:"standalone"});default:return s.quarter(e,{width:"wide",context:"standalone"})||s.quarter(e,{width:"abbreviated",context:"standalone"})||s.quarter(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=1&&t<=4}set(e,t,s){return e.setMonth((s-1)*3,1),e.setHours(0,0,0,0),e}constructor(...e){super(...e),(0,nX._)(this,"priority",120),(0,nX._)(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}},new class extends nZ{parse(e,t,s){let a=e=>e-1;switch(t){case"M":return n2(n8(n0.month,e),a);case"MM":return n2(n5(2,e),a);case"Mo":return n2(s.ordinalNumber(e,{unit:"month"}),a);case"MMM":return s.month(e,{width:"abbreviated",context:"formatting"})||s.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(e,{width:"narrow",context:"formatting"});default:return s.month(e,{width:"wide",context:"formatting"})||s.month(e,{width:"abbreviated",context:"formatting"})||s.month(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=11}set(e,t,s){return e.setMonth(s,1),e.setHours(0,0,0,0),e}constructor(...e){super(...e),(0,nX._)(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),(0,nX._)(this,"priority",110)}},new class extends nZ{parse(e,t,s){let a=e=>e-1;switch(t){case"L":return n2(n8(n0.month,e),a);case"LL":return n2(n5(2,e),a);case"Lo":return n2(s.ordinalNumber(e,{unit:"month"}),a);case"LLL":return s.month(e,{width:"abbreviated",context:"standalone"})||s.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(e,{width:"narrow",context:"standalone"});default:return s.month(e,{width:"wide",context:"standalone"})||s.month(e,{width:"abbreviated",context:"standalone"})||s.month(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=11}set(e,t,s){return e.setMonth(s,1),e.setHours(0,0,0,0),e}constructor(...e){super(...e),(0,nX._)(this,"priority",110),(0,nX._)(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}},new class extends nZ{parse(e,t,s){switch(t){case"w":return n8(n0.week,e);case"wo":return s.ordinalNumber(e,{unit:"week"});default:return n5(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,s,a){return(0,nP.startOfWeek)(function(e,t,s){let a=(0,nw.toDate)(e,null==s?void 0:s.in),n=(0,nH.getWeek)(a,s)-t;return a.setDate(a.getDate()-7*n),(0,nw.toDate)(a,null==s?void 0:s.in)}(e,s,a),a)}constructor(...e){super(...e),(0,nX._)(this,"priority",100),(0,nX._)(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}},new class extends nZ{parse(e,t,s){switch(t){case"I":return n8(n0.week,e);case"Io":return s.ordinalNumber(e,{unit:"week"});default:return n5(t.length,e)}}validate(e,t){return t>=1&&t<=53}set(e,t,s){return(0,nO.startOfISOWeek)(function(e,t,s){let a=(0,nw.toDate)(e,void 0),n=(0,nV.getISOWeek)(a,void 0)-t;return a.setDate(a.getDate()-7*n),a}(e,s))}constructor(...e){super(...e),(0,nX._)(this,"priority",100),(0,nX._)(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}},new class extends nZ{parse(e,t,s){switch(t){case"d":return n8(n0.date,e);case"do":return s.ordinalNumber(e,{unit:"date"});default:return n5(t.length,e)}}validate(e,t){let s=re(e.getFullYear()),a=e.getMonth();return s?t>=1&&t<=ra[a]:t>=1&&t<=rs[a]}set(e,t,s){return e.setDate(s),e.setHours(0,0,0,0),e}constructor(...e){super(...e),(0,nX._)(this,"priority",90),(0,nX._)(this,"subPriority",1),(0,nX._)(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}},new class extends nZ{parse(e,t,s){switch(t){case"D":case"DD":return n8(n0.dayOfYear,e);case"Do":return s.ordinalNumber(e,{unit:"date"});default:return n5(t.length,e)}}validate(e,t){return re(e.getFullYear())?t>=1&&t<=366:t>=1&&t<=365}set(e,t,s){return e.setMonth(0,s),e.setHours(0,0,0,0),e}constructor(...e){super(...e),(0,nX._)(this,"priority",90),(0,nX._)(this,"subpriority",1),(0,nX._)(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}},new class extends nZ{parse(e,t,s){switch(t){case"E":case"EE":case"EEE":return s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"});default:return s.day(e,{width:"wide",context:"formatting"})||s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,s,a){return(e=rn(e,s,a)).setHours(0,0,0,0),e}constructor(...e){super(...e),(0,nX._)(this,"priority",90),(0,nX._)(this,"incompatibleTokens",["D","i","e","c","t","T"])}},new class extends nZ{parse(e,t,s,a){let n=e=>{let t=7*Math.floor((e-1)/7);return(e+a.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return n2(n5(t.length,e),n);case"eo":return n2(s.ordinalNumber(e,{unit:"day"}),n);case"eee":return s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"});case"eeeee":return s.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"});default:return s.day(e,{width:"wide",context:"formatting"})||s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"})}}validate(e,t){return t>=0&&t<=6}set(e,t,s,a){return(e=rn(e,s,a)).setHours(0,0,0,0),e}constructor(...e){super(...e),(0,nX._)(this,"priority",90),(0,nX._)(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}},new class extends nZ{parse(e,t,s,a){let n=e=>{let t=7*Math.floor((e-1)/7);return(e+a.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return n2(n5(t.length,e),n);case"co":return n2(s.ordinalNumber(e,{unit:"day"}),n);case"ccc":return s.day(e,{width:"abbreviated",context:"standalone"})||s.day(e,{width:"short",context:"standalone"})||s.day(e,{width:"narrow",context:"standalone"});case"ccccc":return s.day(e,{width:"narrow",context:"standalone"});case"cccccc":return s.day(e,{width:"short",context:"standalone"})||s.day(e,{width:"narrow",context:"standalone"});default:return s.day(e,{width:"wide",context:"standalone"})||s.day(e,{width:"abbreviated",context:"standalone"})||s.day(e,{width:"short",context:"standalone"})||s.day(e,{width:"narrow",context:"standalone"})}}validate(e,t){return t>=0&&t<=6}set(e,t,s,a){return(e=rn(e,s,a)).setHours(0,0,0,0),e}constructor(...e){super(...e),(0,nX._)(this,"priority",90),(0,nX._)(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}},new class extends nZ{parse(e,t,s){let a=e=>0===e?7:e;switch(t){case"i":case"ii":return n5(t.length,e);case"io":return s.ordinalNumber(e,{unit:"day"});case"iii":return n2(s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"}),a);case"iiiii":return n2(s.day(e,{width:"narrow",context:"formatting"}),a);case"iiiiii":return n2(s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"}),a);default:return n2(s.day(e,{width:"wide",context:"formatting"})||s.day(e,{width:"abbreviated",context:"formatting"})||s.day(e,{width:"short",context:"formatting"})||s.day(e,{width:"narrow",context:"formatting"}),a)}}validate(e,t){return t>=1&&t<=7}set(e,t,s){return(e=function(e,t,s){let a=(0,nw.toDate)(e,void 0),n=function(e,t){let s=(0,nw.toDate)(e,null==t?void 0:t.in).getDay();return 0===s?7:s}(a,void 0);return(0,nL.addDays)(a,t-n,s)}(e,s)).setHours(0,0,0,0),e}constructor(...e){super(...e),(0,nX._)(this,"priority",90),(0,nX._)(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}},new class extends nZ{parse(e,t,s){switch(t){case"a":case"aa":case"aaa":return s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(e,{width:"narrow",context:"formatting"});default:return s.dayPeriod(e,{width:"wide",context:"formatting"})||s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,s){return e.setHours(n7(s),0,0,0),e}constructor(...e){super(...e),(0,nX._)(this,"priority",80),(0,nX._)(this,"incompatibleTokens",["b","B","H","k","t","T"])}},new class extends nZ{parse(e,t,s){switch(t){case"b":case"bb":case"bbb":return s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(e,{width:"narrow",context:"formatting"});default:return s.dayPeriod(e,{width:"wide",context:"formatting"})||s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,s){return e.setHours(n7(s),0,0,0),e}constructor(...e){super(...e),(0,nX._)(this,"priority",80),(0,nX._)(this,"incompatibleTokens",["a","B","H","k","t","T"])}},new class extends nZ{parse(e,t,s){switch(t){case"B":case"BB":case"BBB":return s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(e,{width:"narrow",context:"formatting"});default:return s.dayPeriod(e,{width:"wide",context:"formatting"})||s.dayPeriod(e,{width:"abbreviated",context:"formatting"})||s.dayPeriod(e,{width:"narrow",context:"formatting"})}}set(e,t,s){return e.setHours(n7(s),0,0,0),e}constructor(...e){super(...e),(0,nX._)(this,"priority",80),(0,nX._)(this,"incompatibleTokens",["a","b","t","T"])}},new class extends nZ{parse(e,t,s){switch(t){case"h":return n8(n0.hour12h,e);case"ho":return s.ordinalNumber(e,{unit:"hour"});default:return n5(t.length,e)}}validate(e,t){return t>=1&&t<=12}set(e,t,s){let a=e.getHours()>=12;return a&&s<12?e.setHours(s+12,0,0,0):a||12!==s?e.setHours(s,0,0,0):e.setHours(0,0,0,0),e}constructor(...e){super(...e),(0,nX._)(this,"priority",70),(0,nX._)(this,"incompatibleTokens",["H","K","k","t","T"])}},new class extends nZ{parse(e,t,s){switch(t){case"H":return n8(n0.hour23h,e);case"Ho":return s.ordinalNumber(e,{unit:"hour"});default:return n5(t.length,e)}}validate(e,t){return t>=0&&t<=23}set(e,t,s){return e.setHours(s,0,0,0),e}constructor(...e){super(...e),(0,nX._)(this,"priority",70),(0,nX._)(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}},new class extends nZ{parse(e,t,s){switch(t){case"K":return n8(n0.hour11h,e);case"Ko":return s.ordinalNumber(e,{unit:"hour"});default:return n5(t.length,e)}}validate(e,t){return t>=0&&t<=11}set(e,t,s){return e.getHours()>=12&&s<12?e.setHours(s+12,0,0,0):e.setHours(s,0,0,0),e}constructor(...e){super(...e),(0,nX._)(this,"priority",70),(0,nX._)(this,"incompatibleTokens",["h","H","k","t","T"])}},new class extends nZ{parse(e,t,s){switch(t){case"k":return n8(n0.hour24h,e);case"ko":return s.ordinalNumber(e,{unit:"hour"});default:return n5(t.length,e)}}validate(e,t){return t>=1&&t<=24}set(e,t,s){return e.setHours(s<=24?s%24:s,0,0,0),e}constructor(...e){super(...e),(0,nX._)(this,"priority",70),(0,nX._)(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}},new class extends nZ{parse(e,t,s){switch(t){case"m":return n8(n0.minute,e);case"mo":return s.ordinalNumber(e,{unit:"minute"});default:return n5(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,s){return e.setMinutes(s,0,0),e}constructor(...e){super(...e),(0,nX._)(this,"priority",60),(0,nX._)(this,"incompatibleTokens",["t","T"])}},new class extends nZ{parse(e,t,s){switch(t){case"s":return n8(n0.second,e);case"so":return s.ordinalNumber(e,{unit:"second"});default:return n5(t.length,e)}}validate(e,t){return t>=0&&t<=59}set(e,t,s){return e.setSeconds(s,0),e}constructor(...e){super(...e),(0,nX._)(this,"priority",50),(0,nX._)(this,"incompatibleTokens",["t","T"])}},new class extends nZ{parse(e,t){return n2(n5(t.length,e),e=>Math.trunc(e*Math.pow(10,-t.length+3)))}set(e,t,s){return e.setMilliseconds(s),e}constructor(...e){super(...e),(0,nX._)(this,"priority",30),(0,nX._)(this,"incompatibleTokens",["t","T"])}},new class extends nZ{parse(e,t){switch(t){case"X":return n4(n1.basicOptionalMinutes,e);case"XX":return n4(n1.basic,e);case"XXXX":return n4(n1.basicOptionalSeconds,e);case"XXXXX":return n4(n1.extendedOptionalSeconds,e);default:return n4(n1.extended,e)}}set(e,t,s){return t.timestampIsSet?e:(0,nj.constructFrom)(e,e.getTime()-(0,rr.getTimezoneOffsetInMilliseconds)(e)-s)}constructor(...e){super(...e),(0,nX._)(this,"priority",10),(0,nX._)(this,"incompatibleTokens",["t","T","x"])}},new class extends nZ{parse(e,t){switch(t){case"x":return n4(n1.basicOptionalMinutes,e);case"xx":return n4(n1.basic,e);case"xxxx":return n4(n1.basicOptionalSeconds,e);case"xxxxx":return n4(n1.extendedOptionalSeconds,e);default:return n4(n1.extended,e)}}set(e,t,s){return t.timestampIsSet?e:(0,nj.constructFrom)(e,e.getTime()-(0,rr.getTimezoneOffsetInMilliseconds)(e)-s)}constructor(...e){super(...e),(0,nX._)(this,"priority",10),(0,nX._)(this,"incompatibleTokens",["t","T","X"])}},new class extends nZ{parse(e){return n3(e)}set(e,t,s){return[(0,nj.constructFrom)(e,1e3*s),{timestampIsSet:!0}]}constructor(...e){super(...e),(0,nX._)(this,"priority",40),(0,nX._)(this,"incompatibleTokens","*")}},new class extends nZ{parse(e){return n3(e)}set(e,t,s){return[(0,nj.constructFrom)(e,s),{timestampIsSet:!0}]}constructor(...e){super(...e),(0,nX._)(this,"priority",20),(0,nX._)(this,"incompatibleTokens","*")}};var ri=e.i(244874),ro=function(){return(ro=Object.assign||function(e){for(var t,s=1,a=arguments.length;s<a;s++)for(var n in t=arguments[s])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};function rl(e,t,s){if(s||2==arguments.length)for(var a,n=0,r=t.length;n<r;n++)!a&&n in t||(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function rc(e){return"multiple"===e.mode}function rd(e){return"range"===e.mode}function ru(e){return"single"===e.mode}"function"==typeof SuppressedError&&SuppressedError;var rh={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"},rm=Object.freeze({__proto__:null,formatCaption:function(e,t){return(0,sG.format)(e,"LLLL y",t)},formatDay:function(e,t){return(0,sG.format)(e,"d",t)},formatMonthCaption:function(e,t){return(0,sG.format)(e,"LLLL",t)},formatWeekNumber:function(e){return"".concat(e)},formatWeekdayName:function(e,t){return(0,sG.format)(e,"cccccc",t)},formatYearCaption:function(e,t){return(0,sG.format)(e,"yyyy",t)}}),rp=Object.freeze({__proto__:null,labelDay:function(e,t,s){return(0,sG.format)(e,"do MMMM (EEEE)",s)},labelMonthDropdown:function(){return"Month: "},labelNext:function(){return"Go to next month"},labelPrevious:function(){return"Go to previous month"},labelWeekNumber:function(e){return"Week n. ".concat(e)},labelWeekday:function(e,t){return(0,sG.format)(e,"cccc",t)},labelYearDropdown:function(){return"Year: "}}),rf=(0,m.createContext)(void 0);function rg(e){var t,s,n,r,i,o,l,c,d=e.initialProps,u={captionLayout:"buttons",classNames:rh,formatters:rm,labels:rp,locale:ri.enUS,modifiersClassNames:{},modifiers:{},numberOfMonths:1,styles:{},today:new Date,mode:"default"},h=(t=d.fromYear,s=d.toYear,n=d.fromMonth,r=d.toMonth,i=d.fromDate,o=d.toDate,n?i=(0,nv.startOfMonth)(n):t&&(i=new Date(t,0,1)),r?o=(0,ny.endOfMonth)(r):s&&(o=new Date(s,11,31)),{fromDate:i?(0,nb.startOfDay)(i):void 0,toDate:o?(0,nb.startOfDay)(o):void 0}),m=h.fromDate,p=h.toDate,f=null!=(l=d.captionLayout)?l:u.captionLayout;"buttons"===f||m&&p||(f="buttons"),(ru(d)||rc(d)||rd(d))&&(c=d.onSelect);var g=ro(ro(ro({},u),d),{captionLayout:f,classNames:ro(ro({},u.classNames),d.classNames),components:ro({},d.components),formatters:ro(ro({},u.formatters),d.formatters),fromDate:m,labels:ro(ro({},u.labels),d.labels),mode:d.mode||u.mode,modifiers:ro(ro({},u.modifiers),d.modifiers),modifiersClassNames:ro(ro({},u.modifiersClassNames),d.modifiersClassNames),onSelect:c,styles:ro(ro({},u.styles),d.styles),toDate:p});return(0,a.jsx)(rf.Provider,{value:g,children:e.children})}function rx(){var e=(0,m.useContext)(rf);if(!e)throw Error("useDayPicker must be used within a DayPickerProvider.");return e}function r_(e){var t=rx(),s=t.locale,n=t.classNames,r=t.styles,i=t.formatters.formatCaption;return(0,a.jsx)("div",{className:n.caption_label,style:r.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:i(e.displayMonth,{locale:s})})}function rv(e){return(0,a.jsx)("svg",ro({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:(0,a.jsx)("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function ry(e){var t,s,n=e.onChange,r=e.value,i=e.children,o=e.caption,l=e.className,c=e.style,d=rx(),u=null!=(s=null==(t=d.components)?void 0:t.IconDropdown)?s:rv;return(0,a.jsxs)("div",{className:l,style:c,children:[(0,a.jsx)("span",{className:d.classNames.vhidden,children:e["aria-label"]}),(0,a.jsx)("select",{name:e.name,"aria-label":e["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:r,onChange:n,children:i}),(0,a.jsxs)("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[o,(0,a.jsx)(u,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function rb(e){var t,s=rx(),n=s.fromDate,r=s.toDate,i=s.styles,o=s.locale,l=s.formatters.formatMonthCaption,c=s.classNames,d=s.components,u=s.labels.labelMonthDropdown;if(!n||!r)return(0,a.jsx)(a.Fragment,{});var h=[];if((0,nk.isSameYear)(n,r))for(var m=(0,nv.startOfMonth)(n),p=n.getMonth();p<=r.getMonth();p++)h.push(nS(m,p));else for(var m=(0,nv.startOfMonth)(new Date),p=0;p<=11;p++)h.push(nS(m,p));var f=null!=(t=null==d?void 0:d.Dropdown)?t:ry;return(0,a.jsx)(f,{name:"months","aria-label":u(),className:c.dropdown_month,style:i.dropdown_month,onChange:function(t){var s=Number(t.target.value),a=nS((0,nv.startOfMonth)(e.displayMonth),s);e.onChange(a)},value:e.displayMonth.getMonth(),caption:l(e.displayMonth,{locale:o}),children:h.map(function(e){return(0,a.jsx)("option",{value:e.getMonth(),children:l(e,{locale:o})},e.getMonth())})})}function rk(e){var t,s=e.displayMonth,n=rx(),r=n.fromDate,i=n.toDate,o=n.locale,l=n.styles,c=n.classNames,d=n.components,u=n.formatters.formatYearCaption,h=n.labels.labelYearDropdown,m=[];if(!r||!i)return(0,a.jsx)(a.Fragment,{});for(var p=r.getFullYear(),f=i.getFullYear(),g=p;g<=f;g++)m.push(nT((0,nN.startOfYear)(new Date),g));var x=null!=(t=null==d?void 0:d.Dropdown)?t:ry;return(0,a.jsx)(x,{name:"years","aria-label":h(),className:c.dropdown_year,style:l.dropdown_year,onChange:function(t){var a=nT((0,nv.startOfMonth)(s),Number(t.target.value));e.onChange(a)},value:s.getFullYear(),caption:u(s,{locale:o}),children:m.map(function(e){return(0,a.jsx)("option",{value:e.getFullYear(),children:u(e,{locale:o})},e.getFullYear())})})}var rj=(0,m.createContext)(void 0);function rw(e){var t,s,n,r,i,o,l,c,d,u,h,p,f,g,x,_,v=rx(),y=(x=(n=(s=t=rx()).month,r=s.defaultMonth,i=s.today,o=n||r||i||new Date,l=s.toDate,c=s.fromDate,d=s.numberOfMonths,l&&0>(0,nC.differenceInCalendarMonths)(l,o)&&(o=(0,nI.addMonths)(l,-1*((void 0===d?1:d)-1))),c&&0>(0,nC.differenceInCalendarMonths)(o,c)&&(o=c),u=(0,nv.startOfMonth)(o),h=t.month,f=(p=(0,m.useState)(u))[0],g=[void 0===h?f:h,p[1]])[0],_=g[1],[x,function(e){if(!t.disableNavigation){var s,a=(0,nv.startOfMonth)(e);_(a),null==(s=t.onMonthChange)||s.call(t,a)}}]),b=y[0],k=y[1],j=function(e,t){for(var s=t.reverseMonths,a=t.numberOfMonths,n=(0,nv.startOfMonth)(e),r=(0,nv.startOfMonth)((0,nI.addMonths)(n,a)),i=(0,nC.differenceInCalendarMonths)(r,n),o=[],l=0;l<i;l++){var c=(0,nI.addMonths)(n,l);o.push(c)}return s&&(o=o.reverse()),o}(b,v),w=function(e,t){if(!t.disableNavigation){var s=t.toDate,a=t.pagedNavigation,n=t.numberOfMonths,r=void 0===n?1:n,i=(0,nv.startOfMonth)(e);if(!s||!((0,nC.differenceInCalendarMonths)(s,e)<r))return(0,nI.addMonths)(i,a?r:1)}}(b,v),S=function(e,t){if(!t.disableNavigation){var s=t.fromDate,a=t.pagedNavigation,n=t.numberOfMonths,r=(0,nv.startOfMonth)(e);if(!s||!(0>=(0,nC.differenceInCalendarMonths)(r,s)))return(0,nI.addMonths)(r,-(a?void 0===n?1:n:1))}}(b,v),T=function(e){return j.some(function(t){return nE(e,t)})};return(0,a.jsx)(rj.Provider,{value:{currentMonth:b,displayMonths:j,goToMonth:k,goToDate:function(e,t){T(e)||(t&&nM(e,t)?k((0,nI.addMonths)(e,1+-1*v.numberOfMonths)):k(e))},previousMonth:S,nextMonth:w,isDateDisplayed:T},children:e.children})}function rS(){var e=(0,m.useContext)(rj);if(!e)throw Error("useNavigation must be used within a NavigationProvider");return e}function rT(e){var t,s=rx(),n=s.classNames,r=s.styles,i=s.components,o=rS().goToMonth,l=function(t){o((0,nI.addMonths)(t,e.displayIndex?-e.displayIndex:0))},c=null!=(t=null==i?void 0:i.CaptionLabel)?t:r_,d=(0,a.jsx)(c,{id:e.id,displayMonth:e.displayMonth});return(0,a.jsxs)("div",{className:n.caption_dropdowns,style:r.caption_dropdowns,children:[(0,a.jsx)("div",{className:n.vhidden,children:d}),(0,a.jsx)(rb,{onChange:l,displayMonth:e.displayMonth}),(0,a.jsx)(rk,{onChange:l,displayMonth:e.displayMonth})]})}function rN(e){return(0,a.jsx)("svg",ro({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:(0,a.jsx)("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function rC(e){return(0,a.jsx)("svg",ro({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:(0,a.jsx)("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var rI=(0,m.forwardRef)(function(e,t){var s=rx(),n=s.classNames,r=s.styles,i=[n.button_reset,n.button];e.className&&i.push(e.className);var o=i.join(" "),l=ro(ro({},r.button_reset),r.button);return e.style&&Object.assign(l,e.style),(0,a.jsx)("button",ro({},e,{ref:t,type:"button",className:o,style:l}))});function rD(e){var t,s,n=rx(),r=n.dir,i=n.locale,o=n.classNames,l=n.styles,c=n.labels,d=c.labelPrevious,u=c.labelNext,h=n.components;if(!e.nextMonth&&!e.previousMonth)return(0,a.jsx)(a.Fragment,{});var m=d(e.previousMonth,{locale:i}),p=[o.nav_button,o.nav_button_previous].join(" "),f=u(e.nextMonth,{locale:i}),g=[o.nav_button,o.nav_button_next].join(" "),x=null!=(t=null==h?void 0:h.IconRight)?t:rC,_=null!=(s=null==h?void 0:h.IconLeft)?s:rN;return(0,a.jsxs)("div",{className:o.nav,style:l.nav,children:[!e.hidePrevious&&(0,a.jsx)(rI,{name:"previous-month","aria-label":m,className:p,style:l.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:"rtl"===r?(0,a.jsx)(x,{className:o.nav_icon,style:l.nav_icon}):(0,a.jsx)(_,{className:o.nav_icon,style:l.nav_icon})}),!e.hideNext&&(0,a.jsx)(rI,{name:"next-month","aria-label":f,className:g,style:l.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:"rtl"===r?(0,a.jsx)(_,{className:o.nav_icon,style:l.nav_icon}):(0,a.jsx)(x,{className:o.nav_icon,style:l.nav_icon})})]})}function rE(e){var t=rx().numberOfMonths,s=rS(),n=s.previousMonth,r=s.nextMonth,i=s.goToMonth,o=s.displayMonths,l=o.findIndex(function(t){return nE(e.displayMonth,t)}),c=0===l,d=l===o.length-1;return(0,a.jsx)(rD,{displayMonth:e.displayMonth,hideNext:t>1&&(c||!d),hidePrevious:t>1&&(d||!c),nextMonth:r,previousMonth:n,onPreviousClick:function(){n&&i(n)},onNextClick:function(){r&&i(r)}})}function rM(e){var t,s,n=rx(),r=n.classNames,i=n.disableNavigation,o=n.styles,l=n.captionLayout,c=n.components,d=null!=(t=null==c?void 0:c.CaptionLabel)?t:r_;return s=i?(0,a.jsx)(d,{id:e.id,displayMonth:e.displayMonth}):"dropdown"===l?(0,a.jsx)(rT,{displayMonth:e.displayMonth,id:e.id}):"dropdown-buttons"===l?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(rT,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),(0,a.jsx)(rE,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),(0,a.jsx)(rE,{displayMonth:e.displayMonth,id:e.id})]}),(0,a.jsx)("div",{className:r.caption,style:o.caption,children:s})}function rO(e){var t=rx(),s=t.footer,n=t.styles,r=t.classNames.tfoot;return s?(0,a.jsx)("tfoot",{className:r,style:n.tfoot,children:(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:8,children:s})})}):(0,a.jsx)(a.Fragment,{})}function rP(){var e=rx(),t=e.classNames,s=e.styles,n=e.showWeekNumber,r=e.locale,i=e.weekStartsOn,o=e.ISOWeek,l=e.formatters.formatWeekdayName,c=e.labels.labelWeekday,d=function(e,t,s){for(var a=s?(0,nO.startOfISOWeek)(new Date):(0,nP.startOfWeek)(new Date,{locale:e,weekStartsOn:t}),n=[],r=0;r<7;r++){var i=(0,nL.addDays)(a,r);n.push(i)}return n}(r,i,o);return(0,a.jsxs)("tr",{style:s.head_row,className:t.head_row,children:[n&&(0,a.jsx)("td",{style:s.head_cell,className:t.head_cell}),d.map(function(e,n){return(0,a.jsx)("th",{scope:"col",className:t.head_cell,style:s.head_cell,"aria-label":c(e,{locale:r}),children:l(e,{locale:r})},n)})]})}function rL(){var e,t=rx(),s=t.classNames,n=t.styles,r=t.components,i=null!=(e=null==r?void 0:r.HeadRow)?e:rP;return(0,a.jsx)("thead",{style:n.head,className:s.head,children:(0,a.jsx)(i,{})})}function rA(e){var t=rx(),s=t.locale,n=t.formatters.formatDay;return(0,a.jsx)(a.Fragment,{children:n(e.date,{locale:s})})}var rR=(0,m.createContext)(void 0);function rK(e){return rc(e.initialProps)?(0,a.jsx)(rF,{initialProps:e.initialProps,children:e.children}):(0,a.jsx)(rR.Provider,{value:{selected:void 0,modifiers:{disabled:[]}},children:e.children})}function rF(e){var t=e.initialProps,s=e.children,n=t.selected,r=t.min,i=t.max,o={disabled:[]};return n&&o.disabled.push(function(e){var t=i&&n.length>i-1,s=n.some(function(t){return(0,nA.isSameDay)(t,e)});return!!(t&&!s)}),(0,a.jsx)(rR.Provider,{value:{selected:n,onDayClick:function(e,s,a){var o,l;if((null==(o=t.onDayClick)||o.call(t,e,s,a),!s.selected||!r||(null==n?void 0:n.length)!==r)&&!(!s.selected&&i&&(null==n?void 0:n.length)===i)){var c=n?rl([],n,!0):[];if(s.selected){var d=c.findIndex(function(t){return(0,nA.isSameDay)(e,t)});c.splice(d,1)}else c.push(e);null==(l=t.onSelect)||l.call(t,c,e,s,a)}},modifiers:o},children:s})}function rz(){var e=(0,m.useContext)(rR);if(!e)throw Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}var rB=(0,m.createContext)(void 0);function rG(e){return rd(e.initialProps)?(0,a.jsx)(rU,{initialProps:e.initialProps,children:e.children}):(0,a.jsx)(rB.Provider,{value:{selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}},children:e.children})}function rU(e){var t=e.initialProps,s=e.children,n=t.selected,r=n||{},i=r.from,o=r.to,l=t.min,c=t.max,d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(d.range_start=[i],o?(d.range_end=[o],(0,nA.isSameDay)(i,o)||(d.range_middle=[{after:i,before:o}])):d.range_end=[i]):o&&(d.range_start=[o],d.range_end=[o]),l&&(i&&!o&&d.disabled.push({after:(0,nK.subDays)(i,l-1),before:(0,nL.addDays)(i,l-1)}),i&&o&&d.disabled.push({after:i,before:(0,nL.addDays)(i,l-1)}),!i&&o&&d.disabled.push({after:(0,nK.subDays)(o,l-1),before:(0,nL.addDays)(o,l-1)})),c){if(i&&!o&&(d.disabled.push({before:(0,nL.addDays)(i,-c+1)}),d.disabled.push({after:(0,nL.addDays)(i,c-1)})),i&&o){var u=c-((0,nF.differenceInCalendarDays)(o,i)+1);d.disabled.push({before:(0,nK.subDays)(i,u)}),d.disabled.push({after:(0,nL.addDays)(o,u)})}!i&&o&&(d.disabled.push({before:(0,nL.addDays)(o,-c+1)}),d.disabled.push({after:(0,nL.addDays)(o,c-1)}))}return(0,a.jsx)(rB.Provider,{value:{selected:n,onDayClick:function(e,s,a){null==(c=t.onDayClick)||c.call(t,e,s,a);var r,i,o,l,c,d,u=(r=e,o=(i=n||{}).from,l=i.to,o&&l?(0,nA.isSameDay)(l,r)&&(0,nA.isSameDay)(o,r)?void 0:(0,nA.isSameDay)(l,r)?{from:l,to:void 0}:(0,nA.isSameDay)(o,r)?void 0:nR(o,r)?{from:r,to:l}:{from:o,to:r}:l?nR(r,l)?{from:l,to:r}:{from:r,to:l}:o?nM(r,o)?{from:r,to:o}:{from:o,to:r}:{from:r,to:void 0});null==(d=t.onSelect)||d.call(t,u,e,s,a)},modifiers:d},children:s})}function rW(){var e=(0,m.useContext)(rB);if(!e)throw Error("useSelectRange must be used within a SelectRangeProvider");return e}function rq(e){return Array.isArray(e)?rl([],e,!0):void 0!==e?[e]:[]}!function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"}(s||(s={}));var rV=s.Selected,rH=s.Disabled,rY=s.Hidden,rX=s.Today,rQ=s.RangeEnd,rJ=s.RangeMiddle,rZ=s.RangeStart,r$=s.Outside,r0=(0,m.createContext)(void 0);function r1(e){var t,s,n,r,i=rx(),o=rz(),l=rW(),c=((t={})[rV]=rq(i.selected),t[rH]=rq(i.disabled),t[rY]=rq(i.hidden),t[rX]=[i.today],t[rQ]=[],t[rJ]=[],t[rZ]=[],t[r$]=[],s=t,i.fromDate&&s[rH].push({before:i.fromDate}),i.toDate&&s[rH].push({after:i.toDate}),rc(i)?s[rH]=s[rH].concat(o.modifiers[rH]):rd(i)&&(s[rH]=s[rH].concat(l.modifiers[rH]),s[rZ]=l.modifiers[rZ],s[rJ]=l.modifiers[rJ],s[rQ]=l.modifiers[rQ]),s),d=(n=i.modifiers,r={},Object.entries(n).forEach(function(e){var t=e[0],s=e[1];r[t]=rq(s)}),r),u=ro(ro({},c),d);return(0,a.jsx)(r0.Provider,{value:u,children:e.children})}function r2(){var e=(0,m.useContext)(r0);if(!e)throw Error("useModifiers must be used within a ModifiersProvider");return e}function r8(e,t,s){var a=Object.keys(t).reduce(function(s,a){return t[a].some(function(t){if("boolean"==typeof t)return t;if((0,nz.isDate)(t))return(0,nA.isSameDay)(e,t);if(Array.isArray(t)&&t.every(nz.isDate))return t.includes(e);if(t&&"object"==typeof t&&"from"in t)return a=t.from,n=t.to,a&&n?(0>(0,nF.differenceInCalendarDays)(n,a)&&(a=(s=[n,a])[0],n=s[1]),(0,nF.differenceInCalendarDays)(e,a)>=0&&(0,nF.differenceInCalendarDays)(n,e)>=0):n?(0,nA.isSameDay)(n,e):!!a&&(0,nA.isSameDay)(a,e);if(t&&"object"==typeof t&&"dayOfWeek"in t)return t.dayOfWeek.includes(e.getDay());if(t&&"object"==typeof t&&"before"in t&&"after"in t){var s,a,n,r=(0,nF.differenceInCalendarDays)(t.before,e),i=(0,nF.differenceInCalendarDays)(t.after,e),o=r>0,l=i<0;return nR(t.before,t.after)?l&&o:o||l}return t&&"object"==typeof t&&"after"in t?(0,nF.differenceInCalendarDays)(e,t.after)>0:t&&"object"==typeof t&&"before"in t?(0,nF.differenceInCalendarDays)(t.before,e)>0:"function"==typeof t&&t(e)})&&s.push(a),s},[]),n={};return a.forEach(function(e){return n[e]=!0}),s&&!nE(e,s)&&(n.outside=!0),n}var r4=(0,m.createContext)(void 0);function r3(e){var t=rS(),s=r2(),n=(0,m.useState)(),r=n[0],i=n[1],o=(0,m.useState)(),l=o[0],c=o[1],d=function(e,t){for(var s,a,n=(0,nv.startOfMonth)(e[0]),r=(0,ny.endOfMonth)(e[e.length-1]),i=n;i<=r;){var o=r8(i,t);if(!(!o.disabled&&!o.hidden)){i=(0,nL.addDays)(i,1);continue}if(o.selected)return i;o.today&&!a&&(a=i),s||(s=i),i=(0,nL.addDays)(i,1)}return a||s}(t.displayMonths,s),u=(null!=r?r:l&&t.isDateDisplayed(l))?l:d,h=function(e){i(e)},p=rx(),f=function(e,a){if(r){var n=function e(t,s){var a=s.moveBy,n=s.direction,r=s.context,i=s.modifiers,o=s.retry,l=void 0===o?{count:0,lastFocused:t}:o,c=r.weekStartsOn,d=r.fromDate,u=r.toDate,h=r.locale,m=({day:nL.addDays,week:nB,month:nI.addMonths,year:nG,startOfWeek:function(e){return r.ISOWeek?(0,nO.startOfISOWeek)(e):(0,nP.startOfWeek)(e,{locale:h,weekStartsOn:c})},endOfWeek:function(e){return r.ISOWeek?nq(e):nW(e,{locale:h,weekStartsOn:c})}})[a](t,"after"===n?1:-1);if("before"===n&&d){let e,t;t=void 0,[d,m].forEach(s=>{t||"object"!=typeof s||(t=nj.constructFrom.bind(null,s));let a=(0,nw.toDate)(s,t);(!e||e<a||isNaN(+a))&&(e=a)}),m=(0,nj.constructFrom)(t,e||NaN)}else{let e,t;"after"===n&&u&&(t=void 0,[u,m].forEach(s=>{t||"object"!=typeof s||(t=nj.constructFrom.bind(null,s));let a=(0,nw.toDate)(s,t);(!e||e>a||isNaN(+a))&&(e=a)}),m=(0,nj.constructFrom)(t,e||NaN))}var p=!0;if(i){var f=r8(m,i);p=!f.disabled&&!f.hidden}return p?m:l.count>365?l.lastFocused:e(m,{moveBy:a,direction:n,context:r,modifiers:i,retry:ro(ro({},l),{count:l.count+1})})}(r,{moveBy:e,direction:a,context:p,modifiers:s});(0,nA.isSameDay)(r,n)||(t.goToDate(n,r),h(n))}};return(0,a.jsx)(r4.Provider,{value:{focusedDay:r,focusTarget:u,blur:function(){c(r),i(void 0)},focus:h,focusDayAfter:function(){return f("day","after")},focusDayBefore:function(){return f("day","before")},focusWeekAfter:function(){return f("week","after")},focusWeekBefore:function(){return f("week","before")},focusMonthBefore:function(){return f("month","before")},focusMonthAfter:function(){return f("month","after")},focusYearBefore:function(){return f("year","before")},focusYearAfter:function(){return f("year","after")},focusStartOfWeek:function(){return f("startOfWeek","before")},focusEndOfWeek:function(){return f("endOfWeek","after")}},children:e.children})}function r5(){var e=(0,m.useContext)(r4);if(!e)throw Error("useFocusContext must be used within a FocusProvider");return e}var r6=(0,m.createContext)(void 0);function r7(e){return ru(e.initialProps)?(0,a.jsx)(r9,{initialProps:e.initialProps,children:e.children}):(0,a.jsx)(r6.Provider,{value:{selected:void 0},children:e.children})}function r9(e){var t=e.initialProps,s=e.children,n={selected:t.selected,onDayClick:function(e,s,a){var n,r,i;if(null==(n=t.onDayClick)||n.call(t,e,s,a),s.selected&&!t.required){null==(r=t.onSelect)||r.call(t,void 0,e,s,a);return}null==(i=t.onSelect)||i.call(t,e,e,s,a)}};return(0,a.jsx)(r6.Provider,{value:n,children:s})}function ie(){var e=(0,m.useContext)(r6);if(!e)throw Error("useSelectSingle must be used within a SelectSingleProvider");return e}function it(e){var t,n,r,i,o,l,c,d,u,h,p,f,g,x,_,v,y,b,k,j,w,S,T,N,C,I,D,E,M,O,P,L,A,R,K,F,z,B,G,U,W,q,V=(0,m.useRef)(null),H=(t=e.date,n=e.displayMonth,l=rx(),c=r5(),d=r8(t,r2(),n),u=rx(),h=ie(),p=rz(),f=rW(),x=(g=r5()).focusDayAfter,_=g.focusDayBefore,v=g.focusWeekAfter,y=g.focusWeekBefore,b=g.blur,k=g.focus,j=g.focusMonthBefore,w=g.focusMonthAfter,S=g.focusYearBefore,T=g.focusYearAfter,N=g.focusStartOfWeek,C=g.focusEndOfWeek,I={onClick:function(e){var s,a,n,r;ru(u)?null==(s=h.onDayClick)||s.call(h,t,d,e):rc(u)?null==(a=p.onDayClick)||a.call(p,t,d,e):rd(u)?null==(n=f.onDayClick)||n.call(f,t,d,e):null==(r=u.onDayClick)||r.call(u,t,d,e)},onFocus:function(e){var s;k(t),null==(s=u.onDayFocus)||s.call(u,t,d,e)},onBlur:function(e){var s;b(),null==(s=u.onDayBlur)||s.call(u,t,d,e)},onKeyDown:function(e){var s;switch(e.key){case"ArrowLeft":e.preventDefault(),e.stopPropagation(),"rtl"===u.dir?x():_();break;case"ArrowRight":e.preventDefault(),e.stopPropagation(),"rtl"===u.dir?_():x();break;case"ArrowDown":e.preventDefault(),e.stopPropagation(),v();break;case"ArrowUp":e.preventDefault(),e.stopPropagation(),y();break;case"PageUp":e.preventDefault(),e.stopPropagation(),e.shiftKey?S():j();break;case"PageDown":e.preventDefault(),e.stopPropagation(),e.shiftKey?T():w();break;case"Home":e.preventDefault(),e.stopPropagation(),N();break;case"End":e.preventDefault(),e.stopPropagation(),C()}null==(s=u.onDayKeyDown)||s.call(u,t,d,e)},onKeyUp:function(e){var s;null==(s=u.onDayKeyUp)||s.call(u,t,d,e)},onMouseEnter:function(e){var s;null==(s=u.onDayMouseEnter)||s.call(u,t,d,e)},onMouseLeave:function(e){var s;null==(s=u.onDayMouseLeave)||s.call(u,t,d,e)},onPointerEnter:function(e){var s;null==(s=u.onDayPointerEnter)||s.call(u,t,d,e)},onPointerLeave:function(e){var s;null==(s=u.onDayPointerLeave)||s.call(u,t,d,e)},onTouchCancel:function(e){var s;null==(s=u.onDayTouchCancel)||s.call(u,t,d,e)},onTouchEnd:function(e){var s;null==(s=u.onDayTouchEnd)||s.call(u,t,d,e)},onTouchMove:function(e){var s;null==(s=u.onDayTouchMove)||s.call(u,t,d,e)},onTouchStart:function(e){var s;null==(s=u.onDayTouchStart)||s.call(u,t,d,e)}},D=rx(),E=ie(),M=rz(),O=rW(),P=ru(D)?E.selected:rc(D)?M.selected:rd(D)?O.selected:void 0,L=!!(l.onDayClick||"default"!==l.mode),(0,m.useEffect)(function(){var e;!d.outside&&c.focusedDay&&L&&(0,nA.isSameDay)(c.focusedDay,t)&&(null==(e=V.current)||e.focus())},[c.focusedDay,t,V,L,d.outside]),R=(A=[l.classNames.day],Object.keys(d).forEach(function(e){var t=l.modifiersClassNames[e];if(t)A.push(t);else if(Object.values(s).includes(e)){var a=l.classNames["day_".concat(e)];a&&A.push(a)}}),A).join(" "),K=ro({},l.styles.day),Object.keys(d).forEach(function(e){var t;K=ro(ro({},K),null==(t=l.modifiersStyles)?void 0:t[e])}),F=K,z=!!(d.outside&&!l.showOutsideDays||d.hidden),B=null!=(o=null==(i=l.components)?void 0:i.DayContent)?o:rA,G={style:F,className:R,children:(0,a.jsx)(B,{date:t,displayMonth:n,activeModifiers:d}),role:"gridcell"},U=c.focusTarget&&(0,nA.isSameDay)(c.focusTarget,t)&&!d.outside,W=c.focusedDay&&(0,nA.isSameDay)(c.focusedDay,t),q=ro(ro(ro({},G),((r={disabled:d.disabled,role:"gridcell"})["aria-selected"]=d.selected,r.tabIndex=W||U?0:-1,r)),I),{isButton:L,isHidden:z,activeModifiers:d,selectedDays:P,buttonProps:q,divProps:G});return H.isHidden?(0,a.jsx)("div",{role:"gridcell"}):H.isButton?(0,a.jsx)(rI,ro({name:"day",ref:V},H.buttonProps)):(0,a.jsx)("div",ro({},H.divProps))}function is(e){var t=e.number,s=e.dates,n=rx(),r=n.onWeekNumberClick,i=n.styles,o=n.classNames,l=n.locale,c=n.labels.labelWeekNumber,d=(0,n.formatters.formatWeekNumber)(Number(t),{locale:l});if(!r)return(0,a.jsx)("span",{className:o.weeknumber,style:i.weeknumber,children:d});var u=c(Number(t),{locale:l});return(0,a.jsx)(rI,{name:"week-number","aria-label":u,className:o.weeknumber,style:i.weeknumber,onClick:function(e){r(t,s,e)},children:d})}function ia(e){var t,s,n,r=rx(),i=r.styles,o=r.classNames,l=r.showWeekNumber,c=r.components,d=null!=(t=null==c?void 0:c.Day)?t:it,u=null!=(s=null==c?void 0:c.WeekNumber)?s:is;return l&&(n=(0,a.jsx)("td",{className:o.cell,style:i.cell,children:(0,a.jsx)(u,{number:e.weekNumber,dates:e.dates})})),(0,a.jsxs)("tr",{className:o.row,style:i.row,children:[n,e.dates.map(function(t){return(0,a.jsx)("td",{className:o.cell,style:i.cell,role:"presentation",children:(0,a.jsx)(d,{displayMonth:e.displayMonth,date:t})},Math.trunc((0,nw.toDate)(t)/1e3))})]})}function ir(e,t,s){for(var a=(null==s?void 0:s.ISOWeek)?nq(t):nW(t,s),n=(null==s?void 0:s.ISOWeek)?(0,nO.startOfISOWeek)(e):(0,nP.startOfWeek)(e,s),r=(0,nF.differenceInCalendarDays)(a,n),i=[],o=0;o<=r;o++)i.push((0,nL.addDays)(n,o));return i.reduce(function(e,t){var a=(null==s?void 0:s.ISOWeek)?(0,nV.getISOWeek)(t):(0,nH.getWeek)(t,s),n=e.find(function(e){return e.weekNumber===a});return n?n.dates.push(t):e.push({weekNumber:a,dates:[t]}),e},[])}function ii(e){var t,s,n,r=rx(),i=r.locale,o=r.classNames,l=r.styles,c=r.hideHead,d=r.fixedWeeks,u=r.components,h=r.weekStartsOn,m=r.firstWeekContainsDate,p=r.ISOWeek,f=function(e,t){var s=ir((0,nv.startOfMonth)(e),(0,ny.endOfMonth)(e),t);if(null==t?void 0:t.useFixedWeeks){var a=function(e,t){let s=(0,nw.toDate)(e,null==t?void 0:t.in);return(0,nY.differenceInCalendarWeeks)(function(e,t){let s=(0,nw.toDate)(e,null==t?void 0:t.in),a=s.getMonth();return s.setFullYear(s.getFullYear(),a+1,0),s.setHours(0,0,0,0),(0,nw.toDate)(s,null==t?void 0:t.in)}(s,t),(0,nv.startOfMonth)(s,t),t)+1}(e,t);if(a<6){var n=s[s.length-1],r=n.dates[n.dates.length-1],i=nB(r,6-a),o=ir(nB(r,1),i,t);s.push.apply(s,o)}}return s}(e.displayMonth,{useFixedWeeks:!!d,ISOWeek:p,locale:i,weekStartsOn:h,firstWeekContainsDate:m}),g=null!=(t=null==u?void 0:u.Head)?t:rL,x=null!=(s=null==u?void 0:u.Row)?s:ia,_=null!=(n=null==u?void 0:u.Footer)?n:rO;return(0,a.jsxs)("table",{id:e.id,className:o.table,style:l.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!c&&(0,a.jsx)(g,{}),(0,a.jsx)("tbody",{className:o.tbody,style:l.tbody,children:f.map(function(t){return(0,a.jsx)(x,{displayMonth:e.displayMonth,dates:t.dates,weekNumber:t.weekNumber},t.weekNumber)})}),(0,a.jsx)(_,{displayMonth:e.displayMonth})]})}var io="undefined"!=typeof window&&window.document&&window.document.createElement?m.useLayoutEffect:m.useEffect,il=!1,ic=0;function id(){return"react-day-picker-".concat(++ic)}function iu(e){var t,s,n,r,i,o,l,c,d=rx(),u=d.dir,h=d.classNames,p=d.styles,f=d.components,g=rS().displayMonths,x=(n=null!=(t=d.id?"".concat(d.id,"-").concat(e.displayIndex):void 0)?t:il?id():null,i=(r=(0,m.useState)(n))[0],o=r[1],io(function(){null===i&&o(id())},[]),(0,m.useEffect)(function(){!1===il&&(il=!0)},[]),null!=(s=null!=t?t:i)?s:void 0),_=d.id?"".concat(d.id,"-grid-").concat(e.displayIndex):void 0,v=[h.month],y=p.month,b=0===e.displayIndex,k=e.displayIndex===g.length-1,j=!b&&!k;"rtl"===u&&(k=(l=[b,k])[0],b=l[1]),b&&(v.push(h.caption_start),y=ro(ro({},y),p.caption_start)),k&&(v.push(h.caption_end),y=ro(ro({},y),p.caption_end)),j&&(v.push(h.caption_between),y=ro(ro({},y),p.caption_between));var w=null!=(c=null==f?void 0:f.Caption)?c:rM;return(0,a.jsxs)("div",{className:v.join(" "),style:y,children:[(0,a.jsx)(w,{id:x,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),(0,a.jsx)(ii,{id:_,"aria-labelledby":x,displayMonth:e.displayMonth})]},e.displayIndex)}function ih(e){var t=rx(),s=t.classNames,n=t.styles;return(0,a.jsx)("div",{className:s.months,style:n.months,children:e.children})}function im(e){var t,s,n=e.initialProps,r=rx(),i=r5(),o=rS(),l=(0,m.useState)(!1),c=l[0],d=l[1];(0,m.useEffect)(function(){r.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),d(!0)))},[r.initialFocus,c,i.focus,i.focusTarget,i]);var u=[r.classNames.root,r.className];r.numberOfMonths>1&&u.push(r.classNames.multiple_months),r.showWeekNumber&&u.push(r.classNames.with_weeknumber);var h=ro(ro({},r.styles.root),r.style),p=Object.keys(n).filter(function(e){return e.startsWith("data-")}).reduce(function(e,t){var s;return ro(ro({},e),((s={})[t]=n[t],s))},{}),f=null!=(s=null==(t=n.components)?void 0:t.Months)?s:ih;return(0,a.jsx)("div",ro({className:u.join(" "),style:h,dir:r.dir,id:r.id,nonce:n.nonce,title:n.title,lang:n.lang},p,{children:(0,a.jsx)(f,{children:o.displayMonths.map(function(e,t){return(0,a.jsx)(iu,{displayIndex:t,displayMonth:e},t)})})}))}function ip(e){var t=e.children,s=function(e,t){var s={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(s[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)0>t.indexOf(a[n])&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(s[a[n]]=e[a[n]]);return s}(e,["children"]);return(0,a.jsx)(rg,{initialProps:s,children:(0,a.jsx)(rw,{children:(0,a.jsx)(r7,{initialProps:s,children:(0,a.jsx)(rK,{initialProps:s,children:(0,a.jsx)(rG,{initialProps:s,children:(0,a.jsx)(r1,{children:(0,a.jsx)(r3,{children:t})})})})})})})}function ig(e){return(0,a.jsx)(ip,ro({},e,{children:(0,a.jsx)(im,{initialProps:e})}))}var ix=e.i(150846);let i_=(0,e.i(89440).cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}});m.forwardRef((e,t)=>{let{className:s,variant:n,size:r,asChild:i=!1,...l}=e,c=i?ix.Slot:"button";return(0,a.jsx)(c,{className:(0,o.cn)(i_({variant:n,size:r,className:s})),ref:t,...l})}).displayName="Button";var iv=e.i(206208);function iy(e){let{className:t,classNames:s,showOutsideDays:n=!0,...r}=e;return(0,a.jsx)(ig,{showOutsideDays:n,className:(0,o.cn)("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,o.cn)(i_({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:(0,o.cn)("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected].day-range-end)]:rounded-r-md","range"===r.mode?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:(0,o.cn)(i_({variant:"ghost"}),"h-8 w-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start",day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...s},components:{IconLeft:e=>{let{className:t}=e;return(0,a.jsx)(iv.ChevronLeftIcon,{className:(0,o.cn)("h-4 w-4",t)})},IconRight:e=>{let{className:t}=e;return(0,a.jsx)(iv.ChevronRightIcon,{className:(0,o.cn)("h-4 w-4",t)})}},...r})}iy.displayName="Calendar";var ib=e.i(257239);e.i(272028);var ik=e.i(554771),ij=e.i(748570),iw=e.i(735806);e.i(907324);var iS=e.i(76950),iT=e.i(910901);let iN=e=>{let{radius:t=128,currentHour:s=12,currentMinute:n=0,onSelect:i=()=>{},onChange:l=()=>{}}=e,c=m.default.useRef(s),d=m.default.useRef(n),u=c.current>=12?"PM":"AM",h=c.current%12||12,{t:p}=(0,E.useTranslation)(),[f,g]=m.default.useState(h),[x,_]=m.default.useState(n),[v,y]=m.default.useState(u),[b,k]=m.default.useState("hour"),[j,w]=m.default.useState(!1),S=m.default.useRef(null),T=m.default.useRef({x:0,y:0}),N=m.default.useRef(0),[,C]=m.default.useState("");m.default.useEffect(()=>{C("")},[b]);let I=2*t,D=.8*t,M=.938*t,O=.8*t,P=m.default.useCallback(()=>{if(i){let e=f;"AM"===v&&12===f?e=0:"PM"===v&&f<12&&(e+=12),i(e,x)}},[f,x,v,i]);m.default.useEffect(()=>{if(l){let e=f;"AM"===v&&12===f?e=0:"PM"===v&&f<12&&(e+=12),l(e,x)}},[f,x,v,l]);let L=m.default.useCallback(()=>{g(h),_(d.current),y(u),k("hour")},[g,_,y,k,h,u]);m.default.useEffect(()=>{let e=e=>{if(e.key>="0"&&e.key<="9"&&C(t=>{let s=t+e.key;if("hour"===b){if(1===s.length)return parseInt(s)>=2?(g(parseInt(s)),k("minute"),""):(g(parseInt(s)),s);if(2===s.length){let e=s[0],t=s[1];if(!e||!t)return s;let a=parseInt(e),n=parseInt(t),r=parseInt(s);if(0===a&&n>=1&&n<=9||1===a&&n>=0&&n<=2)return g(parseInt(r<10?"0".concat(r):s)),k("minute"),"";k("minute")}}else if("minute"===b){if(1===s.length)return parseInt(s)>=6?(_(parseInt(s)),k("ampm"),""):(_(parseInt(s)),s);if(2===s.length){let e=parseInt(s);if(e>=0&&e<=59)return _(parseInt(s)),k("ampm"),""}}return t}),"ArrowRight"===e.key||"Tab"===e.key)switch(b){case"hour":k("minute");break;case"minute":k("ampm")}else if("ArrowLeft"===e.key)switch(b){case"ampm":k("minute");break;case"minute":k("hour")}else"ArrowUp"===e.key&&"hour"===b?(C(""),g(e=>{let t=(e+1)%12||12;return t<0?12:t})):"ArrowDown"===e.key&&"hour"===b?(C(""),g(e=>{let t=(e-1)%12||12;return t<0?12:t})):"ArrowDown"===e.key&&"minute"===b?(C(""),_(e=>{let t=(e-1)%60;return t<0?59:t})):"ArrowUp"===e.key&&"minute"===b?(C(""),_(e=>(e+1)%60)):"ArrowDown"===e.key&&"ampm"===b?y(e=>"AM"===e?"PM":"AM"):"ArrowUp"===e.key&&"ampm"===b?y(e=>"AM"===e?"PM":"AM"):"Enter"===e.key?"hour"===b?k("minute"):"minute"===b?k("ampm"):"ampm"===b&&P():"Backspace"===e.key&&L()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[b,P,L]);let A=m.default.useCallback(()=>{if(S.current){let e=S.current.getBoundingClientRect();T.current={x:e.left+e.width/2,y:e.top+e.height/2}}},[]);m.default.useEffect(()=>(A(),window.addEventListener("resize",A),()=>window.removeEventListener("resize",A)),[A]);let R=m.default.useCallback((e,t)=>{let s=e-T.current.x,a=Math.atan2(t-T.current.y,s)+Math.PI/2;return a<0&&(a+=2*Math.PI),a},[]),K=m.default.useCallback(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t||w(!0);let s=Date.now();if(s-N.current<16)return;N.current=s;let a=R(e.clientX,e.clientY);if("hour"===b){let e=Math.round(a/(2*Math.PI)*12)%12;g(0===e?12:e)}else _(Math.round(a/(2*Math.PI)*60)%60)},[b,R,w]),F=m.default.useCallback(e=>{var t,s,a;w(!1),null==(t=S.current)||t.releasePointerCapture(e.pointerId),null==(s=S.current)||s.removeEventListener("pointermove",K),null==(a=S.current)||a.removeEventListener("pointerup",F),"hour"===b&&setTimeout(()=>{k("minute")},300)},[S,K,k,b,w]),z=m.default.useCallback(e=>{var t,s,a;e.preventDefault(),A(),g(e=>e),K(e,!0),null==(t=S.current)||t.setPointerCapture(e.pointerId),null==(s=S.current)||s.addEventListener("pointermove",K),null==(a=S.current)||a.addEventListener("pointerup",F)},[K,A,F]),B=m.default.useCallback(()=>{y("AM"===v?"PM":"AM"),k("ampm")},[v,y,k]),G="hour"===b?f%12*30:6*x,U=f.toString().padStart(2,"0"),W=x.toString().padStart(2,"0");return(0,a.jsx)("div",{className:"z-0 bg-surface-base rounded-lg shadow-md border border-surface-d pb-3 overflow-hidden",style:{width:"".concat(2.5*t,"px")},children:(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsxs)("div",{className:"opacity-90 w-full bg-button-secondary-selected border-b border-input-border overflow-hidden h-10 mb-4 shadow-lg",children:[(0,a.jsxs)("div",{className:"text-2xl font-bold text-primary flex w-full relative cursor-default",children:[(0,a.jsxs)("span",{className:"absolute left-1/2 -translate-x-1/2 w-full h-full text-center pt-1",children:[(0,a.jsx)("span",{className:"inline-block w-10 text-right tracking-tighter ".concat("hour"===b?"underline":""),onClick:()=>k("hour"),role:"button",tabIndex:0,"aria-label":p("radial-time-picker.select-hour","Select hour: {{hour}}",{hour:f}),children:"".concat(U)}),(0,a.jsx)("span",{className:"inline-block pl-1 pr-0.5 text-xl font-black relative bottom-0.5",children:":"}),(0,a.jsx)("span",{className:"inline-block w-10 text-left tracking-tighter ".concat("minute"===b?"underline":""),onClick:()=>k("minute"),role:"button",tabIndex:0,"aria-label":p("radial-time-picker.select-minute","Select minute: {{minute}}",{minute:x}),children:"".concat(W," ")})]}),(0,a.jsx)("span",{onClick:B,role:"button",tabIndex:0,"aria-label":p("radial-time-picker.toggle-ampm","Toggle to {{ampm}}",{ampm:"AM"===v?"PM":"AM"}),className:"w-14 ".concat("ampm"===b?"underline":""," text-2xl text-center tracking-tighter absolute right-0 cursor-pointer px-2 py-1 ").concat("AM"===v?"bg-teal-500 text-white":"bg-blue-500 text-white"," hover:brightness-110 transition"),children:v})]}),(0,a.jsx)("div",{className:"opacity-90 w-full",children:(0,a.jsx)("div",{"aria-live":"polite",className:"sr-only",children:p("radial-time-picker.time-set","Time set to {{hour}}:{{minute}} {{ampm}}",{hour:f,minute:x,ampm:v})})})]}),(0,a.jsxs)("div",{ref:S,className:"relative bg-surface-base rounded-full shadow-lg border border-input-border-focus cursor-grab active:cursor-grabbing",style:{width:"".concat(I,"px"),height:"".concat(I,"px")},onPointerDown:z,role:"slider","aria-label":"hour"===b?"Select hour":"Select minute","aria-valuemin":+("hour"===b),"aria-valuemax":"hour"===b?12:59,"aria-valuenow":"hour"===b?f:x,"aria-valuetext":"".concat("hour"===b?f:x," ").concat(b),tabIndex:0,children:["hour"===b&&(0,a.jsxs)(a.Fragment,{children:[Array.from({length:12},(e,s)=>{let n=(30*s-90)*Math.PI/180,r=t+M*Math.cos(n),i=t+M*Math.sin(n);return(0,a.jsx)("div",{"aria-hidden":"true",className:(0,o.cn)("absolute w-1 h-1 bg-input-border-focus rounded-full opacity-50",s===f%12&&" bg-primary"),style:{left:"".concat(r,"px"),top:"".concat(i,"px"),transform:"translate(-50%, -50%)"}},s)}),Array.from({length:12},(e,s)=>{let n=0===s?12:s,r=(30*s-90)*Math.PI/180,i=t+D*Math.cos(r),o=t+D*Math.sin(r);return(0,a.jsx)("div",{"aria-hidden":"true",className:"absolute text-center text-secondary font-black w-6 h-6",style:{left:"".concat(i,"px"),top:"".concat(o,"px"),transform:"translate(-50%, -50%)"},children:n},s)})]}),"hour"!==b&&(0,a.jsxs)(a.Fragment,{children:[Array.from({length:60},(e,s)=>{let n=(6*s-90)*Math.PI/180,r=t+M*Math.cos(n),i=t+M*Math.sin(n);return(0,a.jsx)("div",{"aria-hidden":"true",className:(0,o.cn)("absolute w-1 h-1 bg-input-border-focus rounded-full opacity-50",s===x&&"bg-primary opacity-70"),style:{left:"".concat(r,"px"),top:"".concat(i,"px"),transform:"translate(-50%, -50%)"}},s)}),Array.from({length:12},(e,s)=>{let n=5*s,r=(30*s-90)*Math.PI/180,i=t+O*Math.cos(r),o=t+1.01*O*Math.sin(r)+1;return(0,a.jsx)("div",{"aria-hidden":"true",onClick:()=>{_(n)},className:"absolute text-center text-secondary font-black w-6 h-6 text-sm",style:{left:"".concat(i,"px"),top:"".concat(o,"px"),transform:"translate(-50%, -50%)"},children:n},s)})]}),(0,a.jsx)("div",{"aria-hidden":"true",className:"absolute w-1 bg-surface-invert rounded-t-full",style:{height:"hour"===b?"".concat(.625*t,"px"):"".concat(.703*t,"px"),left:"".concat(t-2,"px"),bottom:"".concat(t-2,"px"),transform:"rotate(".concat(G,"deg)"),transition:j?"none":"transform 0.275s ease-out",transformOrigin:"center bottom"}}),(0,a.jsx)("div",{"aria-hidden":"true",className:"absolute w-10 h-10 rounded-full bg-[radial-gradient(circle_at_center,var(--surface-base)_10%,transparent_40%)]",style:{left:"".concat(t,"px"),top:"".concat(t,"px"),transform:"translate(-50%, -50%)"}}),(0,a.jsx)("div",{"aria-hidden":"true",className:"absolute w-4 h-4 bg-surface-invert rounded-full",style:{left:"".concat(t,"px"),top:"".concat(t,"px"),transform:"translate(-50%, -50%)"}})]}),(0,a.jsxs)("div",{className:" flex justify-between w-full px-3 mt-3",children:[(0,a.jsx)(r.Button,{onClick:L,variant:"secondary",size:"sm",className:"font-semibold min-w-16 rounded-sm",children:p("radial-time-picker.reset","Reset")}),(0,a.jsx)(r.Button,{onClick:P,variant:"primary",size:"sm",className:"rounded-sm font-semibold min-w-16",children:p("radial-time-picker.ok","OK")})]})]})})};var iC=e.i(749824);let iI=e=>{let{template:t,onResponseChange:s,onSecondaryTextClick:n}=e,[r,i]=m.default.useState([]),[l,c]=m.default.useState(!1);m.default.useEffect(()=>{let e=[];t.replace(/\{\{(.*?)\}\}/g,(t,s)=>(e.push({originalText:s,currentText:s}),t)),i(e)},[t]);let d=m.default.useMemo(()=>{let e=[],s=0;return t.split(/\{\{(.*?)\}\}/).forEach((t,a)=>{a%2!=0?(e.push({text:t,isPlaceholder:!0,placeholderIndex:s}),s++):e.push({text:t,isPlaceholder:!1,placeholderIndex:s})}),e},[t]),u=m.default.useCallback(function(e,t){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=r[t];if(!a)return;let n=e.target.innerText;s&&""===n&&(n=a.originalText,e.target.innerText=n);let o=[...r],l=o[t];l&&(l.currentText=n),i(o)},[r]);return m.default.useEffect(()=>{if(0===r.length)return;let e=d.map(e=>{if(e.isPlaceholder){var t;let s=r[e.placeholderIndex];return null!=(t=null==s?void 0:s.currentText)?t:""}return e.text}).join("");null==s||s(e)},[d,r,s]),(0,a.jsx)("div",{className:"text-sm text-primary font-medium",children:d.map((e,t)=>{var s;let{text:i,isPlaceholder:d,placeholderIndex:h}=e;return d?(0,a.jsxs)("span",{className:(0,o.cn)("inline bg-teal-100 rounded-md px-1.5 py-1.5 font-semibold text-gray-800",!l&&"animate-[pulse_3s_ease-in-out_infinite]"),contentEditable:!0,suppressContentEditableWarning:!0,onClick:()=>{c(!0)},onFocus:e=>{let t=e.target;t.focus();let s=document.createRange();s.selectNodeContents(t);let a=window.getSelection();null==a||a.removeAllRanges(),null==a||a.addRange(s)},onInput:e=>u(e,h),onBlur:e=>u(e,h,!0),children:[null==(s=r[h])?void 0:s.originalText,!l&&(0,a.jsx)(iC.Pencil,{size:16,className:"inline-block ms-1 mb-0.5"})]},t):(0,a.jsx)("span",{className:"text-fg-secondary italic",onClick:n,children:i},t)})})};var iD=e.i(125038),iE=e.i(984569);let iM=[{label:(0,a.jsx)(iT.Trans,{ns:"tasks",i18nKey:"Sunday",defaults:"Sunday"}),value:0},{label:(0,a.jsx)(iT.Trans,{ns:"tasks",i18nKey:"Monday",defaults:"Monday"}),value:1},{label:(0,a.jsx)(iT.Trans,{ns:"tasks",i18nKey:"Tuesday",defaults:"Tuesday"}),value:2},{label:(0,a.jsx)(iT.Trans,{ns:"tasks",i18nKey:"Wednesday",defaults:"Wednesday"}),value:3},{label:(0,a.jsx)(iT.Trans,{ns:"tasks",i18nKey:"Thursday",defaults:"Thursday"}),value:4},{label:(0,a.jsx)(iT.Trans,{ns:"tasks",i18nKey:"Friday",defaults:"Friday"}),value:5},{label:(0,a.jsx)(iT.Trans,{ns:"tasks",i18nKey:"Saturday",defaults:"Saturday"}),value:6}];function iO(e){if(!e)return{remainingFrequent:0,remainingOccasional:0,frequentLimit:0,occasionalLimit:0,frequentUsage:0,occasionalUsage:0};let t=e.frequentUsage||0,s=e.frequentLimit||0,a=e.occasionalUsage||0,n=e.occasionalLimit||0;return{remainingFrequent:s-t,remainingOccasional:n-a,frequentLimit:s,occasionalLimit:n,frequentUsage:t,occasionalUsage:a}}function iP(e){let{onClose:t,taskToEdit:s}=e,{t:n}=(0,E.useTranslation)("tasks"),l=(0,i.useFeatureFlags)(),c=l.ENABLE_GROK_TASK_DECIDER_UI,d=l.ENABLE_NOTIFICATIONS_DECIDER,{createTask:u,updateTask:p}=(0,ib.useTaskActions)(),f=(0,ne.useTasksStore)(D.prop("taskUsage")),{getTaskCadenceToReadableLabel:g}=(0,ib.useTaskLabels)(),x=(0,Y.useMobileSize)(),_=(0,eh.useLogEvent)(),v=(0,m.useMemo)(()=>{var e;return function(e){if(!e)return 0;let t=e.frequentUsage||0;return(e.frequentLimit||0)-t}(f)>0||(null==s?void 0:s.taskId)&&(null==(e=(0,iE.getMainScheduleOfTaskDefinition)(s))?void 0:e.cadence)===ij.GrokApiV2TaskCadence.TaskCadenceOnceDaily},[s,f]),[y,b]=(0,m.useState)(""),[k,j]=(0,m.useState)(""),[w,T]=(0,m.useState)(!1),[N,C]=(0,m.useState)(v?ij.GrokApiV2TaskCadence.TaskCadenceOnceDaily:ij.GrokApiV2TaskCadence.TaskCadenceOnceWeekly),I=new Date,[M,O]=(0,m.useState)(I.getMinutes()>50?I.getHours()+1:I.getHours()),[P,L]=(0,m.useState)(10*Math.ceil(I.getMinutes()/10)%60),[A,R]=(0,m.useState)(iM[I.getDay()]),[K,F]=(0,m.useState)(I.getDate().toString()),[z,G]=(0,m.useState)(iS.DateTime.now()),[U,W]=(0,m.useState)("DEFAULT"),[q,V]=(0,m.useState)(ik.GrokApiV2ModelMode.Base),[H,X]=(0,m.useState)(!1),[Q,J]=(0,m.useState)(!1),[Z,$]=(0,m.useState)(""),[ee,et]=(0,m.useState)(""),[es,ea]=(0,m.useState)(""),[en,er]=(0,m.useState)(),[ei,eo]=(0,m.useState)(!1),[ec,ed]=(0,m.useState)(""),eu=m.default.useRef(null),em=(0,m.useCallback)(()=>{J(e=>!e)},[J]),ep=(0,m.useCallback)(()=>{V(e=>e===ik.GrokApiV2ModelMode.Base?ik.GrokApiV2ModelMode.Deepsearch:ik.GrokApiV2ModelMode.Base)},[]),ef=(0,m.useMemo)(()=>(0,iE.getMainScheduleOfTaskDefinition)(s),[s]),eg=!!s&&s.taskId&&ef&&ef.scheduleId;(0,m.useEffect)(()=>{_("create_custom_task_dialog_open",void 0,{location:window.location.href})},[_]),(0,m.useEffect)(()=>{if(s&&ef){var e,t,a,n,r,i,o,l;b(s.name),j(s.prompt),er(s.originResponseId),C(ef.cadence);let c=function(e){let[t,s]=e.split(":").map(Number);if(void 0===t||void 0===s)throw Error("Invalid time string");return{hours:t,minutes:s}}(ef.timeOfDay);O(c.hours),L(c.minutes),F(null==(e=ef.localDayOfMonth)?void 0:e.toString()),R(S.default.isNumber(ef.localDayOfWeek)?iM[ef.localDayOfWeek]:void 0),W(null!=(t=s.notificationMethod)?t:"DEFAULT"),$(null!=(a=s.notificationsDecider)?a:""),J(null!=(n=s.notificationsDeciderEnabled)&&n),V(null!=(r=s.modelMode)?r:ik.GrokApiV2ModelMode.Base),et(null!=(i=s.modelName)?i:""),ea(null!=(o=s.toolsDev)?o:""),eo(null!=(l=s.isPresetTemplate)&&l),s.isPresetTemplate&&ed(s.prompt),G(ef.localDayOfYear?ef.localDayOfYear:void 0)}},[s,ef]),(0,m.useEffect)(()=>{N===ij.GrokApiV2TaskCadence.TaskCadenceOnceWeekday&&((null==A?void 0:A.value)===0||(null==A?void 0:A.value)===6)&&R(void 0)},[null==A?void 0:A.value,N]);let ex=(0,m.useCallback)(e=>T(e),[]),e_=e=>{e&&C(e)},ev=(0,m.useMemo)(()=>{if(eg)return!0;let e=iO(f);return N===ij.GrokApiV2TaskCadence.TaskCadenceOnceDaily?e.remainingFrequent>0:e.remainingOccasional>0},[eg,N,f]),ey=[ij.GrokApiV2TaskCadence.TaskCadenceOnce,ij.GrokApiV2TaskCadence.TaskCadenceOnceAnnually].includes(N),eb=[ij.GrokApiV2TaskCadence.TaskCadenceOnceWeekday,ij.GrokApiV2TaskCadence.TaskCadenceOnceWeekly].includes(N),ek=[ij.GrokApiV2TaskCadence.TaskCadenceOnceMonthly].includes(N),ej=[ij.GrokApiV2TaskCadence.TaskCadenceOnce,ij.GrokApiV2TaskCadence.TaskCadenceOnceDaily,ij.GrokApiV2TaskCadence.TaskCadenceOnceWeekly,ij.GrokApiV2TaskCadence.TaskCadenceOnceMonthly,ij.GrokApiV2TaskCadence.TaskCadenceOnceAnnually];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(st.DialogHeader,{className:"pt-1",children:(0,a.jsx)(st.DialogTitle,{children:(0,a.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,a.jsx)("input",{placeholder:n("create-custom-task-dialog.title",{defaultValue:"Name of task"}),type:"text",value:y,onChange:e=>b(e.target.value),className:"p-1 w-full focus-visible:outline-none bg-transparent rounded-xl",autoFocus:!0}),(0,a.jsx)("div",{className:"flex items-center gap-1",children:(0,a.jsx)(r.Button,{variant:"ghost",size:"iconMd",onClick:t,"aria-label":n("create-tasks-dialog.close","close create tasks dialog"),children:(0,a.jsx)(h.X,{size:16})})})]})})}),(0,a.jsxs)("div",{className:"-mt-4 gap-3 flex flex-col",children:[(0,a.jsxs)("div",{className:"ps-1 gap-3 flex flex-col",children:[x?(0,a.jsx)(nu.ToggleGroup,{type:"single",value:N,onValueChange:e_,"aria-label":"Text alignment",className:(0,o.cn)("flex gap-1 grow",{"gap-0":x}),children:ej.map(e=>(0,a.jsx)(nu.ToggleGroupItem,{value:e,asChild:!0,children:(0,a.jsx)(r.Button,{className:"rounded-lg",size:"sm",variant:N===e?"filledSecondary":"ghost",children:(0,a.jsx)("span",{className:(0,o.cn)("font-semibold",{"text-primary":N===e,"text-secondary":N!==e}),children:g(e)})})},e))}):(0,a.jsxs)("div",{className:"flex items-center gap-1 justify-between mt-4",children:[(0,a.jsx)("h1",{className:"text-xs text-fg-secondary font-semibold w-[30%] max-w-[120px]",children:n("create-custom-task-dialog.frequency",{defaultValue:"Frequency"})}),(0,a.jsx)(nu.ToggleGroup,{type:"single",value:N,onValueChange:e_,"aria-label":"Text alignment",className:(0,o.cn)("flex gap-1 grow",{"gap-0":x}),children:ej.map(e=>(0,a.jsx)(nu.ToggleGroupItem,{value:e,asChild:!0,children:(0,a.jsx)(r.Button,{className:"rounded-lg",size:"sm",variant:N===e?"filledSecondary":"ghost",children:(0,a.jsx)("span",{className:(0,o.cn)("font-semibold",{"text-primary":N===e,"text-secondary":N!==e}),children:g(e)})})},e))})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 justify-between",children:[(0,a.jsx)("h1",{className:"text-xs text-fg-secondary font-semibold w-[30%] max-w-[120px]",children:n("create-custom-task-dialog.on",{defaultValue:"On"})}),(0,a.jsx)(tF.AnimatePresence,{children:(0,a.jsxs)("div",{className:"flex gap-3 h-12 grow",children:[(0,a.jsxs)("div",{className:"border rounded-xl flex items-center pl-3 pr-1 grow justify-between stretch",children:[!x&&(0,a.jsx)("h1",{className:"text-sm text-fg-secondary font-medium",children:n("create-custom-task-dialog.time-label",{defaultValue:"Time"})}),H?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"z-[149] absolute top-0 left-0 w-full h-full bg-surface-inset opacity-50 rounded-2xl",onClick:()=>{X(!1)}}),(0,a.jsx)("div",{className:"z-[150] relative top-1 right-0 h-full w-52",children:(0,a.jsx)(iN,{radius:100,currentHour:M,currentMinute:P,onChange:(e,t)=>{O(e),L(t)},onSelect:(e,t)=>{O(e),L(t),X(!1)}})})]}):(0,a.jsx)(r.Button,{"aria-label":n("create-custom-task-dialog.time-aria-label",{defaultValue:"Choose time task will run at"}),type:"button",variant:"ghost",className:"rounded-lg",onClick:()=>X(!0),children:function(e,t){let s=e%12||12;return"".concat(String(null!=s?s:0).padStart(2,"0"),":").concat(String(null!=t?t:0).padStart(2,"0")," ").concat(e>=12?"PM":"AM")}(M,P)})]}),eb&&(0,a.jsx)(iB,{value:A,onValueChange:e=>{if(e){let t=0===e.value?7:e.value;G(iS.DateTime.now().set({weekday:t}))}R(e)},weekdaysOnly:N===ij.GrokApiV2TaskCadence.TaskCadenceOnceWeekday},"dayOfWeek-".concat(N)),ek&&(0,a.jsx)(iz,{value:K,onValueChange:e=>F(e.target.value),isMobileSize:x}),ey&&(0,a.jsxs)("div",{className:"border rounded-xl flex items-center px-3 grow justify-between min-h-11",children:[(0,a.jsx)("h1",{className:"text-sm text-fg-secondary font-medium",children:z?z.toLocaleString(iS.DateTime.DATE_FULL):n("create-custom-task-dialog.date-label",{defaultValue:"Choose date"})}),(0,a.jsxs)(B.Popover,{open:w,onOpenChange:ex,children:[(0,a.jsx)(B.PopoverTrigger,{asChild:!0,children:(0,a.jsx)(r.Button,{variant:"ghost","aria-label":n("create-custom-task-dialog.calendar",{defaultValue:"open/close calendar"}),size:"sm",children:(0,a.jsx)(np.Calendar,{size:16})})}),(0,a.jsx)(B.PopoverContent,{onInteractOutside:()=>ex(!1),className:"z-[150]",children:(0,a.jsx)(iy,{mode:"single",selected:null==z?void 0:z.toJSDate(),onSelect:e=>{if(!e)return T(!1);G(e?iS.DateTime.fromJSDate(e):void 0)},disabled:{before:new Date}})})]})]})]})})]}),(0,a.jsxs)("div",{className:"flex items-start gap-1 justify-between",children:[(0,a.jsx)("h1",{className:"text-xs text-fg-secondary font-semibold w-[30%] max-w-[120px] shrink-0 mt-3",children:n("create-custom-task-dialog.instructions",{defaultValue:"Instructions"})}),ei?(0,a.jsx)("div",{className:"p-4 border border-surface-l5 rounded-xl min-h-[200px] grow shrink",children:(0,a.jsx)(iI,{template:ec,onResponseChange:e=>{j(e)},onSecondaryTextClick:()=>{eo(!1),setTimeout(()=>{var e;null==(e=eu.current)||e.focus()},32)}})}):(0,a.jsx)("div",{className:"relative flex flex-col grow",children:(0,a.jsxs)("div",{className:"w-full rounded-xl px-0.5 pt-1 border border-surface-l5 focus-within:border-blue-300",children:[(0,a.jsx)(tT.Textarea,{ref:eu,className:(0,o.cn)("","bg-transparent border-0","!outline-none !focus:outline-none !focus-visible:outline-none","!ring-0 !focus:ring-0 !focus:ring-offset-0","!shadow-none !focus:shadow-none","resize-none","text-sm",{hidden:ei}),rows:8,placeholder:n("create-custom-task-dialog.enter-prompt",{defaultValue:"Enter prompt here."}),value:k,onChange:e=>j(e.target.value),maxLength:8e3}),(0,a.jsx)(tF.AnimatePresence,{children:(0,a.jsxs)("div",{className:"w-full flex items-center justify-between py-4 gap-2",children:[k.length>=4e3?(0,a.jsxs)(el.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:(0,o.cn)("text-xs rounded-lg py-0.5 px-2 bg-primary-foreground border font-semibold justify-self-start mt-2 opacity-80"),children:[(0,a.jsx)("span",{className:(0,o.cn)({"text-red-400":k.length>8e3}),children:"".concat(k.length)}),(0,a.jsx)("span",{children:" / ".concat(8e3)})]},"prompt-length-indicator"):(0,a.jsx)("div",{},"prompt-length-indicator-empty"),(0,a.jsxs)("div",{className:"flex items-center gap-2 mx-4",children:[(0,a.jsx)(iA,{value:q,toggleDeepsearch:ep}),(0,a.jsx)(iK,{value:es,setValue:ea})]})]})})]})})]}),c&&(0,a.jsxs)("div",{className:"flex flex-col gap-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 justify-between",children:[(0,a.jsx)("h1",{className:"text-xs text-fg-secondary font-semibold w-[30%] max-w-[120px]",children:n("create-custom-task-dialog.notifications",{defaultValue:"Notifications"})}),(0,a.jsx)("div",{className:"flex justify-between grow",children:(0,a.jsx)("div",{className:"flex flex-col items-center w-full",children:(0,a.jsx)(iF,{value:U,setValue:W})})})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 justify-between",children:[(0,a.jsx)("div",{className:"w-[30%] max-w-[120px]"}),(0,a.jsx)("div",{className:"grow",children:Q?(0,a.jsxs)("div",{className:(0,o.cn)("relative w-full mt-4 mb-2 rounded-xl border border-surface-l5 pt-1 pb-3","focus-within:border-blue-300","transition-colors"),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between gap-2 pl-4 pr-1.5 mb-0.5",children:[(0,a.jsx)("span",{className:"text-xs text-secondary",children:n("create-custom-task-dialog.notifications-trigger",{defaultValue:"Trigger"})}),(0,a.jsx)(r.Button,{size:"iconSm",variant:"ghost",onClick:em,"aria-label":n("create-custom-task-dialog.notifications-trigger",{defaultValue:"Trigger"}),className:"text-secondary",children:(0,a.jsx)(ng.Trash,{size:12})})]}),(0,a.jsx)(tT.Textarea,{disabled:!Q,rows:1,className:(0,o.cn)("w-full resize-none px-4 py-0 min-h-0 h-auto leading-tight placeholder:text-xs placeholder:text-secondary","bg-transparent disabled:bg-surface-inset","border-0","!outline-none !focus:outline-none !focus-visible:outline-none","!ring-0 !focus:ring-0 !focus:ring-offset-0","!shadow-none !focus:shadow-none"),style:{outline:"none",boxShadow:"none"},placeholder:n("create-custom-task-dialog.notifications-filter-placeholder-v2",{defaultValue:"Enter trigger condition here (e.g. Notify me only when it is raining)"}),value:Z,onChange:e=>$(e.target.value),maxLength:1e3})]},"notification-filter"):d?(0,a.jsx)("div",{children:(0,a.jsxs)(r.Button,{className:"w-full text-secondary flex items-center justify-start text-sm gap-1.5",variant:"text",onClick:em,children:[(0,a.jsx)(nf.Plus,{size:14}),n("create-custom-task-dialog.add-notification-filter","Add notification filter")]})},"add-notification-filter"):null})]})]})]}),x&&(0,a.jsx)(iL,{taskUsage:f,cadence:N,onClose:t}),(0,a.jsxs)("div",{className:"flex items-center gap-4 pt-4",children:[!x&&(0,a.jsx)(iL,{taskUsage:f,cadence:N,onClose:t}),(0,a.jsx)(r.Button,{variant:"filled",onClick:()=>{var e,a;let r;if(_("create_task_button_clicked_in_task_dialog",void 0,{location:window.location.href,cadence:N,notificationMethod:U}),es.split(",").map(e=>e.trim()).map(e=>{_("task_created_with_tool",e,{location:window.location.href,cadence:N,notificationMethod:U})}),y.length>=80)return void iD.taskToast.error(n("create-tasks-dialog.error-name-length","Task name is too long"));if(0===k.length)return void iD.taskToast.error(n("create-tasks-dialog.error-prompt-required","Prompt cannot be empty"));if(k.length>=8e3)return void iD.taskToast.error(n("create-tasks-dialog.error-prompt-length","Prompt is too long"));if(void 0===M||M<0||M>23)return void iD.taskToast.error(n("create-tasks-dialog.error-invalid-hour","Hour value for scheduled time is incorrect"));if(void 0===P||P<0||P>59)return void iD.taskToast.error(n("create-tasks-dialog.error-invalid-minute","Minute value for scheduled time is incorrect"));let i=Intl.DateTimeFormat().resolvedOptions().timeZone;switch(N){case ij.GrokApiV2TaskCadence.TaskCadenceOnce:case ij.GrokApiV2TaskCadence.TaskCadenceOnceAnnually:if(!z)return;r={cadence:N,localDayOfYear:z};break;case ij.GrokApiV2TaskCadence.TaskCadenceOnceDaily:r={cadence:N};break;case ij.GrokApiV2TaskCadence.TaskCadenceOnceWeekday:case ij.GrokApiV2TaskCadence.TaskCadenceOnceWeekly:if(!A)return;r={cadence:N,localDayOfWeek:A.value};break;case ij.GrokApiV2TaskCadence.TaskCadenceOnceMonthly:if(!K)return;r={cadence:N,localDayOfMonth:parseInt(K)};break;default:return}let o={name:y,prompt:k,notificationMethod:U,modelMode:q,modelName:ee,toolsDev:es,notificationsDecider:Z,notificationsDeciderEnabled:Q,originResponseId:en,schedule:[{timeOfDay:(e=M,a=P,"".concat(String(null!=e?e:0).padStart(2,"0"),":").concat(String(null!=a?a:0).padStart(2,"0"))),isEnabled:!0,ianaTimezone:i,...r}]};eg&&s.taskId&&ef.scheduleId?p({task:o,taskId:s.taskId,scheduleId:ef.scheduleId}):((null==s?void 0:s.id)&&_("preset_task_creation_click",s.id,{location:"create-custom-task-view:handleCreateTaskClick"}),u(o)),window.localStorage.setItem("hideTaskPillCount","0"),t()},disabled:!ev,size:"md",children:(0,a.jsx)("span",{className:"font-semibold",children:eg?n("create-custom-task-dialog.update","Update Task"):n("create-custom-task-dialog.create","Create Task")})})]})]})]})}function iL(e){let t,s,n,{taskUsage:i,cadence:o,onClose:l}=e,c=(0,iw.useUpsellStore)(D.prop("setIsUpselling")),{isEnterpriseUser:d,isSuperGrokUser:u,isSuperGrokProUser:h}=(0,eq.useSubscriptions)(),p=d||u||h,{t:f}=(0,E.useTranslation)("tasks"),g=(0,m.useCallback)(()=>{l(),c(!0)},[c,l]);if(!i)return null;let{frequentLimit:x,frequentUsage:_,occasionalLimit:v,occasionalUsage:y,remainingFrequent:b,remainingOccasional:k}=iO(i);return o===ij.GrokApiV2TaskCadence.TaskCadenceOnceDaily?(t=f("create-custom-task-dialog.daily.remaining",{count:b,defaultValue_one:"{{count}} daily task remaining",defaultValue_other:"{{count}} daily tasks remaining"}),s=f("create-custom-task-dialog.daily.current",{usage:_,limit:x,defaultValue:"Current: {{usage}}/{{limit}} daily tasks active"}),n=_/(x||1)*100,0===b&&(t=f("create-custom-task-dialog.daily.limit_reached",{usage:_,limit:x,defaultValue:"Reached daily tasks limit ({{usage}}/{{limit}})"}),s=p?"":f("create-custom-task-dialog.upgrade-for-more","Upgrade for more"))):(t=f("create-custom-task-dialog.occasional.remaining",{count:k,defaultValue_one:"{{count}} occasional task remaining",defaultValue_other:"{{count}} occasional tasks remaining"}),s=f("create-custom-task-dialog.occasional.current",{usage:y,limit:v,defaultValue:"Current: {{usage}}/{{limit}} occasional tasks active"}),n=y/(v||1)*100,0===k&&(t=f("create-custom-task-dialog.occasional.limit_reached",{usage:y,limit:v,defaultValue:"Reached occasional tasks limit ({{usage}}/{{limit}})"}),s=p?"":f("create-custom-task-dialog.upgrade-for-more","Upgrade for more"))),(0,a.jsxs)("div",{className:"flex items-center gap-4 rounded-2xl border px-3 py-1.5 bg-surface-l1 justify-between grow",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(n_.RadialProgress,{trackClassName:"stroke-border-l1",progressClassName:"stroke-blue-300",size:26,thickness:4,progressPercentage:n}),(0,a.jsxs)("div",{className:"flex flex-col gap-0 -my-0.5",children:[(0,a.jsx)("p",{className:"text-xs font-semibold text-fg-primary -mb-[2px]",children:t}),(0,a.jsx)("p",{className:"text-xs font-medium text-fg-secondary -mt-[2px]",children:s})]})]}),!p&&n>66&&(0,a.jsx)(r.Button,{variant:"outline",size:"xs",onClick:g,children:(0,a.jsx)("span",{className:"text-sm font-semibold text-fg-primary",children:f("create-custom-task-dialog.upgrade","Upgrade")})})]})}function iA(e){let{value:t,toggleDeepsearch:s}=e,{t:n}=(0,E.useTranslation)("tasks"),i=t===ik.GrokApiV2ModelMode.Deepsearch,{isSuperGrokUser:l,isSuperGrokProUser:c,isEnterpriseUser:d}=(0,eq.useSubscriptions)(),u=tY();return l||c||d||u?null:(0,a.jsxs)(r.Button,{onClick:s,variant:"outline",className:(0,o.cn)({"bg-button-ghost-hover":i}),children:[(0,a.jsx)(nx,{size:18,className:(0,o.cn)("text-fg-secondary transform transition duration-150 ease-in-out opacity-30",i&&"text-fg-primary  opacity-100")}),n("Expert","Expert")]})}function iR(e){let{provider:t}=e,s=t8(t),{t:n}=(0,E.useTranslation)("tasks");return(0,a.jsx)(r.Button,{variant:"outline",size:"xs",onClick:()=>s.mutate(),children:(0,a.jsx)("span",{className:"text-xs font-semibold",children:n("oauth-connect","Connect")})})}function iK(e){var t;let{value:s,setValue:n}=e,[o,l]=(0,m.useState)(!1),c=(0,i.useFeatureFlags)().ENABLE_GROK_TASK_TOOLS,d=(0,ne.useTasksStore)(D.prop("setToolDocsDialogIsOpen")),{data:u}=(0,tX.useOauthConnectors)(),h=function(){let{data:e}=(0,J.useQuery)({queryKey:["task-tools"],queryFn:()=>X.grokTasksApi.grokTasksGetTaskTools()});return e}(),{t:p}=(0,E.useTranslation)("tasks");if(!c||!(null==h?void 0:h.tools)||0===h.tools.length)return null;let f=null==h||null==(t=h.tools)?void 0:t.map(e=>{var t,s,a,n,r;return{label:null!=(s=e.label)?s:"",value:null!=(a=e.id)?a:"",connectorIds:null!=(n=e.connectorIds)?n:[],missingConnectors:null!=(r=null==(t=e.connectorIds)?void 0:t.filter(e=>!(null==u?void 0:u.some(t=>t.provider===e))))?r:[]}}),g=s.split(",").reduce((e,t)=>(t.trim()&&(e[t.trim()]=!0),e),{});return(0,a.jsxs)(ss.DropdownMenu,{open:o,onOpenChange:l,children:[(0,a.jsx)(ss.DropdownMenuTrigger,{asChild:!0,children:(0,a.jsxs)(r.Button,{variant:"outline",className:"flex gap-2 font-medium relative",children:[(0,a.jsx)(eI.Settings2,{size:16,className:"text-fg-secondary"}),(0,a.jsx)("span",{className:"text-xs font-semibold",children:p("tools-label","Tools")}),!o&&(0,a.jsx)("div",{className:"absolute -top-3  -end-2 text-[10px] py-0.5 px-1.5 rounded-md border bg-blue-400 text-white",children:p("new","New")})]})}),(0,a.jsxs)(ss.DropdownMenuContent,{side:"top",align:"start",className:"min-w-36 space-y-0.5 z-[150]",children:[null==f?void 0:f.map(e=>{var t;let s=e.missingConnectors&&e.missingConnectors.length>0?e.missingConnectors[0]:void 0;return s?(0,a.jsxs)(ss.DropdownMenuItem,{className:"flex gap-2 -ms-0.5 py-1.5",onSelect:e=>e.preventDefault(),children:[(0,a.jsx)("span",{className:"font-medium text-fg-secondary w-full  ps-[22px]",children:e.label}),(0,a.jsx)(iR,{provider:s})]},e.value):(0,a.jsx)(ss.DropdownMenuCheckboxItem,{className:"flex gap-1",checked:g[e.value]&&(null==(t=e.missingConnectors)?void 0:t.length)===0,onClick:()=>{var t;(null==(t=e.missingConnectors)?void 0:t.length)>0||(g[e.value]=!g[e.value],n(Object.keys(g).filter(e=>g[e]).join(",")))},onSelect:e=>e.preventDefault(),children:(0,a.jsx)("span",{className:"font-medium",children:e.label})},e.value)}),(0,a.jsx)(ss.DropdownMenuItem,{className:"border border-border-l1 justify-center",onSelect:()=>{d(!0)},children:(0,a.jsx)("span",{className:"font-medium",children:p("learn-more-about-tools","Learn more about tools")})})]})]})}function iF(e){let{value:t,setValue:s}=e,[n,i]=(0,m.useState)(!1),{t:l}=(0,E.useTranslation)("tasks"),c={DEFAULT:l("tasks.notification-method.enabled","Email + App"),EMAIL_ONLY:l("tasks.notification-method.email-only","Email Only"),APP_ONLY:l("tasks.notification-method.app-only","App Only"),OFF:l("tasks.notification-method.none","Off")},d=null!=t?t:"DEFAULT";return(0,a.jsxs)(ss.DropdownMenu,{open:n,onOpenChange:i,children:[(0,a.jsx)(ss.DropdownMenuTrigger,{asChild:!0,children:(0,a.jsxs)(r.Button,{variant:"outline",className:"flex font-medium w-full justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:["OFF"===d?(0,a.jsx)(nm,{size:16}):(0,a.jsx)(nh.Bell,{size:16}),c[d]]}),(0,a.jsx)(ni.ChevronDown,{size:16,className:(0,o.cn)(n&&"rotate-180 transition-transform duration-150 ease-in-out")})]})}),(0,a.jsx)(ss.DropdownMenuContent,{side:"bottom",align:"start",className:"min-w-36 w-[var(--radix-popper-anchor-width)] space-y-0.5 z-[150]",children:Object.entries(c).map(e=>{let[t,n]=e;return(0,a.jsx)(ss.DropdownMenuItem,{onSelect:()=>s(t),children:(0,a.jsx)("span",{className:"font-medium",children:n})},t)})})]})}function iz(e){let{value:t,onValueChange:s,isMobileSize:n}=e,{t:r}=(0,E.useTranslation)("tasks");return(0,a.jsxs)("div",{className:"flex items-center gap-3 font-medium",children:[(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("label",{className:"text-sm",children:r("tasks-day-in-month-label","Day in month to run:")}),!n&&(0,a.jsx)("label",{className:"text-xs text-fg-secondary",children:r("tasks-day-in-month-disclaimer-label","Will run on closest day")})]}),(0,a.jsx)("input",{className:"grow py-1 px-4 text-xs rounded-xl bg-transparent border stretch h-full",value:null!=t?t:"1",onChange:s,type:"number",min:0,max:31,"aria-label":r("tasks-day-in-month-label","Day in month to run:")})]})}function iB(e){let{weekdaysOnly:t,value:s,onValueChange:n}=e,{t:i}=(0,E.useTranslation)("tasks"),o=[...iM];return t&&(o.shift(),o.pop()),(0,a.jsxs)(ss.DropdownMenu,{children:[(0,a.jsx)(ss.DropdownMenuTrigger,{asChild:!0,children:(0,a.jsx)(r.Button,{className:"flex items-center justify-center h-full w-32 border",variant:"outline","aria-label":i("selected-day.label","Selected day"),children:s?s.label:"Select a day"})}),(0,a.jsx)(ss.DropdownMenuContent,{side:"bottom",align:"end",sideOffset:6,className:"min-w-36 space-y-0.5 z-[150]",children:o.map(e=>(0,a.jsx)(ss.DropdownMenuItem,{onSelect:()=>{n(e)},className:"flex items-center gap-2",children:e.label},e.value))})]})}function iG(){let e=(0,ne.useTasksStore)(D.prop("createDialogIsOpen")),t=(0,ne.useTasksStore)(D.prop("setCreateDialogIsOpen")),s=(0,ne.useTasksStore)(D.prop("taskToEdit")),n=(0,eh.useLogEvent)(),r=(0,m.useCallback)(e=>t(e),[t]),i=(0,m.useCallback)(()=>{n("close_task_button_clicked",void 0,{location:window.location.href}),t(!1)},[t,n]);return(0,a.jsx)(st.Dialog,{open:e,onOpenChange:r,children:(0,a.jsx)(st.DialogContent,{className:"max-w-[640px] w-full px-4 pt-2 pb-4 rounded-3xl border border-border-l1 flex flex-col gap-6",children:(0,a.jsx)(iP,{onClose:i,taskToEdit:s})})})}var iU=e.i(480329),iW=e.i(10404),iq=e.i(659065),iV=e.i(572498),iH=e.i(627511),iY=e.i(468097),iX=e.i(164787),iQ=e.i(680491),iJ=e.i(250033);let iZ=(0,l.default)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),i$=(0,l.default)("FilterX",[["path",{d:"M13.013 3H2l8 9.46V19l4 2v-8.54l.9-1.055",key:"1fi1da"}],["path",{d:"m22 3-5 5",key:"12jva0"}],["path",{d:"m17 3 5 5",key:"k36vhe"}]]);var i0=e.i(327877),i1=e.i(722423),i2=e.i(667965),i8=e.i(913106),i4=e.i(809596),i4=i4,i3=e.i(157695),i5=e.i(713216),i6=e.i(758296);let i7=e=>{let{conversationId:t}=e,s=(0,tx.useConversationStore)(D.prop("fetchGetConversation")),{data:n}=(0,i3.usePromise)(t?s(t):void 0),[r,i]=m.default.useState(null);return((0,m.useEffect)(()=>{n&&i(null)},[n]),(0,m.useEffect)(()=>{let e=nc.useResponseStore.getState();(null==n?void 0:n.conversationId)&&(ty.useChatPageStore.getState().setConversationId(null==n?void 0:n.conversationId),e.loadInitialResponses(null==n?void 0:n.conversationId).then(e=>{var t;let s=ty.useChatPageStore.getState();if(n.conversationId===(null==(t=e[0])?void 0:t.conversationId)){let t=(e=>{let t=e.filter(e=>{var t;return(null==(t=e.sender)?void 0:t.toLowerCase())==="assistant"});return S.default.minBy(t,e=>e.createTime)})(e);if(i(null!=t?t:null),!t)return void s.setLastMessageId(void 0);if("streaming"===t.state||"reconnecting"===t.state){s.setLastMessageId(t.parentResponseId),s.setStreamedMessageId(t.responseId);return}if("optimistic"===t.state){s.setLastMessageId(t.parentResponseId),s.setOptimisticMessageId(t.responseId);return}s.setLastMessageId(t.responseId)}}))},[n,i]),r)?(0,a.jsx)("div",{className:"text-sm max-w-full [--thead-sticky-top:-1rem] [--thead-bg-color:hsl(var(--surface-l1))] [--thead-border-b-color:hsl(var(--border-l1))]",children:(0,a.jsx)(i5.MessageBubble,{isUser:!1,isIncognito:!1,children:(0,a.jsx)(i6.ResponseContent,{readOnly:!0,response:r,isStreaming:!1,isModerated:!1,allowBreakout:!1,isThread:!1})})}):null};var i9=e.i(768991);let oe=Math.ceil(240)+1;function ot(){var e,t,s,n,i,l,c,d,u,h;let{t:p}=(0,E.useTranslation)("tasks"),{isMobileSize:g,isTouchDevice:x}=(0,Y.useMobile)(),{push:_}=(0,f.useRouting)(),[v,y]=(0,m.useState)(!1),b=(0,eh.useLogEvent)(),[k,j]=(0,m.useState)(!1),[w,S]=(0,m.useState)(0),T=(0,f.useRouting)(),N=(0,ne.useTasksStore)(D.prop("userActiveTasks")),C=(0,ne.useTasksStore)(D.prop("userInactiveTasks")),I=(0,ne.useTasksStore)(D.prop("initialized")),M=(0,ne.useTasksStore)(D.prop("fetchUserTasks")),O=(0,ne.useTasksStore)(D.prop("createDialogIsOpen")),P=(0,ne.useTasksStore)(D.prop("selectedTaskIdForSidePanel")),L=(0,ne.useTasksStore)(D.prop("setSelectedTaskIdForSidePanel")),A=(0,m.useMemo)(()=>{let e=C.find(e=>{var t;return(null==(t=e.task)?void 0:t.taskId)===P});return e||(e=N.find(e=>{var t;return(null==(t=e.task)?void 0:t.taskId)===P})),e},[P,N,C]),[K,F]=(0,m.useState)(0),z=(0,m.useCallback)(()=>{y(!1),F(0),j(!1)},[]);(0,m.useEffect)(()=>{var e;(null==A||null==(e=A.task)?void 0:e.taskId)&&S(0)},[null==A||null==(e=A.task)?void 0:e.taskId]),(0,m.useEffect)(()=>{b("tasks_side_panel_open",void 0,{location:"tasks-side-panel:useEffect"})},[]),(0,m.useEffect)(()=>{K>=oe&&z()},[z,K]);let B=(null==A||null==(t=A.task)?void 0:t.taskId)?["task-results",null==A||null==(s=A.task)?void 0:s.taskId]:[],{isLoading:G,data:U}=(0,J.useQuery)({queryKey:B,queryFn:async()=>{var e,t;if(!(null==A||null==(e=A.task)?void 0:e.taskId))throw Error("TaskId is required");return X.grokTasksApi.grokTasksGetTaskResults({taskId:null==A||null==(t=A.task)?void 0:t.taskId}).then(async e=>{var t;let s=(0,ey.getQueryClient)();return F(e=>e+1),await M(),await s.invalidateQueries({queryKey:["latest-task-result",null==(t=A.task)?void 0:t.taskId]}),e})},enabled:!!(null==A||null==(n=A.task)?void 0:n.taskId),refetchInterval:v,refetchOnMount:"always",staleTime:0}),W=(0,m.useMemo)(()=>(null==U?void 0:U.results)?U.results.filter(e=>e.status!==iY.GrokApiV2TaskResultStatus.TaskResultPending):[],[U]),q=(0,m.useMemo)(()=>(null==A?void 0:A.schedules)!==void 0&&!!A.schedules.find(e=>e.taskCadence===ij.GrokApiV2TaskCadence.TaskCadenceOnceInstant&&!1===e.isCompleted),[A]),V=(0,m.useMemo)(()=>{var e;return null==U||null==(e=U.results)?void 0:e.find(e=>e.status===iY.GrokApiV2TaskResultStatus.TaskResultPending)},[null==U?void 0:U.results]),H=(0,m.useMemo)(()=>{var e;return V?null!=(e=null==U?void 0:U.results)?e:[]:W},[W,V,null==U?void 0:U.results]);(0,m.useEffect)(()=>{(async()=>{V&&j(!1),q||V?y(5e3):z(),await M})()},[z,M,q,V,U]);let Q=.5*((null==(l=globalThis.document)||null==(i=l.body)?void 0:i.clientWidth)||1024),Z=!!A&&"tasks"===T.route.page,$=null==A||null==(c=A.schedules)?void 0:c.at(0),ee=(0,m.useCallback)(()=>{b("close_side_panel_clicked",void 0,{location:"tasks-side-panel:handleClosePanel"}),L(void 0)},[L,b]),es=!(null==A||null==(d=A.task)?void 0:d.isActive),ea=!!(A&&(null==(u=A.task)?void 0:u.isActive)&&(null==$?void 0:$.isEnabled)),en=(0,ne.useTasksStore)(D.prop("setTaskToEdit")),{pauseOrUnpauseTaskSchedule:er,addInstantTaskScheduleForTask:ei}=(0,ib.useTaskActions)(),eo=(0,m.useCallback)(()=>{if(b("edit_task_clicked",void 0,{location:"tasks-side-panel:handleEditClick"}),!A)return null;en((0,iE.apiTaskWithScheduleToTaskDefinition)(A))},[en,A,b]),el=(0,m.useCallback)(()=>{if(b("pause_task_clicked",void 0,{location:"tasks-side-panel:handlePauseClick"}),!$)return null;er({enabled:!1,scheduleId:null==$?void 0:$.scheduleId})},[er,$,b]),ec=(0,m.useCallback)(()=>{if(b("resume_task_clicked",void 0,{location:"tasks-side-panel:handleUnpauseClick"}),!$)return null;er({enabled:!0,scheduleId:null==$?void 0:$.scheduleId})},[er,$,b]),ed=(0,m.useCallback)(()=>{var e;return b("clicked_task_result",void 0,{location:"tasks-side-panel"}),ei({taskId:null==A||null==(e=A.task)?void 0:e.taskId}),j(!0),y(5e3),null},[ei,null==A||null==(h=A.task)?void 0:h.taskId,b]),eu=(0,m.useRef)(null),[em,ep]=(0,m.useState)(!0),[ef,eg]=(0,m.useState)(!1);(0,m.useEffect)(()=>{let e=()=>{if(eu.current){let{scrollTop:e,scrollHeight:t,clientHeight:s}=eu.current;0===e?ep(!0):ep(!1),e+s>=t-5?eg(!0):eg(!1)}},t=eu.current;return t&&t.addEventListener("scroll",e),()=>{t&&t.removeEventListener("scroll",e)}},[eu,H,k]);let ex=(0,m.useMemo)(()=>{var e;return null!=(e=H[w])?e:H[0]},[w,H]),e_=ex&&!ex.isRead&&ex.status===iY.GrokApiV2TaskResultStatus.TaskResultSuccess&&!es,ev=()=>{if(b("task_result_clicked",void 0,{location:"tasks-side-panel:TaskResultItem"}),!(null==ex?void 0:ex.conversationId))return null;_({page:"chat",conversationId:ex.conversationId,temporary:!1})},eb=()=>{var e,t;return A&&$&&A.task?(0,a.jsxs)("div",{className:(0,o.cn)("h-full w-full p-5  flex flex-col gap-4 overflow-hidden",{"h-[90vh] overflow-scroll p-3":g()}),children:[(0,a.jsxs)("div",{className:"flex flex-none flex-col  gap-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2 h-full",children:[g()?(0,a.jsx)("div",{className:"text-lg font-semibold",children:null==(e=A.task)?void 0:e.name}):(0,a.jsx)("h1",{className:"text-xl font-semibold",children:null==(t=A.task)?void 0:t.name}),(0,a.jsxs)("div",{className:"flex gap-1 items-center",children:[!es&&(0,a.jsx)(oa,{}),(0,a.jsx)(r.Button,{variant:"ghost",size:"iconMd",onClick:ee,"aria-label":p("task-results.close","close task results"),children:(0,a.jsx)(R.default,{size:16})})]})]}),(0,a.jsxs)("div",{className:" gap-2 flex flex-col mt-2.5",children:[(0,a.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[(0,a.jsx)(i9.CombinedTaskTriggerLabel,{task:$,isScheduled:ea}),(0,a.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,a.jsx)(r.Button,{className:"rounded-xl",variant:"outline",size:"iconSm",onClick:eo,disabled:es,"aria-label":p("tasks-result.edit-label","Edit"),children:(0,a.jsx)(iC.Pencil,{size:13})}),ea||es?(0,a.jsx)(r.Button,{className:"rounded-xl",variant:"outline",size:"iconSm",onClick:el,disabled:k||es,"aria-label":p("tasks-result.pause-label","Pause"),children:(0,a.jsx)(i1.Pause,{size:14})}):(0,a.jsx)(r.Button,{className:"rounded-xl",variant:"outline",size:"iconSm",onClick:ec,disabled:es,"aria-label":p("tasks-result.resume-label","Resume"),children:(0,a.jsx)(i2.Play,{size:13})}),(0,a.jsxs)(r.Button,{className:"rounded-xl",variant:"outline",size:"sm",onClick:ed,disabled:q||es,"aria-label":p("tasks-result.test-label","Test"),children:[(0,a.jsx)(iJ.CirclePlay,{size:14}),(0,a.jsx)("p",{className:"font-semibold text-sm",children:p("tasks-result.test-label","Test")})]})]})]}),(0,a.jsx)("div",{children:(0,a.jsx)("p",{className:"text-sm font-medium whitespace-normal break-all line-clamp-3 text-fg-secondary",children:A.task.prompt})})]})]}),G?(0,a.jsx)("div",{className:"items-center flex justify-center self-stretch",children:(0,a.jsx)(et.Spinner,{size:"sm","aria-label":p("task-results.loading","task results loading")})}):H.length>0||k?(0,a.jsxs)("div",{className:(0,o.cn)(" w-full flex flex-col flex-grow pb-4 border border-border-l1 rounded-2xl bg-surface-l1 ",{"h-5/6 overflow-hidden ":!g()}),children:[(0,a.jsxs)("div",{className:"flex flex-none flex-row justify-between py-1 px-2",children:[(0,a.jsxs)("div",{className:"flex w-full",children:[k&&(0,a.jsx)(os,{isOptimistic:!0}),ex&&!k&&(0,a.jsx)(os,{taskResult:ex,showNotificationBlip:e_},ex.taskResultId)]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 px-1",children:[(0,a.jsx)(r.Button,{className:"rounded-xl",variant:"outline",size:"iconSm","aria-label":p("task-results.older-label","Older results"),onClick:()=>{S(Math.min(w+1,H.length-1))},disabled:w===H.length-1,children:(0,a.jsx)(iQ.ChevronLeft,{size:18})}),(0,a.jsx)(r.Button,{className:"rounded-xl",variant:"outline",size:"iconSm","aria-label":p("task-results.newer-label","Newer results"),onClick:()=>{S(Math.max(w-1,0))},disabled:0===w,children:(0,a.jsx)(s_.ChevronRight,{size:18})}),!g()&&(0,a.jsx)(r.Button,{className:"rounded-xl",variant:"outline",size:"sm",onClick:()=>{S(0)},disabled:0===w,children:(0,a.jsx)("span",{className:"font-semibold",children:p("task-results.latest-label","Latest")})}),(0,a.jsxs)(r.Button,{className:"rounded-xl",variant:"outline",size:"sm",onClick:ev,"aria-label":p("task-results.chat-label","Chat"),children:[(0,a.jsx)(i0.MessageCircle,{size:18}),!g()&&(0,a.jsx)("span",{className:"font-semibold",children:p("task-results.chat-label","Chat")})]})]})]}),(0,a.jsx)("div",{className:"border-b border-border-l1 w-full"}),(0,a.jsx)("div",{className:(0,o.cn)("flex w-full p-4 flex-grow",{"relative no-scrollbar overflow-scroll":!g()}),ref:eu,style:em?{maskImage:iV.BOTTOM_MASK_IMAGE,WebkitMaskImage:iV.BOTTOM_MASK_IMAGE}:ef?{maskImage:iV.TOP_MASK_IMAGE,WebkitMaskImage:iV.TOP_MASK_IMAGE}:{maskImage:"".concat(iV.TOP_MASK_IMAGE,", ").concat(iV.BOTTOM_MASK_IMAGE),WebkitMaskImage:"".concat(iV.TOP_MASK_IMAGE,", ").concat(iV.BOTTOM_MASK_IMAGE),maskComposite:"intersect"},children:(null==ex?void 0:ex.conversationId)&&(0,a.jsx)(i7,{conversationId:ex.conversationId})})]}):(0,a.jsx)("div",{className:"items-center flex justify-center self-stretch",children:0===H.length&&(0,a.jsx)("h1",{className:"text-fg-secondary font-semibold text-lg",children:p("task-results.no-records","No records yet")})})]}):null};return g()?(0,a.jsx)(iq.Drawer,{open:Z,modal:!O,children:(0,a.jsx)(iq.DrawerContent,{className:"focus:outline-none",disableDrag:!x(),children:I?eb():(0,a.jsx)("div",{className:" min-h-[60vh] items-center flex justify-center h-full",children:(0,a.jsx)(et.Spinner,{size:"sm","aria-label":p("task-details.loading","Task details loading")})})})}):(0,a.jsx)(iU.ResizablePanel,{isVisible:Z,minWidth:550,maxWidth:Q,initialWidth:Q,className:"max-w-[60%] xl:max-w-none",children:I?eb():(0,a.jsx)("div",{className:"items-center flex justify-center h-full",children:(0,a.jsx)(et.Spinner,{size:"sm","aria-label":p("task-details.loading","Task details loading")})})})}function os(e){var t;let{taskResult:s,showNotificationBlip:n,isOptimistic:r}=e,{t:i}=(0,E.useTranslation)("tasks"),o=(0,m.useMemo)(()=>r?{title:i("task result","Task result"),status:iY.GrokApiV2TaskResultStatus.TaskResultPending}:s||null,[r,s,i]);return o?(0,a.jsx)("div",{className:"w-full flex justify-between rounded-xl relative py-2 ps-2",children:(0,a.jsxs)("div",{className:"flex gap-2.5",children:[o.status!==iY.GrokApiV2TaskResultStatus.TaskResultSuccess&&(0,a.jsx)("div",{className:"flex items-center justify-center flex-col",children:(0,a.jsx)("div",{className:"w-[30px] h-[30px] m-0 p-0",children:(0,a.jsx)("div",{className:"relative flex w-[30px] h-[30px] bg-surface-l1 rounded-full m-0 items-center justify-center border-border-l1 border",children:function(e){switch(e){case iY.GrokApiV2TaskResultStatus.TaskResultPending:return(0,a.jsx)(et.Spinner,{size:"xs"});case iY.GrokApiV2TaskResultStatus.TaskResultSuccess:return(0,a.jsx)(i0.MessageCircle,{size:14,className:"text-fg-secondary"});case iY.GrokApiV2TaskResultStatus.TaskResultError:return(0,a.jsx)(u.TriangleAlert,{size:14,className:"text-red-300"});default:return(0,a.jsx)(U.Check,{size:14})}}(o.status)})})}),(0,a.jsxs)("div",{className:"flex flex-col w-full items-start text-wrap text-start",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("p",{className:"text-sm text-fg-primary font-semibold -mb-[2px] line-clamp-1",children:o.title&&0!==o.title.length?o.title:i("task-result-default-label","Task result")}),n&&(0,a.jsx)(iW.NotificationBlip,{variant:"sm"})]}),(0,a.jsxs)("p",{className:"text-xs text-fg-secondary font-medium -mt-[2px] line-clamp-1",children:[!r&&(0,a.jsxs)(a.Fragment,{children:[(t=o.createTime)?new Date(t).toDateString():null," Â· "]}),o.status===iY.GrokApiV2TaskResultStatus.TaskResultPending&&i("task-result.running","Task running..."),o.status!==iY.GrokApiV2TaskResultStatus.TaskResultPending&&function(e,t,s){if(!e||!t)return null;let a=new Date(e),n=new Date(t),r=void 0!=s&&s>-1?s:n.getTime()-a.getTime(),i=i4.default.fromMillis(r);if(60>i.as("seconds"))return"Ran for ".concat(i.as("seconds").toFixed(2)," s");{let e=Math.floor(i.as("minutes")),t=Math.floor(i.as("seconds")%60);return"Ran for ".concat(e,"m ").concat(t,"s")}}(o.createTime,o.updateTime,o.execTime),o.notificationDecision===iH.GrokApiV2TaskNotificationDecision.No&&(0,a.jsx)("span",{className:"px-2",children:(0,a.jsx)(i$,{size:15,className:"inline-block text-fg-secondary"})}),o.notificationDecision===iH.GrokApiV2TaskNotificationDecision.Yes&&(0,a.jsx)("span",{className:"px-2",children:(0,a.jsx)(iZ,{size:15,className:"inline-block text-fg-positive"})})]})]})]})}):null}function oa(){let e=(0,ne.useTasksStore)(D.prop("selectedTaskIdForSidePanel")),t=(0,ne.useTasksStore)(D.prop("setSelectedTaskIdForSidePanel")),{t:s}=(0,E.useTranslation)("tasks"),{archiveTask:n}=(0,ib.useTaskActions)(),i=(0,eh.useLogEvent)(),[o,l]=(0,m.useState)(!1),c=(0,m.useCallback)(()=>{l(!0)},[]),d=(0,m.useCallback)(()=>{l(!1)},[]),u=(0,m.useCallback)(()=>{if(i("archive_task_clicked",void 0,{location:"archive-button"}),d(),!e)return null;setTimeout(()=>t(void 0),250),n({taskId:e})},[n,d,e,t,i]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i8.Dialog,{open:o,onOpenChange:l,children:(0,a.jsxs)(st.DialogContent,{className:"w-full max-w-[350px] p-4 rounded-2xl border border-border-l1 flex flex-col gap-6",children:[(0,a.jsx)(st.DialogHeader,{children:(0,a.jsx)(i8.DialogTitle,{children:(0,a.jsx)("h3",{className:"font-semibold text-sm",children:s("are you sure","Are you sure you want to archive your task?")})})}),(0,a.jsx)("p",{className:"text-sm text-fg-secondary",children:s("archive-description-no-access","This cannot be undone.")}),(0,a.jsxs)("div",{className:"flex w-full items-center justify-end gap-2",children:[(0,a.jsx)(r.Button,{variant:"outline",size:"md",onClick:d,children:s("archive-cancel","Cancel")}),(0,a.jsx)(r.Button,{variant:"destructive",size:"md",onClick:u,children:s("archive-confirm","Confirm")})]})]})}),(0,a.jsx)(r.ButtonWithTooltip,{onClick:c,variant:"ghost",size:"iconMd","aria-label":s("task-archive-label","Archive"),tooltipContent:s("task-archive-label","Archive"),children:(0,a.jsx)(iX.Archive,{size:14})})]})}function on(e){let{name:t,description:s,params:n,example:r,isLast:i}=e,l=m.default.useMemo(()=>t.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" "),[t]);return(0,a.jsxs)("li",{className:(0,o.cn)("border-b pb-4",i&&"border-b-0"),children:[(0,a.jsx)("h3",{className:"text-fg-primary text-sm font-bold",children:l}),(0,a.jsxs)("blockquote",{className:"text-fg-secondary mb-2 italic font-semibold text-sm",children:["â€œ",r,"â€"]}),(0,a.jsx)("p",{className:"text-fg-secondary mt-1 text-sm",children:s}),(0,a.jsx)("ul",{className:"list-disc pl-6 mt-2 text-fg-secondary text-xs",children:n.map(e=>(0,a.jsxs)("li",{children:[e.name,": ",e.desc]},e.name))})]},t)}function or(e){let{toolsetId:t,toolsetName:s,toolsetDescription:n,functions:r}=e;return(0,a.jsxs)("section",{children:[(0,a.jsx)("h2",{id:t,className:"text-fg-primary text-lg font-extrabold mb-4",children:s}),n&&(0,a.jsx)("p",{className:"text-fg-secondary mb-4 text-sm",children:n}),(0,a.jsx)("ul",{className:"space-y-4 px-4",children:r.map((e,t)=>(0,a.jsx)(on,{...e,isLast:t===r.length-1},e.name))})]})}let oi=()=>{let e=[{name:"browse_page_model_choose_js",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"browse_page_model_choose_js_desc",defaults:"Visit a website and get a summary or specific info from it based on your instructions."}),params:[{name:"url",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"browse_page_model_choose_js_url_desc",defaults:"The web address of the page to visit."})},{name:"instructions",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"browse_page_model_choose_js_instructions_desc",defaults:"What to look for on the page, like a summary or key details."})},{name:"enable_js",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"browse_page_model_choose_js_enable_js_desc",defaults:"Turn on JavaScript if the page needs it to load content."})}],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"browse_page_model_choose_js_example",defaults:"Give me a summary of the main article on https://news.example.com"})}];return(0,a.jsx)(or,{toolsetId:"browse-ro",toolsetName:"Browse Web (Read Only)",functions:e})},oo=()=>{let{t:e}=(0,E.useTranslation)("tasks_docs"),t=[{name:"gcal_calendarlist_get",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gcal_calendarlist_get_desc",defaults:"Get details about a specific calendar in your list, like its name or color."}),params:[{name:"calendarId",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gcal_calendarlist_get_calendarId_desc",defaults:"The calendar to check, like 'primary' for your main one."})}],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gcal_calendarlist_get_example",defaults:"Tell me about my work calendar."})},{name:"gcal_calendarlist_list",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gcal_calendarlist_list_desc",defaults:"List all calendars you have access to, including shared ones."}),params:[],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gcal_calendarlist_list_example",defaults:"Show me all my calendars."})},{name:"gcal_calendars_get",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gcal_calendars_get_desc",defaults:"Get information about a calendar, such as its description or time zone."}),params:[{name:"calendarId",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gcal_calendars_get_calendarId_desc",defaults:"The calendar to look up, like 'primary' for your main one."})}],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gcal_calendars_get_example",defaults:"What are the details of my primary calendar?"})},{name:"gcal_events_get",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gcal_events_get_desc",defaults:"Get details of a specific event, like its time, location, or attendees."}),params:[{name:"calendarId",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gcal_events_get_calendarId_desc",defaults:"The calendar the event is in, like 'primary' for your main one."})},{name:"eventId",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gcal_events_get_eventId_desc",defaults:"The unique identifier for the event."})}],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gcal_events_get_example",defaults:"Give me the details of my meeting tomorrow."})},{name:"gcal_events_instances",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gcal_events_instances_desc",defaults:"List all occurrences of a repeating event."}),params:[{name:"calendarId",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gcal_events_instances_calendarId_desc",defaults:"The calendar the event is in, like 'primary' for your main one."})},{name:"eventId",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gcal_events_instances_eventId_desc",defaults:"The unique identifier for the repeating event."})}],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gcal_events_instances_example",defaults:"Show all instances of my weekly team meeting."})},{name:"gcal_events_list",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gcal_events_list_desc",defaults:"List events in a calendar over a certain time period."}),params:[{name:"calendarId",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gcal_events_list_calendarId_desc",defaults:"The calendar to list events from, like 'primary' for your main one."})},{name:"timeMin",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gcal_events_list_timeMin_desc",defaults:"The earliest time to include events from."})},{name:"timeMax",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gcal_events_list_timeMax_desc",defaults:"The latest time to include events up to."})}],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gcal_events_list_example",defaults:"What's on my calendar for next week?"})},{name:"gcal_freebusy_query",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gcal_freebusy_query_desc",defaults:"Check when calendars are free or busy in a time range."}),params:[{name:"data",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gcal_freebusy_query_data_desc",defaults:"Details like the time range and calendars to check."})}],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gcal_freebusy_query_example",defaults:"Find a free time slot for me and my team next Tuesday."})}],s=[{name:"gcal_events_delete",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gcal_events_delete_desc",defaults:"Remove an event from a calendar."}),params:[{name:"calendarId",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gcal_events_delete_calendarId_desc",defaults:"The calendar the event is in, like 'primary' for your main one."})},{name:"eventId",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gcal_events_delete_eventId_desc",defaults:"The unique identifier for the event to remove."})}],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gcal_events_delete_example",defaults:"Cancel my dentist appointment on Friday."})},{name:"gcal_events_import",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gcal_events_import_desc",defaults:"Add an event from another source into your calendar."}),params:[{name:"calendarId",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gcal_events_import_calendarId_desc",defaults:"The calendar to add the event to, like 'primary' for your main one."})},{name:"data",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gcal_events_import_data_desc",defaults:"Details of the event to import."})}],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gcal_events_import_example",defaults:"Import this concert ticket event to my calendar."})},{name:"gcal_events_insert",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gcal_events_insert_desc",defaults:"Create a new event in a calendar."}),params:[{name:"calendarId",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gcal_events_insert_calendarId_desc",defaults:"The calendar to add the event to, like 'primary' for your main one."})},{name:"data",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gcal_events_insert_data_desc",defaults:"Details like the event title, start time, and end time."})}],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gcal_events_insert_example",defaults:"Add a birthday party for Saturday at 2pm."})},{name:"gcal_events_move",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gcal_events_move_desc",defaults:"Move an event to a different calendar."}),params:[{name:"calendarId",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gcal_events_move_calendarId_desc",defaults:"The current calendar the event is in, like 'primary' for your main one."})},{name:"eventId",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gcal_events_move_eventId_desc",defaults:"The unique identifier for the event to move."})},{name:"destination",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gcal_events_move_destination_desc",defaults:"The calendar to move the event to."})}],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gcal_events_move_example",defaults:"Move my workout event to my fitness calendar."})},{name:"gcal_events_patch",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gcal_events_patch_desc",defaults:"Update some parts of an existing event."}),params:[{name:"calendarId",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gcal_events_patch_calendarId_desc",defaults:"The calendar the event is in, like 'primary' for your main one."})},{name:"eventId",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gcal_events_patch_eventId_desc",defaults:"The unique identifier for the event to update."})},{name:"data",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gcal_events_patch_data_desc",defaults:"The changes, like a new title or time."})}],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gcal_events_patch_example",defaults:"Change the time of my lunch meeting to 1pm."})},{name:"gcal_events_quick_add",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gcal_events_quick_add_desc",defaults:"Quickly add an event using simple words."}),params:[{name:"calendarId",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gcal_events_quick_add_calendarId_desc",defaults:"The calendar to add to, like 'primary' for your main one."})},{name:"text",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gcal_events_quick_add_text_desc",defaults:"A description like 'Dinner at 7pm tomorrow'."})}],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gcal_events_quick_add_example",defaults:"Add yoga class every Wednesday at 6pm."})},{name:"gcal_events_update",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gcal_events_update_desc",defaults:"Fully replace details of an existing event."}),params:[{name:"calendarId",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gcal_events_update_calendarId_desc",defaults:"The calendar the event is in, like 'primary' for your main one."})},{name:"eventId",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gcal_events_update_eventId_desc",defaults:"The unique identifier for the event to replace."})},{name:"data",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gcal_events_update_data_desc",defaults:"All new details for the event."})}],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gcal_events_update_example",defaults:"Update my vacation event with new dates and location."})}],n=e("gcal_all_includes","Includes all functions from Google Calendar (Read Only) plus the following:");return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(or,{toolsetId:"gcal-ro",toolsetName:"Google Calendar (Read Only)",functions:t}),(0,a.jsx)(or,{toolsetId:"gcal",toolsetName:"Google Calendar (All)",functions:s,toolsetDescription:n})]})},ol=()=>{let{t:e}=(0,E.useTranslation)("tasks_docs"),t=[{name:"gmail_get_profile",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gmail_get_profile_desc",defaults:"Get your Gmail profile information, including your email address."}),params:[],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gmail_get_profile_example",defaults:"Show my Gmail profile details"})},{name:"gmail_labels_list",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gmail_labels_list_desc",defaults:"List all labels in your Gmail mailbox, like Inbox or Sent."}),params:[],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gmail_labels_list_example",defaults:"What labels do I have in Gmail"})},{name:"gmail_labels_get",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gmail_labels_get_desc",defaults:"Get details about a specific label in your mailbox."}),params:[{name:"id",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gmail_labels_get_id_desc",defaults:"The ID of the label to look up"})}],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gmail_labels_get_example",defaults:"Tell me about my Inbox label in Gmail"})},{name:"gmail_messages_get",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gmail_messages_get_desc",defaults:"Get details of a specific email, like its body or attachments."}),params:[{name:"id",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gmail_messages_get_id_desc",defaults:"The ID of the email to retrieve"})},{name:"format",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gmail_messages_get_format_desc",defaults:"Level of detail, like basic or full"})},{name:"metadataHeaders",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gmail_messages_get_metadataHeaders_desc",defaults:"Specific email headers to include"})}],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gmail_messages_get_example",defaults:"Show me the full details of that recent email"})},{name:"gmail_messages_list",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gmail_messages_list_desc",defaults:"List emails that match a search query."}),params:[{name:"includeSpamTrash",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gmail_messages_list_includeSpamTrash_desc",defaults:"Include emails from spam and trash folders"})},{name:"labelIds",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gmail_messages_list_labelIds_desc",defaults:"Labels to filter emails by"})},{name:"maxResults",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gmail_messages_list_maxResults_desc",defaults:"Number of emails to return"})},{name:"pageToken",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gmail_messages_list_pageToken_desc",defaults:"Token for the next page of results"})},{name:"q",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gmail_messages_list_q_desc",defaults:"Search query, like from a specific sender"})}],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gmail_messages_list_example",defaults:"Find emails from my boss in the last week"})},{name:"gmail_threads_get",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gmail_threads_get_desc",defaults:"Get details of a specific email conversation thread."}),params:[{name:"id",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gmail_threads_get_id_desc",defaults:"The ID of the thread to retrieve"})},{name:"format",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gmail_threads_get_format_desc",defaults:"Level of detail for messages in the thread"})},{name:"metadataHeaders",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gmail_threads_get_metadataHeaders_desc",defaults:"Specific headers to include for messages"})}],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gmail_threads_get_example",defaults:"Show the full conversation from that email chain"})},{name:"gmail_threads_list",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gmail_threads_list_desc",defaults:"List email conversation threads that match a search query."}),params:[{name:"includeSpamTrash",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gmail_threads_list_includeSpamTrash_desc",defaults:"Include threads from spam and trash folders"})},{name:"labelIds",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gmail_threads_list_labelIds_desc",defaults:"Labels to filter threads by"})},{name:"maxResults",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gmail_threads_list_maxResults_desc",defaults:"Number of threads to return"})},{name:"pageToken",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gmail_threads_list_pageToken_desc",defaults:"Token for the next page of results"})},{name:"q",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gmail_threads_list_q_desc",defaults:"Search query, like from a specific sender"})}],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gmail_threads_list_example",defaults:"List recent conversation threads in my inbox"})}],s=[{name:"gmail_send_new_email",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gmail_send_new_email_desc",defaults:"Send a new email message."}),params:[{name:"to",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gmail_send_new_email_to_desc",defaults:"Email addresses to send to"})},{name:"subject",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gmail_send_new_email_subject_desc",defaults:"Subject line of the email"})},{name:"message_text",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gmail_send_new_email_message_text_desc",defaults:"Plain text body of the email"})},{name:"message_html",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gmail_send_new_email_message_html_desc",defaults:"HTML version of the email body"})},{name:"cc",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gmail_send_new_email_cc_desc",defaults:"Email addresses to CC"})},{name:"bcc",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gmail_send_new_email_bcc_desc",defaults:"Email addresses to BCC"})}],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gmail_send_new_email_example",defaults:"Send an email to friend@example.com with subject Hello and body Hope you're well"})},{name:"gmail_reply_to_email",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gmail_reply_to_email_desc",defaults:"Send a reply to an existing email."}),params:[{name:"to",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gmail_reply_to_email_to_desc",defaults:"Email addresses to reply to"})},{name:"message_text",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gmail_reply_to_email_message_text_desc",defaults:"Plain text body of the reply"})},{name:"in_reply_to",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gmail_reply_to_email_in_reply_to_desc",defaults:"ID of the email being replied to"})},{name:"references",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gmail_reply_to_email_references_desc",defaults:"References for keeping the conversation threaded"})},{name:"thread_id",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gmail_reply_to_email_thread_id_desc",defaults:"ID of the conversation thread"})},{name:"message_html",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gmail_reply_to_email_message_html_desc",defaults:"HTML version of the reply body"})},{name:"cc",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gmail_reply_to_email_cc_desc",defaults:"Email addresses to CC"})},{name:"bcc",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gmail_reply_to_email_bcc_desc",defaults:"Email addresses to BCC"})}],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gmail_reply_to_email_example",defaults:"Reply to that email saying Thanks for the update"})},{name:"gmail_reply_to_all",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gmail_reply_to_all_desc",defaults:"Send a reply to all recipients of an existing email."}),params:[{name:"message_text",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gmail_reply_to_all_message_text_desc",defaults:"Plain text body of the reply"})},{name:"in_reply_to",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gmail_reply_to_all_in_reply_to_desc",defaults:"ID of the email being replied to"})},{name:"references",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gmail_reply_to_all_references_desc",defaults:"References for keeping the conversation threaded"})},{name:"thread_id",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gmail_reply_to_all_thread_id_desc",defaults:"ID of the conversation thread"})},{name:"message_html",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gmail_reply_to_all_message_html_desc",defaults:"HTML version of the reply body"})},{name:"bcc",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gmail_reply_to_all_bcc_desc",defaults:"Email addresses to BCC"})},{name:"additional_cc",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gmail_reply_to_all_additional_cc_desc",defaults:"Extra email addresses to CC"})}],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"gmail_reply_to_all_example",defaults:"Reply to all on that group email with Sounds good"})}],n=e("gmail_all_includes","Includes all functions from Gmail (Read Only) plus the following:");return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(or,{toolsetId:"gmail-ro",toolsetName:"Gmail (Read Only)",functions:t}),(0,a.jsx)(or,{toolsetId:"gmail",toolsetName:"Gmail (All)",functions:s,toolsetDescription:n})]})},oc=()=>{let e=[{name:"notion_create_comment",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_create_comment_desc",defaults:"Create a new comment on a page or reply in a discussion thread."}),params:[{name:"rich_text",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_create_comment_rich_text_desc",defaults:"The content of the comment."})},{name:"parent_page_id",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_create_comment_parent_page_id_desc",defaults:"ID of the page to add the comment to (starts a new thread)."})},{name:"discussion_id",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_create_comment_discussion_id_desc",defaults:"ID of the discussion thread to reply in."})}],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_create_comment_example",defaults:"Add a comment 'Looks good!' to the discussion on my notes page."})},{name:"notion_create_database",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_create_database_desc",defaults:"Create a new database inside a page."}),params:[{name:"parent_page_id",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_create_database_parent_page_id_desc",defaults:"ID of the page where the database will be added."})},{name:"properties",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_create_database_properties_desc",defaults:"The columns and types for the database."})},{name:"title",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_create_database_title_desc",defaults:"Title of the database."})},{name:"description",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_create_database_description_desc",defaults:"Description of the database."})},{name:"is_inline",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_create_database_is_inline_desc",defaults:"Whether to show the database inline on the page."})}],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_create_database_example",defaults:"Make a new task database in my workspace page with columns for name and status."})},{name:"notion_create_page",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_create_page_desc",defaults:"Create a new page inside another page or database."}),params:[{name:"properties",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_create_page_properties_desc",defaults:"Details like title or other fields for the page."})},{name:"parent_page_id",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_create_page_parent_page_id_desc",defaults:"ID of the parent page."})},{name:"parent_database_id",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_create_page_parent_database_id_desc",defaults:"ID of the parent database."})},{name:"children",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_create_page_children_desc",defaults:"Initial content blocks for the page."})},{name:"icon",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_create_page_icon_desc",defaults:"Icon for the page."})},{name:"cover",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_create_page_cover_desc",defaults:"Cover image for the page."})}],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_create_page_example",defaults:"Add a new page called 'Meeting Notes' under my team page with some bullet points."})},{name:"notion_update_database",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_update_database_desc",defaults:"Update a database's title, description, or columns."}),params:[{name:"database_id",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_update_database_database_id_desc",defaults:"ID of the database to update."})},{name:"title",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_update_database_title_desc",defaults:"New title for the database."})},{name:"description",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_update_database_description_desc",defaults:"New description for the database."})},{name:"properties",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_update_database_properties_desc",defaults:"Updated columns for the database."})}],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_update_database_example",defaults:"Change the title of my task database to 'Project Tasks'."})},{name:"notion_update_page",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_update_page_desc",defaults:"Update a page's details or archive it."}),params:[{name:"page_id",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_update_page_page_id_desc",defaults:"ID of the page to update."})},{name:"properties",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_update_page_properties_desc",defaults:"Updated details for the page."})},{name:"archived",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_update_page_archived_desc",defaults:"Whether to archive the page."})},{name:"icon",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_update_page_icon_desc",defaults:"Updated icon for the page."})},{name:"cover",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_update_page_cover_desc",defaults:"Updated cover for the page."})}],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_update_page_example",defaults:"Update the status on my task page to 'Done'."})},{name:"notion_delete_block",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_delete_block_desc",defaults:"Archive a block and its content."}),params:[{name:"block_id",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_delete_block_block_id_desc",defaults:"ID of the block to archive."})}],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_delete_block_example",defaults:"Remove the old paragraph block from my notes page."})},{name:"notion_append_block_children",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_append_block_children_desc",defaults:"Add new content blocks to a page or block."}),params:[{name:"block_id",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_append_block_children_block_id_desc",defaults:"ID of the parent page or block."})},{name:"children",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_append_block_children_children_desc",defaults:"New content blocks to add."})},{name:"after",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_append_block_children_after_desc",defaults:"ID of the block to add after."})}],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_append_block_children_example",defaults:"Add a new todo list to the end of my daily page."})},{name:"notion_update_block",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_update_block_desc",defaults:"Update the content of a block or archive it."}),params:[{name:"block_id",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_update_block_block_id_desc",defaults:"ID of the block to update."})},{name:"block_data",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_update_block_block_data_desc",defaults:"Updated content for the block."})},{name:"archived",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_update_block_archived_desc",defaults:"Whether to archive the block."})}],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_update_block_example",defaults:"Change the text in the heading block on my page to 'Updated Title'."})}],t=[{name:"notion_retrieve_comments",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_retrieve_comments_desc",defaults:"Get comments from a page or discussion thread."}),params:[{name:"block_id",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_retrieve_comments_block_id_desc",defaults:"ID of the page or block to get comments for."})},{name:"discussion_id",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_retrieve_comments_discussion_id_desc",defaults:"ID of the discussion thread."})},{name:"start_cursor",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_retrieve_comments_start_cursor_desc",defaults:"Starting point for more results."})},{name:"page_size",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_retrieve_comments_page_size_desc",defaults:"Number of comments to get at once."})}],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_retrieve_comments_example",defaults:"Show me the comments on my project page."})},{name:"notion_retrieve_database",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_retrieve_database_desc",defaults:"Get details about a database, like its columns."}),params:[{name:"database_id",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_retrieve_database_database_id_desc",defaults:"ID of the database."})}],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_retrieve_database_example",defaults:"What columns are in my task database?"})},{name:"notion_query_database",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_query_database_desc",defaults:"Search and filter items in a database."}),params:[{name:"database_id",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_query_database_database_id_desc",defaults:"ID of the database to search."})},{name:"filter",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_query_database_filter_desc",defaults:"Rules to filter results."})},{name:"sorts",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_query_database_sorts_desc",defaults:"How to order the results."})},{name:"start_cursor",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_query_database_start_cursor_desc",defaults:"Starting point for more results."})},{name:"page_size",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_query_database_page_size_desc",defaults:"Number of results to get at once."})},{name:"filter_properties",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_query_database_filter_properties_desc",defaults:"Specific columns to include."})}],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_query_database_example",defaults:"Find all completed tasks in my database sorted by date."})},{name:"notion_retrieve_page",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_retrieve_page_desc",defaults:"Get details about a page."}),params:[{name:"page_id",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_retrieve_page_page_id_desc",defaults:"ID of the page."})}],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_retrieve_page_example",defaults:"Show me the properties of my home page."})},{name:"notion_retrieve_block",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_retrieve_block_desc",defaults:"Get details about a content block."}),params:[{name:"block_id",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_retrieve_block_block_id_desc",defaults:"ID of the block."})}],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_retrieve_block_example",defaults:"What's in that paragraph block on my page?"})},{name:"notion_retrieve_block_children",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_retrieve_block_children_desc",defaults:"List content inside a page or block."}),params:[{name:"block_id",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_retrieve_block_children_block_id_desc",defaults:"ID of the page or block."})},{name:"start_cursor",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_retrieve_block_children_start_cursor_desc",defaults:"Starting point for more results."})},{name:"page_size",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_retrieve_block_children_page_size_desc",defaults:"Number of items to get at once."})}],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_retrieve_block_children_example",defaults:"List everything on my notes page."})},{name:"notion_retrieve_user",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_retrieve_user_desc",defaults:"Get details about a user."}),params:[{name:"user_id",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_retrieve_user_user_id_desc",defaults:"ID of the user."})}],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_retrieve_user_example",defaults:"Who is the user with that ID in my workspace?"})},{name:"notion_retrieve_page_property",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_retrieve_page_property_desc",defaults:"Get a specific detail from a page."}),params:[{name:"page_id",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_retrieve_page_property_page_id_desc",defaults:"ID of the page."})},{name:"property_id",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_retrieve_page_property_property_id_desc",defaults:"ID of the detail to get."})},{name:"start_cursor",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_retrieve_page_property_start_cursor_desc",defaults:"Starting point for more results."})},{name:"page_size",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_retrieve_page_property_page_size_desc",defaults:"Number of items to get at once."})}],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_retrieve_page_property_example",defaults:"Whatâ€™s the status property on my task page?"})},{name:"notion_list_users",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_list_users_desc",defaults:"List users in the workspace."}),params:[{name:"start_cursor",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_list_users_start_cursor_desc",defaults:"Starting point for more results."})},{name:"page_size",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_list_users_page_size_desc",defaults:"Number of users to get at once."})}],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_list_users_example",defaults:"Show all users in my Notion workspace."})},{name:"notion_retrieve_bot_user",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_retrieve_bot_user_desc",defaults:"Get details about the connected bot user."}),params:[],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_retrieve_bot_user_example",defaults:"Tell me about the bot connected to my Notion."})},{name:"notion_search",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_search_desc",defaults:"Search for pages and databases by title."}),params:[{name:"query",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_search_query_desc",defaults:"Search term for titles."})},{name:"sort",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_search_sort_desc",defaults:"How to order results."})},{name:"filter",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_search_filter_desc",defaults:"Filter by type like page or database."})},{name:"start_cursor",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_search_start_cursor_desc",defaults:"Starting point for more results."})},{name:"page_size",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_search_page_size_desc",defaults:"Number of results to get at once."})}],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"notion_search_example",defaults:"Search for pages with 'project' in the title."})}],{t:s}=(0,E.useTranslation)("tasks_docs"),n=s("notion_all_includes","Includes all functions from Notion (Read Only) plus the following:");return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(or,{toolsetId:"notion-ro",toolsetName:"Notion (Read Only)",functions:t}),(0,a.jsx)(or,{toolsetId:"notion",toolsetName:"Notion (All)",functions:e,toolsetDescription:n})]})},od=()=>{let{t:e}=(0,E.useTranslation)("tasks_docs"),t=[{name:"slack_list_channels",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_list_channels_desc",defaults:"List public channels in the workspace with pagination."}),params:[{name:"limit",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_list_channels_limit_desc",defaults:"How many channels to return (up to 200)"})},{name:"cursor",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_list_channels_cursor_desc",defaults:"Cursor for the next page of results"})}],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_list_channels_example",defaults:"List the first 50 channels in my workspace"})},{name:"slack_get_channel_by_name",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_get_channel_by_name_desc",defaults:"Get a channel by name."}),params:[{name:"channel_name",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_get_channel_by_name_channel_name_desc",defaults:"The name of the channel"})}],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_get_channel_by_name_example",defaults:"Find the details of the channel named announcements"})},{name:"slack_get_conversation_history",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_get_conversation_history_desc",defaults:"Get recent messages from a conversation."}),params:[{name:"channel",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_get_conversation_history_channel_desc",defaults:"The ID of the channel, group, or direct message"})},{name:"limit",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_get_conversation_history_limit_desc",defaults:"How many messages to retrieve"})}],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_get_conversation_history_example",defaults:"Show me the last 20 messages in the team-chat channel"})},{name:"slack_get_thread_replies",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_get_thread_replies_desc",defaults:"Get all replies in a message thread."}),params:[{name:"channel",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_get_thread_replies_channel_desc",defaults:"The ID of the channel, group, or direct message containing the thread"})},{name:"thread_ts",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_get_thread_replies_thread_ts_desc",defaults:"The timestamp of the parent message"})}],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_get_thread_replies_example",defaults:"Get all replies to that message about the project update"})},{name:"slack_list_users",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_list_users_desc",defaults:"Get a list of all users in the workspace with their basic profile information."}),params:[{name:"limit",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_list_users_limit_desc",defaults:"How many users to return (up to 50)"})},{name:"cursor",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_list_users_cursor_desc",defaults:"Cursor for the next page of results"})}],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_list_users_example",defaults:"List the first 20 users in my workspace"})},{name:"slack_get_user_profile",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_get_user_profile_desc",defaults:"Get detailed profile information for a specific user."}),params:[{name:"user",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_get_user_profile_user_desc",defaults:"The ID of the user"})}],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_get_user_profile_example",defaults:"Show me the profile for user Jane Doe"})},{name:"slack_get_conversation_info",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_get_conversation_info_desc",defaults:"Retrieve information about a conversation, including name, purpose, and topic."}),params:[{name:"channel",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_get_conversation_info_channel_desc",defaults:"The ID of the conversation"})},{name:"include_locale",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_get_conversation_info_include_locale_desc",defaults:"Whether to include the locale information (yes or no)"})}],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_get_conversation_info_example",defaults:"What is the purpose of the marketing channel?"})},{name:"slack_list_conversation_members",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_list_conversation_members_desc",defaults:"Lists all users in a conversation with pagination."}),params:[{name:"channel",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_list_conversation_members_channel_desc",defaults:"The ID of the conversation"})},{name:"limit",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_list_conversation_members_limit_desc",defaults:"How many members to return per page (up to 1000)"})},{name:"cursor",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_list_conversation_members_cursor_desc",defaults:"Cursor for the next page of results"})}],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_list_conversation_members_example",defaults:"Who are the members of the support channel?"})},{name:"slack_get_user_info",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_get_user_info_desc",defaults:"Retrieves information about a user, including profile and status."}),params:[{name:"user",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_get_user_info_user_desc",defaults:"The ID of the user"})}],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_get_user_info_example",defaults:"Get info on the user with ID U123"})},{name:"slack_search_messages",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_search_messages_desc",defaults:"Searches for Slack messages matching the query."}),params:[{name:"query",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_search_messages_query_desc",defaults:"The search term, like keyword in:channel"})},{name:"count",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_search_messages_count_desc",defaults:"How many items per page (up to 100)"})},{name:"cursor",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_search_messages_cursor_desc",defaults:"Cursor for the next page of results"})}],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_search_messages_example",defaults:"Search for messages about budget in the finance channel"})},{name:"slack_get_basic_user_info_by_ids",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_get_basic_user_info_by_ids_desc",defaults:"Get the username, real name, avatar URL, and email for a list of users."}),params:[{name:"user_ids",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_get_basic_user_info_by_ids_user_ids_desc",defaults:"The list of user IDs to fetch information for."})}],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_get_basic_user_info_by_ids_example",defaults:"Tell me the names and email addresses for these users."})},{name:"slack_get_permalinks_for_channel_messages",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_get_permalinks_for_channel_messages_desc",defaults:"Get the web links for specific messages in a channel, useful for sharing direct links to messages."}),params:[{name:"channel",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_get_permalinks_for_channel_messages_channel_desc",defaults:"The channel ID where the messages are."})},{name:"timestamps",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_get_permalinks_for_channel_messages_timestamps_desc",defaults:"The list of message timestamps to get links for."})}],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_get_permalinks_for_channel_messages_example",defaults:"Give me the direct link to that message in the team channel."})}],s=[{name:"slack_post_message",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_post_message_desc",defaults:"Post a new message to a Slack channel, group, direct message, or user."}),params:[{name:"channel",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_post_message_channel_desc",defaults:"The ID of the channel, group, direct message, or user"})},{name:"text",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_post_message_text_desc",defaults:"The message text"})}],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_post_message_example",defaults:"Send a message saying Hello everyone to the general channel"})},{name:"slack_reply_to_thread",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_reply_to_thread_desc",defaults:"Reply to a specific message thread in Slack."}),params:[{name:"channel",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_reply_to_thread_channel_desc",defaults:"The ID of the channel, group, or direct message containing the thread"})},{name:"thread_ts",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_reply_to_thread_thread_ts_desc",defaults:"The timestamp of the parent message"})},{name:"text",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_reply_to_thread_text_desc",defaults:"The reply text"})}],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_reply_to_thread_example",defaults:"Reply to that thread with Thanks for the update"})},{name:"slack_add_reaction",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_add_reaction_desc",defaults:"Add a reaction emoji to a message."}),params:[{name:"channel",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_add_reaction_channel_desc",defaults:"The ID of the channel, group, or direct message containing the message"})},{name:"timestamp",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_add_reaction_timestamp_desc",defaults:"The timestamp of the message"})},{name:"reaction",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_add_reaction_reaction_desc",defaults:"The name of the emoji reaction"})}],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_add_reaction_example",defaults:"Add a thumbs up reaction to the latest message in the channel"})},{name:"slack_join_conversation",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_join_conversation_desc",defaults:"Joins an existing conversation. Returns conversation details if successful, or errors if the channel is archived."}),params:[{name:"channel",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_join_conversation_channel_desc",defaults:"The ID of the conversation to join"})}],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_join_conversation_example",defaults:"Join the design-team channel"})},{name:"slack_leave_conversation",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_leave_conversation_desc",defaults:"Leaves a conversation. Cannot leave general or archived channels in some cases."}),params:[{name:"channel",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_leave_conversation_channel_desc",defaults:"The ID of the conversation to leave"})}],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"slack_leave_conversation_example",defaults:"Leave the old-project channel"})}],n=e("slack_all_includes","Includes all functions from Slack (Read Only) plus the following:");return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(or,{toolsetId:"slack-ro",toolsetName:"Slack (Read Only)",functions:t}),(0,a.jsx)(or,{toolsetId:"slack",toolsetName:"Slack (All)",functions:s,toolsetDescription:n})]})},ou=()=>{let e=[{name:"x_search",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"x_search_desc",defaults:"Search X for posts using keywords or related ideas. Great for news, sports, celebrities, real-time talks, or breaking updates."}),params:[{name:"query",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"x_search_query_desc",defaults:"Search terms, like 'nasa OR esa' for keywords or a phrase like 'latest space missions' for related ideas."})},{name:"usernames",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"x_search_usernames_desc",defaults:"List of user handles to search posts from."})},{name:"search_type",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"x_search_search_type_desc",defaults:"Choose 'keyword' for exact matches or 'embedding' for related ideas."})},{name:"from_date",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"x_search_from_date_desc",defaults:"Start date for posts, like '2023-01-01'."})},{name:"to_date",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"x_search_to_date_desc",defaults:"End date for posts, like '2023-12-31'."})}],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"x_search_example",defaults:"What's the buzz on X about the latest tech gadgets?"})},{name:"x_keyword_search",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"x_keyword_search_desc",defaults:"Advanced keyword search for X posts using special filters like dates or media types."}),params:[{name:"query",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"x_keyword_search_query_desc",defaults:"Search phrase with options like 'puppy OR kitten filter:images'."})},{name:"limit",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"x_keyword_search_limit_desc",defaults:"Number of posts to show."})},{name:"mode",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"x_keyword_search_mode_desc",defaults:"Sort by 'Top' (popular) or 'Latest' (newest)."})}],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"x_keyword_search_example",defaults:"Find top posts about cute animals with images."})},{name:"x_semantic_search",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"x_semantic_search_desc",defaults:"Find X posts related to an idea or topic, not just exact words."}),params:[{name:"query",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"x_semantic_search_query_desc",defaults:"Idea or topic to search for, like 'funny cat stories'."})},{name:"limit",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"x_semantic_search_limit_desc",defaults:"Number of posts to show."})},{name:"from_date",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"x_semantic_search_from_date_desc",defaults:"Start date for posts, like '2023-01-01'."})},{name:"to_date",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"x_semantic_search_to_date_desc",defaults:"End date for posts, like '2023-12-31'."})},{name:"exclude_usernames",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"x_semantic_search_exclude_usernames_desc",defaults:"User handles to skip."})},{name:"usernames",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"x_semantic_search_usernames_desc",defaults:"User handles to include only."})},{name:"min_score_threshold",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"x_semantic_search_min_score_threshold_desc",defaults:"Minimum match level for posts."})}],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"x_semantic_search_example",defaults:"Show me posts related to space travel adventures."})},{name:"get_x_user_timeline",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"get_x_user_timeline_desc",defaults:"Get recent posts from a user's X timeline."}),params:[{name:"query",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"get_x_user_timeline_query_desc",defaults:"Filters like 'within_time:7d' for the last week."})},{name:"username",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"get_x_user_timeline_username_desc",defaults:"The user's X handle."})}],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"get_x_user_timeline_example",defaults:"Show me Elon Musk's recent posts."})},{name:"get_top_us_news_from_x_trends",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"get_top_us_news_from_x_trends_desc",defaults:"Get top US news from X trends. Use with web and X searches for full updates."}),params:[],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"get_top_us_news_from_x_trends_example",defaults:"What's the top news in the US right now?"})},{name:"x_post_lookup",description:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"x_post_lookup_desc",defaults:"Look up a specific X post by its ID."}),params:[{name:"post_id",desc:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"x_post_lookup_post_id_desc",defaults:"The post's unique number."})}],example:(0,a.jsx)(iT.Trans,{ns:"tasks_docs",i18nKey:"x_post_lookup_example",defaults:"Tell me about this X post: 1234567890"})}];return(0,a.jsx)("div",{children:(0,a.jsx)(or,{toolsetId:"x-ro",toolsetName:"ð• Tools (Read Only)",functions:e})})};function oh(){let{t:e}=(0,E.useTranslation)("tasks_docs"),t=e("tool_overview","Tools let Grok connect to external services for practical tasks, like chatting in Slack channels, managing emails (reading, sending), or handling calendars. In short, they transform Grok from a mere thinker into an active doer in daily life. Check back regularly for tool updates."),s=e("tool_overview_title","Overview");return(0,a.jsx)("div",{className:"-mb-4",children:(0,a.jsx)(or,{toolsetId:"overview",toolsetName:s,toolsetDescription:t,functions:[]})})}let om=[{id:"overview",name:"Overview"},{id:"slack-ro",name:"Slack"},{id:"gmail-ro",name:"Gmail"},{id:"gcal-ro",name:"Google Calendar"},{id:"x-ro",name:"ð• Tool"},{id:"notion-ro",name:"Notion"},{id:"browse-ro",name:"Browse Web"}],op=m.default.memo(function(){let e=(0,ne.useTasksStore)(D.prop("toolDocsDialogIsOpen")),t=(0,ne.useTasksStore)(D.prop("setToolDocsDialogIsOpen")),{t:s}=(0,E.useTranslation)("tasks_docs"),n=(0,Y.useMobileSize)(),i=m.default.useCallback(()=>{t(!1)},[t]);return(0,a.jsx)(st.Dialog,{open:e,onOpenChange:i,children:(0,a.jsxs)(st.DialogContent,{className:"flex flex-col rounded-3xl border border-border-l1 w-full max-w-[750px] max-h-[calc(100vh-100px)] p-4",children:[(0,a.jsx)(st.DialogHeader,{children:(0,a.jsx)(st.DialogTitle,{children:(0,a.jsxs)("div",{className:"flex w-full items-center justify-between px-2",children:[(0,a.jsx)("h1",{className:"font-semibold text-lg",children:s("tool-docs-title",{defaultValue:"Grok Tool Documentation"})}),(0,a.jsx)(r.Button,{variant:"ghost",size:"iconMd",onClick:i,"aria-label":s("close-tool-docs","close tool docs"),children:(0,a.jsx)(h.X,{size:16})})]})})}),(0,a.jsxs)("div",{className:"flex flex-row gap-1",children:[!n&&(0,a.jsx)("div",{className:"w-[250px] overflow-y-auto max-h-[calc(100vh-200px)]",children:om.map(e=>(0,a.jsx)("div",{className:"flex flex-col gap-2",children:(0,a.jsx)(r.Button,{className:"w-full justify-start px-2 ",variant:"ghost",size:"icon",onClick:()=>{let t=document.getElementById(e.id);t&&t.scrollIntoView({behavior:"smooth"})},children:(0,a.jsx)("span",{className:"text-md font-semibold text-fg-secondary",children:e.name})})},e.id))}),(0,a.jsxs)("div",{className:"overflow-y-auto max-h-[calc(100vh-200px)]  w-full px-4 py-2 flex flex-col gap-10",children:[(0,a.jsx)(oh,{}),(0,a.jsx)(od,{}),(0,a.jsx)(ol,{}),(0,a.jsx)(oo,{}),(0,a.jsx)(ou,{}),(0,a.jsx)(oc,{}),(0,a.jsx)(oi,{})]})]})]})})});function of(e){var t;let{children:s}=e,r=(0,i.useFeatureFlags)(),o=(0,i.useVerifyIntegrity)(r),l=(0,eh.useLogEvent)(),{os:c}=(0,em.useOs)(),d=(0,v.useSession)(),u=(0,I.usePathname)(),h=(0,C.useSettingsStore)(D.prop("showAgeVerification")),g=(0,C.useSettingsStore)(D.prop("ageVerificationBehavior")),_=(0,C.useSettingsStore)(D.prop("ageVerificationCallback")),M=(0,ne.useTasksStore)(D.prop("createDialogIsOpen")),R=(0,C.useSettingsStore)(e=>e.userSettings.preferences.enableStarBackground),K=(0,ey.getQueryClient)();(function(e,t){let[s,a]=(0,p.useLocalStorage)("hasPreviouslyInitUserSettings",!1),n=(0,ey.getQueryClient)(),{isEnterpriseUser:r}=(0,eq.useSubscriptions)(),i=(0,eh.useLogEvent)();(0,m.useEffect)(()=>{var o,l;if(!e.user)return;if(null==(l=e.user)||null==(o=l.email)?void 0:o.endsWith("@x.ai"));else if(tf(e.countryCode)){if(i("initialize_gdpr_user_settings",e.countryCode,{location:"loadout",countryCode:e.countryCode||"",hasPreviouslyInitUserSettings:String(s)}),!s)return void C.useSettingsStore.getState().initializeGdprUserSettings().then(()=>a(!0)).catch(()=>(0,w.logError)("loadout","Failed to initialize GDPR user settings"))}else if(r)return void C.useSettingsStore.getState().initializeEnterpriseUserSettings().catch(()=>(0,w.logError)("loadout","Failed to initialize enterprise user settings"));let c=n.getQueryData(s$);t&&c&&c.preferences?C.useSettingsStore.getState().loadFromPrefetch(c):C.useSettingsStore.getState().fetchGetUserSettings().catch(()=>(0,w.logError)("loadout","Failed to load user settings"))},[e.user])})(d,!0),function(e){let{personalityPresets:t}=function(){let e=(0,i.useFeatureFlags)(),{t}=(0,E.useTranslation)("base"),s=(0,m.useMemo)(()=>{let s={concise:t("personality.concise.name","Concise"),formal:t("personality.formal.name","Formal"),socratic:t("personality.socratic.name","Socratic")},a={concise:t("personality.concise.description","Responds briefly and directly."),formal:t("personality.formal.description","Responds using a formal tone."),socratic:t("personality.socratic.description","Responds in a way to help you learn.")},n=(e.PERSONALITY_PRESETS.value.personalityPresets&&Array.isArray(e.PERSONALITY_PRESETS.value.personalityPresets)?e.PERSONALITY_PRESETS.value.personalityPresets:[]).map(e=>N.personalitySchema.safeParse(e)).filter(e=>e.success).map(e=>{var t,n;let{data:r}=e;return{...r,isPreset:!0,name:null!=(t=s[r.personalityId])?t:r.name,description:null!=(n=a[r.personalityId])?n:r.description}});return S.default.keyBy(n,e=>e.personalityId)},[e.PERSONALITY_PRESETS.value,t]);return{personalityPresets:(0,m.useMemo)(()=>Object.values(s),[s]),personalityPresetById:s}}();(0,m.useEffect)(()=>{N.usePersonalityStore.getState().appendPersonalities(t)},[t]),(0,m.useEffect)(()=>{e.user&&N.usePersonalityStore.getState().fetchListPersonalities().catch(e=>(0,w.logError)("loadout:fetchList","Failed to load custom personalities: ".concat(e)))},[e.user])}(d),function(e){let t=(0,eq.useSubscriptions)();(0,m.useEffect)(()=>{if((e.user||e.anonUser)&&!t.isPending){var s;a7.useSubscriptionsStore.setState({hasSubscriptions:!!(null==(s=t.activeSubscriptions)?void 0:s.length),activeSubscriptions:t.activeSubscriptions,bestSubscription:t.bestSubscription})}},[t.activeSubscriptions,e.user,e.anonUser,t.isPending,t.bestSubscription])}(d),function(e){let t=(0,j.useModels)();(0,m.useEffect)(()=>{(e.user||e.anonUser)&&(t.isPending||T.useModelsStore.setState(t))},[t,e.user,e.anonUser])}(d),t=d,(0,m.useEffect)(()=>{t.user&&ne.useTasksStore.getState().fetchUserTasks().catch(e=>{(0,w.logError)("loadout","Failed to load user tasks",e)}).finally(()=>ne.useTasksStore.getState().setInitialized())},[t.user]),(0,a6.useRoutingSync)(),function(){let[e,t]=m.default.useState(null);(0,m.useEffect)(()=>{t(function(){let e=!1,t=0,s=0,a=null,n="";function r(){"visible"===document.visibilityState&&(e||(e=!0,t=performance.now()),null!==a&&clearTimeout(a),a=setTimeout(i,1e4))}function i(){if(e){e=!1;let a=performance.now()-t;s+=a,(0,w.logEventGlobal)("session_active_time",a.toString(),{location:"session-tracker",sessionActiveTimeMs:a.toString(),totalActiveTimeMs:s.toString(),page:n})}}return document.addEventListener("mousemove",S.default.throttle(r,500)),document.addEventListener("keydown",S.default.throttle(r,500)),document.addEventListener("click",S.default.throttle(r,500)),document.addEventListener("scroll",S.default.throttle(r,500)),document.addEventListener("visibilitychange",()=>{"hidden"===document.visibilityState&&e&&i(),"visible"!==document.visibilityState||e||r()}),window.addEventListener("beforeunload",()=>{e&&i()}),{pageChanged:function(e){n!==e&&(i(),n=e,r())}}}())},[]);let{route:{page:s}}=(0,f.useRouting)(),a=(0,ty.useChatPageStore)(e=>e.conversationMode),n=s||"";["chat","main"].includes(n)&&"voice"===a&&(n="voice"),(0,m.useEffect)(()=>{e&&e.pageChanged(n)},[e,n])}(),(0,m.useEffect)(()=>{console.info("\nâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–“\nâ–‘                                        â–‘\nâ–‘                                        â–‘\nâ–‘                                 â–‘â–’â–‘    â–‘\nâ–‘                â–‘â–‘â–’â–’â–’â–’â–’â–‘â–‘â–‘     â–‘â–ˆâ–‘      â–‘\nâ–‘            â–‘â–’â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–“â–‘ â–’â–ˆâ–ˆâ–‘       â–‘\nâ–‘          â–‘â–ˆâ–ˆâ–ˆâ–ˆâ–“â–‘         â–‘â–“â–ˆâ–ˆâ–ˆâ–‘        â–‘\nâ–‘         â–‘â–ˆâ–ˆâ–ˆâ–’          â–‘â–“â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘        â–‘\nâ–‘         â–ˆâ–ˆâ–ˆâ–‘         â–‘â–ˆâ–ˆâ–’  â–“â–ˆâ–ˆâ–ˆâ–‘       â–‘\nâ–‘        â–‘â–ˆâ–ˆâ–ˆâ–‘       â–’â–ˆâ–’      â–ˆâ–ˆâ–ˆâ–‘       â–‘\nâ–‘         â–ˆâ–ˆâ–ˆâ–‘     â–’â–‘â–‘       â–’â–ˆâ–ˆâ–ˆâ–‘       â–‘\nâ–‘         â–’â–ˆâ–ˆâ–ˆâ–‘             â–‘â–ˆâ–ˆâ–ˆâ–‘        â–‘\nâ–‘         â–‘â–ˆâ–ˆâ–ˆâ–“â–‘         â–‘â–’â–ˆâ–ˆâ–ˆâ–ˆâ–‘         â–‘\nâ–‘         â–“â–ˆâ–‘ â–‘â–’â–“â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘           â–‘\nâ–‘       â–’â–’â–‘     â–‘â–‘â–’â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–’â–‘â–‘              â–‘\nâ–‘     â–’â–‘                                 â–‘\nâ–‘                                        â–‘\nâ–‘                                        â–‘\nâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–“\n\nCurious? Join us at https://x.ai/careers")},[]),(0,m.useEffect)(()=>{function e(){!nt.ReloadLock.isLocked()&&document.hidden&&ns&&Date.now()-ns>=108e5&&!nn.includes(window.location.pathname)&&location.reload()}function t(){document.hidden?(ns=Date.now(),na=setTimeout(e,108e5)):(ns=null,na&&(clearTimeout(na),na=null))}return document.addEventListener("visibilitychange",t),()=>{document.removeEventListener("visibilitychange",t)}},[]),(0,a9.useSuggestionStoreInit)(),(0,m.useEffect)(()=>{try{if(!("PressureObserver"in window))return;let e=new window.PressureObserver(e=>{var t,s;let a=e[e.length-1];a&&(0,w.logMetric)("client",{type:"pressure_observer",source:(t=a.source,a4.includes(t)?t:"other"),state:(s=a.state,a3.includes(s)?s:"other")})});try{let t=e.observe("cpu",{sampleInterval:5e3});return()=>{t.finally(()=>{e.disconnect()})}}catch(e){}return}catch(e){}},[]),(0,tC.useCleanupLocalStorage)(),(0,a5.useNotificationsStoreInit)(),(0,m.useEffect)(()=>{if(!o)return void l("loadout_not_success",String(o),{location:"loadout"});l("loadout_success",String(o),{location:"loadout"})},[l,o]);let{route:F}=(0,f.useRouting)(),z=(0,m.useMemo)(()=>(null==u?void 0:u.startsWith("/imagine-carpet"))||(null==u?void 0:u.startsWith("/ani"))||(null==u?void 0:u.startsWith("/rudi"))||(null==u?void 0:u.startsWith("/badrudi"))||(null==u?void 0:u.startsWith("/mika"))||(null==u?void 0:u.startsWith("/valentine")),[u]),B=(0,m.useMemo)(()=>null==u?void 0:u.startsWith("/render"),[u]),G=(0,m.useMemo)(()=>B||z,[B,z]);return(0,a.jsxs)(b.TooltipProvider,{delayDuration:100,skipDelayDuration:0,disableHoverableContent:!0,children:[(0,a.jsxs)(y.SsrGuard,{children:[(0,a.jsx)(nd,{},"report-dialog"),d.user&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(iG,{},"".concat(M,"-task-dialog")),(0,a.jsx)(op,{})]}),(0,a.jsx)(A.EnterpriseWrapper,{requireSelectedTeam:!0,children:(0,a.jsx)(er,{})}),(0,a.jsx)(sb,{}),(0,a.jsx)(P.CommandMenu,{}),(0,a.jsx)(L.DebugMenu,{}),r.ENABLE_GLOBAL_IMAGE_EDITOR?(0,a.jsx)(ed.ImageEditorDialog,{}):null]}),(0,a.jsxs)(nr.SidePanelProvider,{children:[!G&&(0,a.jsx)(x,{}),r.SHOW_STARRY_IDLE&&R&&"main"===F.page&&(0,a.jsx)(ec,{inactivityDelay:1e4,fadeDuration:1e4,children:(0,a.jsx)(sj,{})}),!G&&d.user&&(0,a.jsx)(O.AppSidebarV2,{}),(0,a.jsxs)("div",{className:"flex w-full h-full overflow-hidden @container/mainview",children:["ios"===c&&!G&&(0,a.jsx)(ev,{}),h&&(0,a.jsx)(n.Over18Verification,{onStateUpdate:_,ageVerificationBehavior:g}),(0,a.jsxs)(a2,{children:[s,d.user?(0,a.jsx)(sZ,{}):null]})]}),(0,a.jsxs)(y.SsrGuard,{children:[(0,a.jsx)(nr.SidePanel,{}),(0,a.jsx)(ot,{}),(0,a.jsx)(k.UpsellFlow,{}),(0,a.jsx)(og,{})]})]}),K&&!1,(0,a.jsx)(y.SsrGuard,{children:(0,a.jsx)(s0,{})})]})}function og(){let{t:e}=(0,E.useTranslation)("base"),t=(()=>{let[e,t]=(0,m.useState)(!0);return(0,m.useEffect)(()=>{let e=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",e),window.addEventListener("offline",s),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",s)}},[]),e})(),s=(0,m.useRef)(null);return(0,m.useEffect)(()=>{t||s.current?s.current&&(M.toast.dismiss(s.current),s.current=null):s.current=M.toast.error(e("You are offline","You are offline"),{duration:1/0})},[t]),null}},233164,e=>{"use strict";e.s(["SessionStoreInit",()=>c]);var t=e.i(962339),s=e.i(486492),a=e.i(421593),n=e.i(128803),r=e.i(533431),i=e.i(572848),o=e.i(72290),l=e.i(647245);let c=()=>{let{DATA_GATEWAY_API_KEY:e}=(0,o.useEnvironment)(),[c,d]=(0,n.useLocalStorage)(t.ANON_USER_ID_LOCAL_STORAGE_KEY),[u,h]=(0,n.useLocalStorage)(t.ANON_PRIVATE_KEY_LOCAL_STORAGE_KEY),{user:m,anonUser:p,pendingAnonUserToken:f,refreshAnonUser:g}=(0,i.useSession)(),x=(0,a.useRef)(!1),_=(0,a.useCallback)(async s=>{let a=await (0,t.generateNewAnonUser)(s);if(!a)throw Error("Failed to generate new anon user");let{anonUserId:n,privateKey:r}=a;d(n),h(r),l.useFeatureStore.getState().refreshConfig({apiKey:e,userId:n}),await g(n,r)},[d,h,e,g]);return(0,a.useEffect)(()=>{m||c&&u&&p||x.current||(x.current=!0,(async()=>{c&&u&&!f?await g(c,u).catch(()=>_()):await _(f)})().catch(e=>{r.toast.error("Failed to initialize session"),(0,s.logError)("session-store-init",e)}).finally(()=>{x.current=!1}))},[c,u]),null}},935504,e=>{"use strict";e.s(["ConnectRpcProvider",()=>n],935504);var t=e.i(247276);e.i(254854);var s=e.i(310366),s=s;let a=(0,e.i(346418).createClientTransport)("grok-web");function n(e){let{children:n}=e;return(0,t.jsx)(s.TransportProvider,{transport:a,children:n})}},146971,e=>{"use strict";e.s(["CollectionModalButton",()=>S,"CollectionsPicker",()=>y],146971);var t=e.i(247276);e.i(685846);var s=e.i(376212),s=s,a=e.i(862428),n=e.i(763578),r=e.i(902572),i=e.i(687712),o=e.i(70872),l=e.i(355524),c=e.i(540512),d=e.i(395395),u=e.i(328788),h=e.i(211959),m=e.i(295451),p=e.i(712548),f=e.i(633918),g=e.i(421593),x=e.i(908793);e.i(18545);var _=e.i(116212),v=e.i(246429);let y=e=>{let{modelIdToRenderOn:s}=e,[a,n]=(0,g.useState)(null),r=(0,v.useChatPageStore)(f.prop("activeModelId")),i=(0,p.usePathname)(),o=function(){let e=(0,p.usePathname)(),t=(0,u.useMobileSize)();return"/"===e?t?"experiments-container-mobile":"experiments-container":e.includes("/c/")?"experiments-container-navbar":null}();return((0,g.useEffect)(()=>{if(r!==s||!o)return;let e=document.getElementById(o);if(e)return void n(e);let t=new MutationObserver(()=>{let e=document.getElementById(o);e&&(n(e),t.disconnect())});return t.observe(document.body,{childList:!0,subtree:!0}),()=>t.disconnect()},[r,s,o]),a&&r===s)?"/"===i?(0,t.jsx)(t.Fragment,{children:(0,x.createPortal)((0,t.jsx)(b,{}),a)}):i.includes("/c/")?(0,t.jsx)(t.Fragment,{children:(0,x.createPortal)((0,t.jsx)(S,{variant:"Icon"}),a)}):null:null},b=()=>{let{data:e}=(0,c.useListCollections)();return e?e.length>0&&e.length<5?(0,t.jsx)(j,{}):(0,t.jsx)("div",{className:"w-full space-y-3 px-4 mt-7",children:(0,t.jsx)(S,{})}):null},k=[];function j(){var e;let{t:s}=(0,_.useTranslation)("base"),{conversationIdOrDefault:n}=(0,d.useConversationIdOrDefault)(),i=(0,m.useCollectionsStore)(e=>e.toggleCollectionId),o=(0,m.useCollectionsStore)(e=>e.collectionIdsByConversationId),{data:l}=(0,c.useListCollections)(),u=null!=(e=o[n])?e:k,p=(0,g.useCallback)(e=>{i(e,n)},[i,n]);return l?(0,t.jsxs)("div",{className:"w-full space-y-3 px-4 mt-7",children:[(0,t.jsx)("div",{className:"text-base font-semibold text-fg-primary",children:s("collections.title","Collections")}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:l.map(e=>{var s;let n=u.includes(null!=(s=e.collectionId)?s:"");return(0,t.jsxs)(a.Badge,{variant:n?"secondary":"outline",className:(0,h.cn)("flex items-center gap-2 px-4 py-2 cursor-pointer transition-all duration-150",n?"bg-surface-l2 border-border-l2 hover:bg-surface-l2/90":"bg-surface-base border-border-l1 hover:bg-surface-base/80 hover:border-border-l2"),onClick:()=>{var t;p(null!=(t=e.collectionId)?t:"")},children:[(0,t.jsx)(r.Checkbox,{id:"collection-inline-".concat(e.collectionId),checked:n,className:"shrink-0 pointer-events-none"}),(0,t.jsx)("label",{htmlFor:"collection-inline-".concat(e.collectionId),className:(0,h.cn)("text-sm font-medium cursor-pointer select-none",n?"text-fg-primary":"text-fg-secondary"),children:e.collectionName})]},e.collectionId)})})]}):null}function w(e){var s;let{open:a,onOpenChange:l,collections:c}=e,{t:u}=(0,_.useTranslation)("base"),[p,f]=(0,g.useState)(""),{conversationIdOrDefault:x}=(0,d.useConversationIdOrDefault)(),v=(0,m.useCollectionsStore)(e=>e.toggleCollectionId),y=null!=(s=(0,m.useCollectionsStore)(e=>e.collectionIdsByConversationId)[x])?s:k,b=(0,g.useMemo)(()=>c.filter(e=>e.collectionName&&e.collectionName.toLowerCase().includes(p.toLowerCase())),[c,p]),j=(0,g.useCallback)(e=>{v(e,x)},[v,x]),w=(0,g.useCallback)(()=>{l(!1)},[l]);return(0,t.jsx)(i.Dialog,{open:a,onOpenChange:l,children:(0,t.jsxs)(i.DialogContent,{className:"w-full px-6 max-w-xs sm:max-w-md m md:mx-4 rounded-2xl border border-border-l2 p-0 overflow-hidden",children:[(0,t.jsxs)(i.DialogHeader,{className:"px-6 pt-6 pb-4 border-b border-border-l1",children:[(0,t.jsx)(i.DialogTitle,{className:"text-lg font-semibold text-fg-primary",children:u("select-collections.title","Select Collections")}),(0,t.jsx)(i.DialogDescription,{className:"text-sm text-fg-secondary mt-1",children:u("select-collections.description","Choose collections to attach.")})]}),(0,t.jsxs)("div",{className:"px-6 py-4 space-y-4",children:[(0,t.jsx)(o.Input,{placeholder:u("select-collections.search","Search collections..."),value:p,onChange:e=>f(e.target.value),className:"w-full"}),(0,t.jsx)("div",{className:"max-h-[400px] overflow-y-auto space-y-2 pr-2",children:b.length>0?b.map(e=>{var s,a;let n=y.includes(null!=(s=e.collectionId)?s:"");return(0,t.jsxs)("div",{onClick:()=>{var t;j(null!=(t=e.collectionId)?t:"")},className:(0,h.cn)("flex items-center gap-3 p-3 rounded-xl border transition-all duration-150 cursor-pointer","hover:bg-surface-l1 hover:border-border-l2",n?"bg-surface-l2 border-border-l2 ":"bg-surface-base border-border-l1"),children:[(0,t.jsx)(r.Checkbox,{id:"collection-".concat(null!=(a=e.collectionId)?a:""),checked:n,className:"shrink-0",onClick:e=>e.stopPropagation(),onCheckedChange:()=>{var t;j(null!=(t=e.collectionId)?t:"")}}),(0,t.jsx)("label",{htmlFor:"collection-".concat(e.collectionId),className:(0,h.cn)("text-sm font-medium flex-1 cursor-pointer select-none",n?"text-fg-primary":"text-fg-secondary"),children:e.collectionName})]},e.collectionId)}):(0,t.jsx)("div",{className:"py-12 text-center",children:(0,t.jsx)("p",{className:"text-sm text-fg-secondary",children:u("select-collections.no-results","No collections found.")})})})]}),(0,t.jsx)(i.DialogFooter,{className:"px-6 py-4 border-t border-border-l1 bg-surface-l1",children:(0,t.jsx)(n.Button,{variant:"outline",onClick:w,className:"w-full",children:u("cancel","Cancel")})})]})})}let S=e=>{var a;let{variant:r="Button"}=e,{t:i}=(0,_.useTranslation)("base"),[o,u]=(0,g.useState)(!1),{data:p}=(0,c.useListCollections)(),{conversationIdOrDefault:f}=(0,d.useConversationIdOrDefault)(),x=(null!=(a=(0,m.useCollectionsStore)(e=>e.collectionIdsByConversationId)[f])?a:[]).length||0;return p?"Icon"===r?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.TooltipProvider,{children:(0,t.jsxs)(l.Tooltip,{children:[(0,t.jsx)(l.TooltipTrigger,{asChild:!0,children:(0,t.jsxs)(n.Button,{type:"button",className:(0,h.cn)("h-9 w-9 p-0 rounded-xl","hover:bg-button-ghost-hover transition-colors duration-100","text-fg-primary hover:text-fg-primary relative"),variant:"ghost","aria-label":i("attach-dropdown.collections","Collections"),onClick:()=>u(!0),children:[(0,t.jsx)(s.default,{size:18}),x>0&&(0,t.jsx)("span",{className:"absolute -top-1 -right-1 text-[12px] text-fg-primary bg-surface-l2 border border-border-l2 px-0.5 py-0.5 rounded-full min-w-6 min-h-6 text-center",children:x})]})}),(0,t.jsx)(l.TooltipContent,{children:(0,t.jsx)("p",{children:i("collections.select","Select Collections")})})]})}),(0,t.jsx)(w,{open:o,onOpenChange:u,collections:p})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.Button,{type:"button",className:(0,h.cn)("w-full justify-between border border-border-l2 rounded-xl px-4 py-3","hover:bg-button-ghost-hover transition-colors duration-100","text-fg-primary hover:text-fg-primary"),variant:"outline","aria-label":i("attach-dropdown.collections","Collections"),onClick:()=>u(!0),children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(s.default,{className:"text-fg-secondary",size:18}),(0,t.jsx)("span",{className:"text-sm font-medium",children:i("collections.select","Select Collections")}),x>0&&(0,t.jsx)("span",{className:"ms-1 text-xs text-fg-secondary bg-surface-l2 px-2 py-0.5 rounded-full",children:x})]})}),(0,t.jsx)(w,{open:o,onOpenChange:u,collections:p})]}):null}}]);

//# sourceMappingURL=b6c7dd3b8f39213f.js.map
//# debugId=2183bffa-0a30-5283-9f4d-2d83ae230724
